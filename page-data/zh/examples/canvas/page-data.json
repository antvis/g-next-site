{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-site-templates-example-tsx","path":"/zh/examples/canvas","result":{"data":{"site":{"siteMetadata":{"title":"G","galleryMenuCloseAll":false,"examples":[{"slug":"scenegraph","icon":null,"title":{"zh":"场景图","en":"Scene Graph"}},{"slug":"shape","icon":null,"title":{"zh":"基本图形","en":"Shape"}},{"slug":"event","icon":null,"title":{"zh":"事件","en":"Event"}},{"slug":"animation","icon":null,"title":{"zh":"动画","en":"Animation"}},{"slug":"perf","icon":null,"title":{"zh":"性能","en":"Performance"}}],"playground":{"container":null,"playgroundDidMount":null,"playgroundWillUnmount":null,"dependencies":null,"htmlCodeTemplate":null}},"pathPrefix":""},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/zh/examples/shape"},"frontmatter":{"title":"基础图形","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"shape/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/canvas"},"frontmatter":{"title":"Canvas","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"canvas/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/canvas"},"frontmatter":{"title":"画布","order":0,"icon":null},"parent":{"__typename":"File","relativePath":"canvas/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/scenegraph"},"frontmatter":{"title":"场景图","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"scenegraph/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/scenegraph"},"frontmatter":{"title":"SceneGraph","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"scenegraph/index.en.md"}}},{"node":{"fields":{"slug":"/en/examples/perf/instance"},"frontmatter":{"title":"Performance","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"perf/instance/index.en.md"}}},{"node":{"fields":{"slug":"/en/examples/event/shape"},"frontmatter":{"title":"Event","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"event/shape/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/event/shape"},"frontmatter":{"title":"事件","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"event/shape/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/perf/instance"},"frontmatter":{"title":"性能","order":2,"icon":null},"parent":{"__typename":"File","relativePath":"perf/instance/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/guide"},"frontmatter":{"title":"Guide","order":10,"icon":null},"parent":{"__typename":"File","relativePath":"guide/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/guide"},"frontmatter":{"title":"教程","order":10,"icon":null},"parent":{"__typename":"File","relativePath":"guide/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/plugins"},"frontmatter":{"title":"Camera","order":10,"icon":null},"parent":{"__typename":"File","relativePath":"plugins/index.en.md"}}},{"node":{"fields":{"slug":"/en/examples/camera"},"frontmatter":{"title":"Camera","order":10,"icon":null},"parent":{"__typename":"File","relativePath":"camera/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/camera"},"frontmatter":{"title":"相机","order":10,"icon":null},"parent":{"__typename":"File","relativePath":"camera/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/animation"},"frontmatter":{"title":"Animation","order":10,"icon":null},"parent":{"__typename":"File","relativePath":"animation/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/animation"},"frontmatter":{"title":"动画","order":10,"icon":null},"parent":{"__typename":"File","relativePath":"animation/index.zh.md"}}},{"node":{"fields":{"slug":"/en/examples/shape"},"frontmatter":{"title":"Plugins","order":11,"icon":null},"parent":{"__typename":"File","relativePath":"shape/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/plugins"},"frontmatter":{"title":"插件","order":11,"icon":null},"parent":{"__typename":"File","relativePath":"plugins/index.zh.md"}}}]}},"pageContext":{"allDemos":[{"relativePath":"shape/demo/circle.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/circle.js","order":0,"filename":"circle.js","title":{"zh":"圆","en":"Circle"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FfHBTr2ACAkAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/ellipse.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/ellipse.js","order":1,"filename":"ellipse.js","title":{"zh":"椭圆","en":"Ellipse"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8eoKRbfOwgAAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/cube.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/cube.js","order":10,"filename":"cube.js","title":{"zh":"立方体","en":"Cube"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*EzqjQYMeYoMAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/arrow.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/arrow.js","order":9,"filename":"arrow.js","title":{"zh":"箭头","en":"Arrow"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*EzqjQYMeYoMAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/image.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/image.js","order":3,"filename":"image.js","title":{"zh":"图片","en":"Image"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*OIAmRpwhNWYAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/grid.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/grid.js","order":11,"filename":"grid.js","title":{"zh":"网格","en":"Grid"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*EzqjQYMeYoMAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/line.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/line.js","order":4,"filename":"line.js","title":{"zh":"直线","en":"Line"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*7YsyTJDA_CMAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/path.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/path.js","order":8,"filename":"path.js","title":{"zh":"路径","en":"Path"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*nw3DSKlj9t4AAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/polyline.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/polyline.js","order":5,"filename":"polyline.js","title":{"zh":"折线","en":"Polyline"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*bo4rRK0U8PIAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/polygon.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/polygon.js","order":6,"filename":"polygon.js","title":{"zh":"多边形","en":"Polygon"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*ooeZRJF65nIAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"shape/demo/rect.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/rect.js","order":2,"filename":"rect.js","title":{"zh":"矩形","en":"Rectangle"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*owKfQKVFG1wAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"scenegraph/demo/hierarchy.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/scenegraph/demo/hierarchy.js","order":0,"filename":"hierarchy.js","title":{"zh":"层次结构","en":"Hierarchy"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*ZcrHSoLxRS8AAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"场景图","order":101},"en":{"title":"SceneGraph","order":101}}},{"relativePath":"shape/demo/text.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/shape/demo/text.js","order":7,"filename":"text.js","title":{"zh":"文本","en":"Text"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FdtgQLndl8IAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Plugins","order":211},"zh":{"title":"基础图形","order":200}}},{"relativePath":"scenegraph/demo/origin.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/scenegraph/demo/origin.js","order":2,"filename":"origin.js","title":{"zh":"旋转和缩放中心","en":"Origin"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*E7OfQ5-uVgYAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"场景图","order":101},"en":{"title":"SceneGraph","order":101}}},{"relativePath":"scenegraph/demo/transform.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/scenegraph/demo/transform.js","order":1,"filename":"transform.js","title":{"zh":"变换","en":"Transform"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*ZcrHSoLxRS8AAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"场景图","order":101},"en":{"title":"SceneGraph","order":101}}},{"relativePath":"scenegraph/demo/visibility.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/scenegraph/demo/visibility.js","order":3,"filename":"visibility.js","title":{"zh":"可见性和展示次序","en":"Visibility & Z-index"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*ZcrHSoLxRS8AAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"场景图","order":101},"en":{"title":"SceneGraph","order":101}}},{"relativePath":"plugins/demo/css-select.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/plugins/demo/css-select.js","order":0,"filename":"css-select.js","title":{"zh":"CSS 选择器插件","en":"CSS Selector Plugin"},"postFrontmatter":{"zh":{"title":"插件","order":11},"en":{"title":"Camera","order":10}}},{"relativePath":"perf/instance/demo/canvas-dirty-rectangle.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/perf/instance/demo/canvas-dirty-rectangle.js","order":1,"filename":"canvas-dirty-rectangle.js","title":{"zh":"脏矩形渲染(Canvas)","en":"Rendering with dirty rectangle(Canvas)"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FfHBTr2ACAkAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Performance","order":501},"zh":{"title":"性能","order":502}}},{"relativePath":"perf/instance/demo/webgl-instancing.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/perf/instance/demo/webgl-instancing.js","order":0,"filename":"webgl-instancing.js","title":{"zh":"动画场景","en":"Animation"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FfHBTr2ACAkAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Performance","order":501},"zh":{"title":"性能","order":502}}},{"relativePath":"perf/instance/demo/canvas-instancing.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/perf/instance/demo/canvas-instancing.js","order":-1,"filename":"canvas-instancing.js","postFrontmatter":{"en":{"title":"Performance","order":501},"zh":{"title":"性能","order":502}}},{"relativePath":"guide/demo/chapter2.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/guide/demo/chapter2.js","order":0,"filename":"chapter2.js","title":{"zh":"使用渲染器","en":"Use renderer"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FfHBTr2ACAkAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Guide","order":10},"zh":{"title":"教程","order":10}}},{"relativePath":"event/shape/demo/drag-bug.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/event/shape/demo/drag-bug.js","order":4,"filename":"drag-bug.js","title":{"zh":"拖拽残影问题","en":"Dragging"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*gYBQQph9kkUAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Event","order":301},"zh":{"title":"事件","order":301}}},{"relativePath":"event/shape/demo/circle.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/event/shape/demo/circle.js","order":1,"filename":"circle.js","title":{"zh":"单个圆拾取","en":"Single circle picking"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*xJB7TY68IVUAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Event","order":301},"zh":{"title":"事件","order":301}}},{"relativePath":"event/shape/demo/circles.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/event/shape/demo/circles.js","order":2,"filename":"circles.js","title":{"zh":"多个圆拾取","en":"Multiple circle picking"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*dc0NTrzOwHYAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Event","order":301},"zh":{"title":"事件","order":301}}},{"relativePath":"event/shape/demo/drag.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/event/shape/demo/drag.js","order":3,"filename":"drag.js","title":{"zh":"拖拽","en":"Dragging"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*gYBQQph9kkUAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Event","order":301},"zh":{"title":"事件","order":301}}},{"relativePath":"event/shape/demo/shapes.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/event/shape/demo/shapes.js","order":0,"filename":"shapes.js","title":{"zh":"多种图形拾取","en":"Multiple shapes picking"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*xJB7TY68IVUAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Event","order":301},"zh":{"title":"事件","order":301}}},{"relativePath":"canvas/demo/rendering-on-demand.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/canvas/demo/rendering-on-demand.js","order":1,"filename":"rendering-on-demand.js","title":{"zh":"按需渲染","en":"Rendering on demand"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FfHBTr2ACAkAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Canvas","order":0},"zh":{"title":"画布","order":0}}},{"relativePath":"canvas/demo/multi-canvas.tsx","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/canvas/demo/multi-canvas.tsx","order":0,"filename":"multi-canvas.tsx","title":{"zh":"多个画布","en":"Multiple canvas"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*L3OdRpd5UpIAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Canvas","order":0},"zh":{"title":"画布","order":0}}},{"relativePath":"camera/demo/perspective.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/camera/demo/perspective.js","order":1,"filename":"perspective.js","title":{"zh":"透视投影相机","en":"Perspective camera"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8KT3Q4bNd1YAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Camera","order":10},"zh":{"title":"相机","order":10}}},{"relativePath":"camera/demo/ortho.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/camera/demo/ortho.js","order":0,"filename":"ortho.js","title":{"zh":"正交投影相机","en":"Orthographic camera"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*D0XmSIyniZAAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Camera","order":10},"zh":{"title":"相机","order":10}}},{"relativePath":"camera/demo/landmark.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/camera/demo/landmark.js","order":2,"filename":"landmark.js","title":{"zh":"相机动画","en":"Landmark"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*goX8QqgVSMEAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"en":{"title":"Camera","order":10},"zh":{"title":"相机","order":10}}},{"relativePath":"animation/demo/multiple-attributes.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/animation/demo/multiple-attributes.js","order":1,"filename":"multiple-attributes.js","title":{"zh":"多属性动画","en":"Animation for multiple attributes"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*dZ03S7gEjz8AAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Animation","order":410},"zh":{"title":"动画","order":410}}},{"relativePath":"animation/demo/single-attribute.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/animation/demo/single-attribute.js","order":0,"filename":"single-attribute.js","title":{"zh":"单属性动画","en":"Animation for single attribute"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*hafUTp9MrfYAAAAAAAAAAABkARQnAQ","postFrontmatter":{"en":{"title":"Animation","order":410},"zh":{"title":"动画","order":410}}}],"exampleSections":{"examples":[{"relativePath":"canvas/demo/multi-canvas.tsx","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/canvas/demo/multi-canvas.tsx","order":0,"filename":"multi-canvas.tsx","title":{"zh":"多个画布","en":"Multiple canvas"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*L3OdRpd5UpIAAAAAAAAAAAAAARQnAQ","source":"import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport SplitPane from 'react-split-pane';\nimport Stats from 'stats.js';\nimport { Canvas, Group } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Cube, Grid, containerModule } from '@antv/g-plugin-3d';\n\n// scene1 + scene2\nconst TOTAL_WIDTH = 600;\nconst SCENE_HEIGHT = 500;\n\nconst App = function MultiWorld() {\n  let canvas1;\n  let canvas2;\n  useEffect(() => {\n    const stats = new Stats();\n    stats.showPanel(0);\n    const $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    const $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n\n    // create a webgl renderer\n    const webglRenderer1 = new WebGLRenderer();\n    webglRenderer1.registerPlugin(containerModule);\n\n    const webglRenderer2 = new WebGLRenderer();\n    webglRenderer2.registerPlugin(containerModule);\n\n    // create a canvas\n    canvas1 = new Canvas({\n      container: 'container1',\n      width: TOTAL_WIDTH / 2,\n      height: SCENE_HEIGHT,\n      renderer: webglRenderer1,\n    });\n\n    canvas2 = new Canvas({\n      container: 'container2',\n      width: TOTAL_WIDTH / 2,\n      height: SCENE_HEIGHT,\n      renderer: webglRenderer2,\n    });\n\n    // scene 1\n    const camera1 = canvas1.getCamera();\n    camera1\n      .setPosition(150, 20, 500)\n      .setFocalPoint(150, 250, 0)\n      .setPerspective(0.1, 1000, 75, TOTAL_WIDTH / 2 / SCENE_HEIGHT);\n\n    const group1 = new Group();\n    const cube1 = new Cube({\n      attrs: {\n        width: 200,\n        height: 200,\n        depth: 200,\n        fill: '#1890FF',\n      },\n    });\n    const grid1 = new Grid({\n      attrs: {\n        width: 400,\n        height: 400,\n        depth: 400,\n        fill: '#1890FF',\n      },\n    });\n    group1.appendChild(grid1);\n    grid1.translateLocal(0, 100, 0);\n    group1.appendChild(cube1);\n    group1.setPosition(150, 250, 0);\n    canvas1.appendChild(group1);\n\n    // scene2\n    const camera2 = canvas2.getCamera();\n    camera2\n      .setPosition(150, 20, 500)\n      .setFocalPoint(150, 250, 0);\n\n    const group2 = new Group();\n    const cube2 = new Cube({\n      attrs: {\n        width: 200,\n        height: 200,\n        depth: 200,\n        fill: '#1890FF',\n      },\n    });\n    const grid2 = new Grid({\n      attrs: {\n        width: 400,\n        height: 400,\n        depth: 400,\n        fill: '#1890FF',\n      },\n    });\n    group2.appendChild(grid2);\n    grid2.translateLocal(0, 100, 0);\n    group2.appendChild(cube2);\n    group2.setPosition(150, 250, 0);\n    canvas2.appendChild(group2);\n  });\n\n  return (\n    <>\n      <SplitPane\n        split=\"vertical\"\n        defaultSize={TOTAL_WIDTH / 2}\n        onChange={(width) => {\n          canvas1.resize(width, SCENE_HEIGHT);\n          canvas2.resize(TOTAL_WIDTH - width, SCENE_HEIGHT);\n        }}\n      >\n        <div id='container1' style={{\n          width: '100%',\n          height: '100%',\n        }} />\n        <div id='container2' style={{\n          width: '100%',\n          height: '100%',\n        }} />\n      </SplitPane>\n    </>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('container'));\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"react-split-pane\", \"stats.js\", \"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"react-split-pane\"), require(\"stats.js\"), require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.reactSplitPane, global.stats, global.g, global.gWebgl, global.gPlugin3d);\n    global.multiCanvas = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _reactSplitPane, _stats, _g, _gWebgl, _gPlugin3d) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _reactSplitPane = _interopRequireDefault(_reactSplitPane);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // scene1 + scene2\n  var TOTAL_WIDTH = 600;\n  var SCENE_HEIGHT = 500;\n\n  var App = function MultiWorld() {\n    var canvas1;\n    var canvas2;\n    (0, _react.useEffect)(function () {\n      var stats = new _stats.default();\n      stats.showPanel(0);\n      var $stats = stats.dom;\n      $stats.style.position = 'absolute';\n      $stats.style.left = '0px';\n      $stats.style.top = '0px';\n      var $wrapper = document.getElementById('container');\n      $wrapper.appendChild($stats); // create a webgl renderer\n\n      var webglRenderer1 = new _gWebgl.Renderer();\n      webglRenderer1.registerPlugin(_gPlugin3d.containerModule);\n      var webglRenderer2 = new _gWebgl.Renderer();\n      webglRenderer2.registerPlugin(_gPlugin3d.containerModule); // create a canvas\n\n      canvas1 = new _g.Canvas({\n        container: 'container1',\n        width: TOTAL_WIDTH / 2,\n        height: SCENE_HEIGHT,\n        renderer: webglRenderer1\n      });\n      canvas2 = new _g.Canvas({\n        container: 'container2',\n        width: TOTAL_WIDTH / 2,\n        height: SCENE_HEIGHT,\n        renderer: webglRenderer2\n      }); // scene 1\n\n      var camera1 = canvas1.getCamera();\n      camera1.setPosition(150, 20, 500).setFocalPoint(150, 250, 0).setPerspective(0.1, 1000, 75, TOTAL_WIDTH / 2 / SCENE_HEIGHT);\n      var group1 = new _g.Group();\n      var cube1 = new _gPlugin3d.Cube({\n        attrs: {\n          width: 200,\n          height: 200,\n          depth: 200,\n          fill: '#1890FF'\n        }\n      });\n      var grid1 = new _gPlugin3d.Grid({\n        attrs: {\n          width: 400,\n          height: 400,\n          depth: 400,\n          fill: '#1890FF'\n        }\n      });\n      group1.appendChild(grid1);\n      grid1.translateLocal(0, 100, 0);\n      group1.appendChild(cube1);\n      group1.setPosition(150, 250, 0);\n      canvas1.appendChild(group1); // scene2\n\n      var camera2 = canvas2.getCamera();\n      camera2.setPosition(150, 20, 500).setFocalPoint(150, 250, 0);\n      var group2 = new _g.Group();\n      var cube2 = new _gPlugin3d.Cube({\n        attrs: {\n          width: 200,\n          height: 200,\n          depth: 200,\n          fill: '#1890FF'\n        }\n      });\n      var grid2 = new _gPlugin3d.Grid({\n        attrs: {\n          width: 400,\n          height: 400,\n          depth: 400,\n          fill: '#1890FF'\n        }\n      });\n      group2.appendChild(grid2);\n      grid2.translateLocal(0, 100, 0);\n      group2.appendChild(cube2);\n      group2.setPosition(150, 250, 0);\n      canvas2.appendChild(group2);\n    });\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_reactSplitPane.default, {\n      split: \"vertical\",\n      defaultSize: TOTAL_WIDTH / 2,\n      onChange: function onChange(width) {\n        canvas1.resize(width, SCENE_HEIGHT);\n        canvas2.resize(TOTAL_WIDTH - width, SCENE_HEIGHT);\n      }\n    }, /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: \"container1\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }), /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: \"container2\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    })));\n  };\n\n  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, null), document.getElementById('container'));\n});"},{"relativePath":"canvas/demo/rendering-on-demand.js","absolutePath":"/Users/pyq/workspace/ant/g/packages/site/examples/canvas/demo/rendering-on-demand.js","order":1,"filename":"rendering-on-demand.js","title":{"zh":"按需渲染","en":"Rendering on demand"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FfHBTr2ACAkAAAAAAAAAAABkARQnAQ","source":"import { Group, Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as dat from 'dat.gui';\nimport Stats from 'stats.js';\n\n/**\nsolarSystem\n   |    |\n   |   sun\n   |\n earthOrbit\n   |    |\n   |  earth\n   |\n  moonOrbit\n      |\n     moon\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer({\n  enableAutoRendering: false,\n});\nconst webglRenderer = new WebGLRenderer({\n  enableAutoRendering: false,\n});\nconst svgRenderer = new SVGRenderer({\n  enableAutoRendering: false,\n});\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst solarSystem = new Group({\n  id: 'solarSystem',\n});\nconst earthOrbit = new Group({\n  id: 'earthOrbit',\n});\nconst moonOrbit = new Group({\n  id: 'moonOrbit',\n});\n\nconst sun = new Circle({\n  id: 'sun',\n  attrs: {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst earth = new Circle({\n  id: 'earth',\n  attrs: {\n    r: 50,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst moon = new Circle({\n  id: 'moon',\n  attrs: {\n    r: 25,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\nsolarSystem.appendChild(sun);\nsolarSystem.appendChild(earthOrbit);\nearthOrbit.appendChild(earth);\nearthOrbit.appendChild(moonOrbit);\nmoonOrbit.appendChild(moon);\n\nsolarSystem.setPosition(300, 250);\nearthOrbit.translate(100, 0);\nmoonOrbit.translate(100, 0);\n\ncanvas.appendChild(solarSystem);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\n\n// GUI\nconst gui = new dat.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\n// create a main loop\nconst tick = () => {\n  if (stats) {\n    stats.update();\n  }\n\n  // call `render` in each frame\n  canvas.render();\n\n  solarSystem.rotateLocal(1);\n  earthOrbit.rotateLocal(2);\n\n  requestAnimationFrame(tick);\n};\ntick();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"dat.gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"dat.gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.dat, global.stats);\n    global.renderingOnDemand = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, dat, _stats) {\n  \"use strict\";\n\n  dat = _interopRequireWildcard(dat);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n  solarSystem\n     |    |\n     |   sun\n     |\n   earthOrbit\n     |    |\n     |  earth\n     |\n    moonOrbit\n        |\n       moon\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer({\n    enableAutoRendering: false\n  });\n  var webglRenderer = new _gWebgl.Renderer({\n    enableAutoRendering: false\n  });\n  var svgRenderer = new _gSvg.Renderer({\n    enableAutoRendering: false\n  }); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var solarSystem = new _g.Group({\n    id: 'solarSystem'\n  });\n  var earthOrbit = new _g.Group({\n    id: 'earthOrbit'\n  });\n  var moonOrbit = new _g.Group({\n    id: 'moonOrbit'\n  });\n  var sun = new _g.Circle({\n    id: 'sun',\n    attrs: {\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var earth = new _g.Circle({\n    id: 'earth',\n    attrs: {\n      r: 50,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var moon = new _g.Circle({\n    id: 'moon',\n    attrs: {\n      r: 25,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  solarSystem.appendChild(sun);\n  solarSystem.appendChild(earthOrbit);\n  earthOrbit.appendChild(earth);\n  earthOrbit.appendChild(moonOrbit);\n  moonOrbit.appendChild(moon);\n  solarSystem.setPosition(300, 250);\n  earthOrbit.translate(100, 0);\n  moonOrbit.translate(100, 0);\n  canvas.appendChild(solarSystem); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats); // GUI\n\n  var gui = new dat.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open(); // create a main loop\n\n  var tick = function tick() {\n    if (stats) {\n      stats.update();\n    } // call `render` in each frame\n\n\n    canvas.render();\n    solarSystem.rotateLocal(1);\n    earthOrbit.rotateLocal(2);\n    requestAnimationFrame(tick);\n  };\n\n  tick();\n});"}]},"description":""}},"staticQueryHashes":["1976131296","3000541721","3000541721","3378097331","638047554"]}