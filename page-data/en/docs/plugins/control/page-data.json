{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-site-templates-document-tsx","path":"/en/docs/plugins/control","result":{"data":{"site":{"siteMetadata":{"title":"G","githubUrl":"https://github.com/antvis/g","docs":[{"slug":"guide/diving-deeper","title":{"zh":"进阶内容","en":"Diving Deeper"},"order":4},{"slug":"guide/advanced-topics","title":{"zh":"高级话题","en":"Advanced Topics"},"order":5},{"slug":"api/general","title":{"zh":"通用","en":"General"},"order":0},{"slug":"api/canvas","title":{"zh":"画布","en":"Canavs"},"order":0},{"slug":"api/basic","title":{"zh":"基础图形","en":"Basic Shapes"},"order":1},{"slug":"api/advanced","title":{"zh":"高级图形","en":"Advanced Shapes"},"order":2},{"slug":"api/3d","title":{"zh":"三维世界","en":"3D"},"order":3},{"slug":"api/builtin-objects","title":{"zh":"内置对象","en":"Built-in Objects"},"order":3},{"slug":"api/gpgpu","title":{"zh":"GPGPU","en":"GPGPU"},"order":4},{"slug":"api/devtools","title":{"zh":"开发调试工具","en":"Devtools"},"order":5},{"slug":"api/inside-g","title":{"zh":"Inside G","en":"Inside G"},"order":4},{"slug":"plugins","title":{"zh":"插件","en":"Plugins"},"order":null}]},"pathPrefix":""},"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"为 3D 场景提供相机交互，内部使用 Hammer.js。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"安装方式","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F","ariaLabel":"安装方式 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"安装方式"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"创建 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"g-webgl"}]},{"type":"text","value":" 渲染器，注册该插件："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" Renderer "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"as"}]},{"type":"text","value":" WebGLRenderer "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'@antv/g-webgl'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" Plugin "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'@antv/g-plugin-control'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 创建 WebGL 渲染器"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" webglRenderer "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"WebGLRenderer"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 注册 3D 插件"}]},{"type":"text","value":"\nwebglRenderer"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"registerPlugin"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Plugin"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"效果","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E6%95%88%E6%9E%9C","ariaLabel":"效果 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"效果"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/zh/examples/plugins#orbit-control"},"children":[{"type":"text","value":"完整示例"}]},{"type":"text","value":"："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*1u8eRKMbVX8AAAAAAAAAAAAAARQnAQ"},"children":[]}]}],"data":{"quirksMode":false}},"tableOfContents":"<ul>\n<li><a href=\"/en/docs/plugins/control/#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F\">安装方式</a></li>\n<li><a href=\"/en/docs/plugins/control/#%E6%95%88%E6%9E%9C\">效果</a></li>\n</ul>","fields":{"slug":"/en/docs/plugins/control","readingTime":{"text":"1 min read","time":22800}},"frontmatter":{"title":"g-plugin-control","contributors":null},"parent":{"__typename":"File","relativePath":"plugins/control.en.md"}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/en/docs/plugins/intro"},"frontmatter":{"title":"插件系统介绍","order":-100}}},{"node":{"fields":{"slug":"/zh/docs/plugins/intro"},"frontmatter":{"title":"插件系统介绍","order":-100}}},{"node":{"fields":{"slug":"/en/docs/api/canvas"},"frontmatter":{"title":"画布","order":-100}}},{"node":{"fields":{"slug":"/zh/docs/api/canvas"},"frontmatter":{"title":"画布","order":-100}}},{"node":{"fields":{"slug":"/en/docs/api/renderer"},"frontmatter":{"title":"渲染器","order":-99}}},{"node":{"fields":{"slug":"/zh/docs/api/renderer"},"frontmatter":{"title":"渲染器","order":-99}}},{"node":{"fields":{"slug":"/en/docs/api/camera"},"frontmatter":{"title":"相机","order":-98}}},{"node":{"fields":{"slug":"/zh/docs/api/camera"},"frontmatter":{"title":"相机","order":-98}}},{"node":{"fields":{"slug":"/zh/docs/api/animation"},"frontmatter":{"title":"动画","order":-4}}},{"node":{"fields":{"slug":"/en/docs/api/animation"},"frontmatter":{"title":"动画","order":-4}}},{"node":{"fields":{"slug":"/zh/docs/api/event"},"frontmatter":{"title":"事件","order":-3}}},{"node":{"fields":{"slug":"/en/docs/api/event"},"frontmatter":{"title":"事件","order":-3}}},{"node":{"fields":{"slug":"/zh/docs/plugins/box2d"},"frontmatter":{"title":"g-plugin-box2d","order":-1}}},{"node":{"fields":{"slug":"/en/docs/plugins/box2d"},"frontmatter":{"title":"g-plugin-box2d","order":-1}}},{"node":{"fields":{"slug":"/en/docs/plugins/gpgpu"},"frontmatter":{"title":"g-plugin-gpgpu","order":-1}}},{"node":{"fields":{"slug":"/zh/docs/plugins/gpgpu"},"frontmatter":{"title":"g-plugin-gpgpu","order":-1}}},{"node":{"fields":{"slug":"/en/docs/plugins/matterjs"},"frontmatter":{"title":"g-plugin-matterjs","order":-1}}},{"node":{"fields":{"slug":"/zh/docs/plugins/matterjs"},"frontmatter":{"title":"g-plugin-matterjs","order":-1}}},{"node":{"fields":{"slug":"/zh/docs/plugins/yoga"},"frontmatter":{"title":"g-plugin-yoga","order":-1}}},{"node":{"fields":{"slug":"/en/docs/inside-g/architecture"},"frontmatter":{"title":"Architecture","order":-1}}},{"node":{"fields":{"slug":"/en/docs/plugins/yoga"},"frontmatter":{"title":"g-plugin-yoga","order":-1}}},{"node":{"fields":{"slug":"/en/docs/plugins/css-select"},"frontmatter":{"title":"g-plugin-css-select","order":0}}},{"node":{"fields":{"slug":"/zh/docs/plugins/css-select"},"frontmatter":{"title":"g-plugin-css-select","order":0}}},{"node":{"fields":{"slug":"/zh/docs/inside-g/architecture"},"frontmatter":{"title":"架构介绍","order":0}}},{"node":{"fields":{"slug":"/zh/docs/guide/introduce"},"frontmatter":{"title":"介绍","order":0}}},{"node":{"fields":{"slug":"/en/docs/guide/introduce"},"frontmatter":{"title":"介绍","order":0}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/scenegraph"},"frontmatter":{"title":"场景图","order":0}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/scenegraph"},"frontmatter":{"title":"场景图","order":0}}},{"node":{"fields":{"slug":"/en/docs/api/gpgpu/gwebgpu"},"frontmatter":{"title":"简介","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/devtools/g-devtools"},"frontmatter":{"title":"G 开发者工具","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/gpgpu/gwebgpu"},"frontmatter":{"title":"简介","order":0}}},{"node":{"fields":{"slug":"/en/docs/api/devtools/g-devtools"},"frontmatter":{"title":"G 开发者工具","order":0}}},{"node":{"fields":{"slug":"/en/docs/api/basic/display-object"},"frontmatter":{"title":"DisplayObject","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/display-object"},"frontmatter":{"title":"DisplayObject","order":0}}},{"node":{"fields":{"slug":"/zh/docs/plugins/3d"},"frontmatter":{"title":"g-plugin-3d","order":1}}},{"node":{"fields":{"slug":"/en/docs/plugins/3d"},"frontmatter":{"title":"g-plugin-3d","order":1}}},{"node":{"fields":{"slug":"/en/docs/inside-g/build"},"frontmatter":{"title":"构建说明","order":1}}},{"node":{"fields":{"slug":"/zh/docs/inside-g/build"},"frontmatter":{"title":"构建说明","order":1}}},{"node":{"fields":{"slug":"/zh/docs/guide/chapter1"},"frontmatter":{"title":"第一节：定义场景","order":1}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/solar-system"},"frontmatter":{"title":"创造一个“太阳系”","order":1}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/solar-system"},"frontmatter":{"title":"创造一个“太阳系”","order":1}}},{"node":{"fields":{"slug":"/en/docs/guide/advanced-topics/performance-optimization"},"frontmatter":{"title":"性能优化","order":1}}},{"node":{"fields":{"slug":"/zh/docs/guide/advanced-topics/performance-optimization"},"frontmatter":{"title":"性能优化","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/gpgpu/programing-model"},"frontmatter":{"title":"编程模型","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/gpgpu/programing-model"},"frontmatter":{"title":"编程模型","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/devtools/stats"},"frontmatter":{"title":"内置的渲染统计信息","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/devtools/stats"},"frontmatter":{"title":"内置的渲染统计信息","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/builtin-objects/event-target"},"frontmatter":{"title":"EventTarget","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/builtin-objects/event-target"},"frontmatter":{"title":"EventTarget","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/group"},"frontmatter":{"title":"Group 图形分组","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/basic/group"},"frontmatter":{"title":"Group 图形分组","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/text"},"frontmatter":{"title":"Text 文本","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/basic/text"},"frontmatter":{"title":"Text 文本","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/advanced/arrow"},"frontmatter":{"title":"Arrow 箭头","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/3d/material"},"frontmatter":{"title":"材质","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/3d/material"},"frontmatter":{"title":"材质","order":1}}},{"node":{"fields":{"slug":"/en/docs/plugins/webgl-renderer"},"frontmatter":{"title":"g-plugin-webgl-renderer","order":2}}},{"node":{"fields":{"slug":"/zh/docs/plugins/webgl-renderer"},"frontmatter":{"title":"g-plugin-webgl-renderer","order":2}}},{"node":{"fields":{"slug":"/zh/docs/guide/chapter2"},"frontmatter":{"title":"第二节：使用渲染器","order":2}}},{"node":{"fields":{"slug":"/zh/docs/inside-g/gradient"},"frontmatter":{"title":"渐变色实现","order":2}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/camera"},"frontmatter":{"title":"使用相机","order":2}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/camera"},"frontmatter":{"title":"使用相机","order":2}}},{"node":{"fields":{"slug":"/en/docs/guide/advanced-topics/container"},"frontmatter":{"title":"理解依赖注入与容器","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/gpgpu/compute-pipeline"},"frontmatter":{"title":"Kernel API","order":2}}},{"node":{"fields":{"slug":"/en/docs/api/gpgpu/compute-pipeline"},"frontmatter":{"title":"Kernel API","order":2}}},{"node":{"fields":{"slug":"/zh/docs/guide/advanced-topics/container"},"frontmatter":{"title":"理解依赖注入与容器","order":2}}},{"node":{"fields":{"slug":"/en/docs/inside-g/gradient"},"frontmatter":{"title":"渐变色实现","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/builtin-objects/node"},"frontmatter":{"title":"Node","order":2}}},{"node":{"fields":{"slug":"/en/docs/api/builtin-objects/node"},"frontmatter":{"title":"Node","order":2}}},{"node":{"fields":{"slug":"/en/docs/api/basic/circle"},"frontmatter":{"title":"Circle 圆形","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/circle"},"frontmatter":{"title":"Circle 圆形","order":2}}},{"node":{"fields":{"slug":"/en/docs/api/advanced/arrow"},"frontmatter":{"title":"Circle 圆形","order":2}}},{"node":{"fields":{"slug":"/en/docs/api/3d/geometry"},"frontmatter":{"title":"几何","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/3d/geometry"},"frontmatter":{"title":"几何","order":2}}},{"node":{"fields":{"slug":"/en/docs/plugins/canvas-renderer"},"frontmatter":{"title":"g-plugin-canvas-renderer","order":3}}},{"node":{"fields":{"slug":"/zh/docs/plugins/canvas-renderer"},"frontmatter":{"title":"g-plugin-canvas-renderer","order":3}}},{"node":{"fields":{"slug":"/zh/docs/inside-g/line"},"frontmatter":{"title":"Line 的实现","order":3}}},{"node":{"fields":{"slug":"/zh/docs/guide/chapter3"},"frontmatter":{"title":"第三节：增加交互","order":3}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/animation"},"frontmatter":{"title":"实现一个简单的动画","order":3}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/animation"},"frontmatter":{"title":"实现一个简单的动画","order":3}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/plugin"},"frontmatter":{"title":"使用插件","order":3}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/plugin"},"frontmatter":{"title":"使用插件","order":3}}},{"node":{"fields":{"slug":"/zh/docs/guide/advanced-topics/custom-element"},"frontmatter":{"title":"自定义图形","order":3}}},{"node":{"fields":{"slug":"/en/docs/guide/advanced-topics/custom-element"},"frontmatter":{"title":"自定义图形","order":3}}},{"node":{"fields":{"slug":"/en/docs/inside-g/line"},"frontmatter":{"title":"Line 的实现","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/devtools/third-party"},"frontmatter":{"title":"第三方开发调试工具","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/builtin-objects/element"},"frontmatter":{"title":"Element","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/builtin-objects/element"},"frontmatter":{"title":"Element","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/devtools/third-party"},"frontmatter":{"title":"第三方开发调试工具","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/basic/ellipse"},"frontmatter":{"title":"Ellipse 椭圆","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/ellipse"},"frontmatter":{"title":"Ellipse 椭圆","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/3d/light"},"frontmatter":{"title":"光源","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/3d/light"},"frontmatter":{"title":"光源","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/3d/mesh"},"frontmatter":{"title":"Mesh","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/3d/mesh"},"frontmatter":{"title":"Mesh","order":3}}},{"node":{"fields":{"slug":"/zh/docs/plugins/canvas-picker"},"frontmatter":{"title":"g-plugin-canvas-picker","order":4}}},{"node":{"fields":{"slug":"/en/docs/plugins/canvas-picker"},"frontmatter":{"title":"g-plugin-canvas-picker","order":4}}},{"node":{"fields":{"slug":"/zh/docs/guide/advanced-topics/event-delegate"},"frontmatter":{"title":"理解事件传播路径","order":4}}},{"node":{"fields":{"slug":"/en/docs/guide/advanced-topics/event-delegate"},"frontmatter":{"title":"理解事件传播路径","order":4}}},{"node":{"fields":{"slug":"/zh/docs/api/builtin-objects/document"},"frontmatter":{"title":"Document","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/builtin-objects/document"},"frontmatter":{"title":"Document","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/basic/rect"},"frontmatter":{"title":"Rect 矩形","order":4}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/rect"},"frontmatter":{"title":"Rect 矩形","order":4}}},{"node":{"fields":{"slug":"/en/docs/plugins/svg-renderer"},"frontmatter":{"title":"g-plugin-svg-renderer","order":5}}},{"node":{"fields":{"slug":"/zh/docs/plugins/svg-renderer"},"frontmatter":{"title":"g-plugin-svg-renderer","order":5}}},{"node":{"fields":{"slug":"/zh/docs/guide/advanced-topics/use-react-g"},"frontmatter":{"title":"使用React定义图形","order":5}}},{"node":{"fields":{"slug":"/en/docs/guide/advanced-topics/use-react-g"},"frontmatter":{"title":"use react-g","order":5}}},{"node":{"fields":{"slug":"/en/docs/api/builtin-objects/mutation-observer"},"frontmatter":{"title":"MutationObserver","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/builtin-objects/mutation-observer"},"frontmatter":{"title":"MutationObserver","order":5}}},{"node":{"fields":{"slug":"/en/docs/api/basic/image"},"frontmatter":{"title":"Image 图片","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/image"},"frontmatter":{"title":"Image 图片","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/3d/fog"},"frontmatter":{"title":"雾","order":5}}},{"node":{"fields":{"slug":"/en/docs/api/3d/fog"},"frontmatter":{"title":"雾","order":5}}},{"node":{"fields":{"slug":"/zh/docs/plugins/svg-picker"},"frontmatter":{"title":"g-plugin-svg-picker","order":6}}},{"node":{"fields":{"slug":"/en/docs/plugins/svg-picker"},"frontmatter":{"title":"g-plugin-svg-picker","order":6}}},{"node":{"fields":{"slug":"/en/docs/api/gpgpu/implements"},"frontmatter":{"title":"经典 GPGPU 的实现原理","order":6}}},{"node":{"fields":{"slug":"/zh/docs/api/gpgpu/implements"},"frontmatter":{"title":"经典 GPGPU 的实现原理","order":6}}},{"node":{"fields":{"slug":"/en/docs/api/basic/line"},"frontmatter":{"title":"Line 直线","order":6}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/line"},"frontmatter":{"title":"Line 直线","order":6}}},{"node":{"fields":{"slug":"/en/docs/api/3d/control"},"frontmatter":{"title":"交互","order":6}}},{"node":{"fields":{"slug":"/zh/docs/api/3d/control"},"frontmatter":{"title":"交互","order":6}}},{"node":{"fields":{"slug":"/zh/docs/plugins/dom-interaction"},"frontmatter":{"title":"g-plugin-dom-interaction","order":7}}},{"node":{"fields":{"slug":"/en/docs/plugins/dom-interaction"},"frontmatter":{"title":"g-plugin-dom-interaction","order":7}}},{"node":{"fields":{"slug":"/en/docs/api/basic/polyline"},"frontmatter":{"title":"Polyline 折线","order":7}}},{"node":{"fields":{"slug":"/en/docs/api/basic/polygon"},"frontmatter":{"title":"Polygon 多边形","order":7}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/polygon"},"frontmatter":{"title":"Polygon 多边形","order":7}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/polyline"},"frontmatter":{"title":"Polyline 折线","order":7}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/path"},"frontmatter":{"title":"Path 路径","order":8}}},{"node":{"fields":{"slug":"/en/docs/api/basic/path"},"frontmatter":{"title":"Path 路径","order":8}}},{"node":{"fields":{"slug":"/zh/docs/api/basic/html"},"frontmatter":{"title":"HTML 内容","order":9}}},{"node":{"fields":{"slug":"/en/docs/api/basic/html"},"frontmatter":{"title":"HTML 内容","order":9}}},{"node":{"fields":{"slug":"/zh/docs/plugins/control"},"frontmatter":{"title":"g-plugin-control","order":10}}},{"node":{"fields":{"slug":"/en/docs/plugins/control"},"frontmatter":{"title":"g-plugin-control","order":10}}},{"node":{"fields":{"slug":"/en/docs/guide/roadmap"},"frontmatter":{"title":"Roadmap","order":10}}},{"node":{"fields":{"slug":"/zh/docs/guide/roadmap"},"frontmatter":{"title":"路线图","order":10}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/gpgpu"},"frontmatter":{"title":"GPGPU 初体验","order":10}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/gpgpu"},"frontmatter":{"title":"GPGPU 初体验","order":10}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/3d"},"frontmatter":{"title":"进入 3D 世界","order":11}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/3d"},"frontmatter":{"title":"进入 3D 世界","order":11}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/box2d"},"frontmatter":{"title":"使用 Box2D 物理引擎","order":12}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/box2d"},"frontmatter":{"title":"使用 Box2D 物理引擎","order":12}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/matterjs"},"frontmatter":{"title":"使用 matter.js 物理引擎","order":12}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/matterjs"},"frontmatter":{"title":"使用 matter.js 物理引擎","order":12}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/yoga"},"frontmatter":{"title":"使用 Yoga 布局引擎","order":13}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/yoga"},"frontmatter":{"title":"使用 Yoga 布局引擎","order":13}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/d3"},"frontmatter":{"title":"接管 D3 渲染","order":14}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/d3"},"frontmatter":{"title":"接管 D3 渲染","order":14}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/switch-renderer"},"frontmatter":{"title":"按需引入渲染器","order":99}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/switch-renderer"},"frontmatter":{"title":"Choose a renderer","order":99}}},{"node":{"fields":{"slug":"/zh/docs/guide/diving-deeper/rendering-on-demand"},"frontmatter":{"title":"按需渲染","order":100}}},{"node":{"fields":{"slug":"/en/docs/guide/diving-deeper/rendering-on-demand"},"frontmatter":{"title":"Rendering on demand","order":100}}}]}},"pageContext":{"examples":[{"relativePath":"shape/demo/circle.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/circle.js","order":0,"filename":"circle.js","title":{"zh":"圆","en":"Circle"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FfHBTr2ACAkAAAAAAAAAAABkARQnAQ","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: webglRenderer,\n});\n\n// create a circle\nconst circle = new Circle({\n  style: {\n    x: 300,\n    y: 200,\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    shadowColor: 'black',\n    shadowBlur: 20,\n  },\n});\n\n// add a circle to canvas\ncanvas.appendChild(circle);\n\n// use AntV G devtools\nwindow.__g_instances__ = [canvas];\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst circleFolder = gui.addFolder('circle');\nconst circleConfig = {\n  r: 100,\n  fill: '#1890FF',\n  stroke: '#F04864',\n  lineWidth: 4,\n  lineDash: 0,\n  lineDashOffset: 0,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  anchorX: 0.5,\n  anchorY: 0.5,\n  shadowColor: '#000',\n  shadowBlur: 20,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n};\ncircleFolder.add(circleConfig, 'r', 50, 200).onChange((radius) => {\n  circle.style.r = radius;\n});\ncircleFolder.addColor(circleConfig, 'fill').onChange((color) => {\n  circle.style.fill = color;\n});\ncircleFolder.addColor(circleConfig, 'stroke').onChange((color) => {\n  circle.attr('stroke', color);\n});\ncircleFolder.addColor(circleConfig, 'shadowColor').onChange((color) => {\n  circle.attr('shadowColor', color);\n});\ncircleFolder.add(circleConfig, 'shadowBlur', 0, 100).onChange((shadowBlur) => {\n  circle.style.shadowBlur = shadowBlur;\n});\ncircleFolder.add(circleConfig, 'shadowOffsetX', -50, 50).onChange((shadowOffsetX) => {\n  circle.style.shadowOffsetX = shadowOffsetX;\n});\ncircleFolder.add(circleConfig, 'shadowOffsetY', -50, 50).onChange((shadowOffsetY) => {\n  circle.style.shadowOffsetY = shadowOffsetY;\n});\ncircleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  circle.attr('lineWidth', lineWidth);\n});\ncircleFolder.add(circleConfig, 'lineDash', 0, 100).onChange((lineDash) => {\n  circle.style.lineDash = [lineDash];\n});\ncircleFolder.add(circleConfig, 'lineDashOffset', 0, 100).onChange((lineDashOffset) => {\n  circle.style.lineDashOffset = lineDashOffset;\n});\ncircleFolder.add(circleConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  circle.attr('fillOpacity', opacity);\n});\ncircleFolder.add(circleConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  circle.attr('strokeOpacity', opacity);\n});\ncircleFolder.add(circleConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  circle.attr('anchor', [anchorX, circleConfig.anchorY]);\n});\ncircleFolder.add(circleConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  circle.attr('anchor', [circleConfig.anchorX, anchorY]);\n});\ncircleFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.circle = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: webglRenderer\n  }); // create a circle\n\n  var circle = new _g.Circle({\n    style: {\n      x: 300,\n      y: 200,\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      shadowColor: 'black',\n      shadowBlur: 20\n    }\n  }); // add a circle to canvas\n\n  canvas.appendChild(circle); // use AntV G devtools\n\n  window.__g_instances__ = [canvas]; // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var circleFolder = gui.addFolder('circle');\n  var circleConfig = {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    lineDash: 0,\n    lineDashOffset: 0,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    anchorX: 0.5,\n    anchorY: 0.5,\n    shadowColor: '#000',\n    shadowBlur: 20,\n    shadowOffsetX: 0,\n    shadowOffsetY: 0\n  };\n  circleFolder.add(circleConfig, 'r', 50, 200).onChange(function (radius) {\n    circle.style.r = radius;\n  });\n  circleFolder.addColor(circleConfig, 'fill').onChange(function (color) {\n    circle.style.fill = color;\n  });\n  circleFolder.addColor(circleConfig, 'stroke').onChange(function (color) {\n    circle.attr('stroke', color);\n  });\n  circleFolder.addColor(circleConfig, 'shadowColor').onChange(function (color) {\n    circle.attr('shadowColor', color);\n  });\n  circleFolder.add(circleConfig, 'shadowBlur', 0, 100).onChange(function (shadowBlur) {\n    circle.style.shadowBlur = shadowBlur;\n  });\n  circleFolder.add(circleConfig, 'shadowOffsetX', -50, 50).onChange(function (shadowOffsetX) {\n    circle.style.shadowOffsetX = shadowOffsetX;\n  });\n  circleFolder.add(circleConfig, 'shadowOffsetY', -50, 50).onChange(function (shadowOffsetY) {\n    circle.style.shadowOffsetY = shadowOffsetY;\n  });\n  circleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    circle.attr('lineWidth', lineWidth);\n  });\n  circleFolder.add(circleConfig, 'lineDash', 0, 100).onChange(function (lineDash) {\n    circle.style.lineDash = [lineDash];\n  });\n  circleFolder.add(circleConfig, 'lineDashOffset', 0, 100).onChange(function (lineDashOffset) {\n    circle.style.lineDashOffset = lineDashOffset;\n  });\n  circleFolder.add(circleConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    circle.attr('fillOpacity', opacity);\n  });\n  circleFolder.add(circleConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    circle.attr('strokeOpacity', opacity);\n  });\n  circleFolder.add(circleConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    circle.attr('anchor', [anchorX, circleConfig.anchorY]);\n  });\n  circleFolder.add(circleConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    circle.attr('anchor', [circleConfig.anchorX, anchorY]);\n  });\n  circleFolder.open();\n});"},{"relativePath":"shape/demo/arrow.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/arrow.js","order":9,"filename":"arrow.js","title":{"zh":"箭头","en":"Arrow"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*EzqjQYMeYoMAAAAAAAAAAAAAARQnAQ","source":"import { Canvas, Circle, Path, Image, Line, Polyline, CustomElement } from '@antv/g';\nimport { Arrow } from '@antv/g-components';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// create an arrow\nconst lineArrow = new Arrow({\n  id: 'lineArrow',\n  style: {\n    body: new Line({\n      style: {\n        x1: 200,\n        y1: 100,\n        x2: 0,\n        y2: 0,\n      },\n    }),\n    startHead: true,\n    stroke: '#1890FF',\n    lineWidth: 10,\n    cursor: 'pointer',\n  },\n});\nlineArrow.translate(200, 100);\n\nconst polylineArrow = new Arrow({\n  id: 'polylineArrow',\n  style: {\n    body: new Polyline({\n      style: {\n        points: [\n          [0, 0],\n          [50, 0],\n          [50, 50],\n          [100, 50],\n          [100, 100],\n          [150, 100],\n        ],\n      },\n    }),\n    startHead: true,\n    stroke: '#1890FF',\n    lineWidth: 10,\n    cursor: 'pointer',\n  },\n});\npolylineArrow.translate(200, 200);\n\nconst pathArrow = new Arrow({\n  id: 'pathArrow',\n  style: {\n    body: new Path({\n      style: {\n        path: 'M 100,300' + 'l 50,-25' + 'a25,25 -30 0,1 50,-80',\n      },\n    }),\n    startHead: true,\n    stroke: '#1890FF',\n    lineWidth: 10,\n    cursor: 'pointer',\n  },\n});\npathArrow.translate(100, 150);\n\ncanvas.appendChild(lineArrow);\ncanvas.appendChild(polylineArrow);\ncanvas.appendChild(pathArrow);\n\nlineArrow.animate(\n  [\n    { transform: 'scale(1)', stroke: '#F04864', opacity: 1 },\n    { transform: 'scale(2)', stroke: '#1890FF', opacity: 0.8 },\n  ],\n  {\n    duration: 1500,\n    iterations: Infinity,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n  },\n);\n\nlineArrow.addEventListener('mouseenter', () => {\n  lineArrow.setAttribute('stroke', '#2FC25B');\n});\nlineArrow.addEventListener('mouseleave', () => {\n  lineArrow.setAttribute('stroke', '#1890FF');\n});\n\npolylineArrow.addEventListener('mouseenter', () => {\n  polylineArrow.setAttribute('stroke', '#2FC25B');\n});\npolylineArrow.addEventListener('mouseleave', () => {\n  polylineArrow.setAttribute('stroke', '#1890FF');\n});\n\npathArrow.addEventListener('mouseenter', () => {\n  pathArrow.setAttribute('stroke', '#2FC25B');\n});\npathArrow.addEventListener('mouseleave', () => {\n  pathArrow.setAttribute('stroke', '#1890FF');\n});\n\n// define my custom arrow head\nclass MyCustomArrowHead extends CustomElement {\n  static tag = 'my-arrow-head';\n\n  constructor(config) {\n    super({\n      ...config,\n      type: MyCustomArrowHead.tag,\n    });\n\n    // just draw a simple triangle, eg. '<|'\n    this.head = new Path({\n      style: {\n        path: 'M 10,10 L -10,0 L 10,-10 Z',\n      },\n    });\n\n    this.appendChild(this.head);\n  }\n\n  attributeChangedCallback(name, oldValue, value) {\n    this.head.setAttribute(name, value);\n  }\n}\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst lineArrowFolder = gui.addFolder('line arrow');\nconst lineArrowConfig = {\n  stroke: '#1890FF',\n  lineWidth: 10,\n  strokeOpacity: 1,\n  startHead: 'default',\n  endHead: 'none',\n};\nlineArrowFolder.addColor(lineArrowConfig, 'stroke').onChange((color) => {\n  lineArrow.setAttribute('stroke', color);\n});\nlineArrowFolder.add(lineArrowConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  lineArrow.setAttribute('lineWidth', lineWidth);\n});\nlineArrowFolder.add(lineArrowConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  lineArrow.setAttribute('strokeOpacity', opacity);\n});\nlineArrowFolder\n  .add(lineArrowConfig, 'startHead', ['none', 'default', 'circle', 'image', 'custom arrowhead'])\n  .onChange((type) => {\n    if (type === 'none') {\n      lineArrow.setAttribute('startHead', false);\n    } else if (type === 'default') {\n      lineArrow.setAttribute('startHead', true);\n    } else if (type === 'circle') {\n      lineArrow.setAttribute('startHead', new Circle({ style: { r: 10 } }));\n    } else if (type === 'image') {\n      const image = new Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n        },\n      });\n      image.rotateLocal(90);\n      lineArrow.setAttribute('startHead', image);\n    } else if (type === 'custom arrowhead') {\n      lineArrow.setAttribute('startHead', new MyCustomArrowHead({ style: {} }));\n    }\n  });\nlineArrowFolder\n  .add(lineArrowConfig, 'endHead', ['none', 'default', 'circle', 'image', 'custom arrowhead'])\n  .onChange((type) => {\n    if (type === 'none') {\n      lineArrow.setAttribute('endHead', false);\n    } else if (type === 'default') {\n      lineArrow.setAttribute('endHead', true);\n    } else if (type === 'circle') {\n      lineArrow.setAttribute('endHead', new Circle({ style: { r: 10 } }));\n    } else if (type === 'image') {\n      const image = new Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n        },\n      });\n      image.rotateLocal(90);\n      lineArrow.setAttribute('endHead', image);\n    } else if (type === 'custom arrowhead') {\n      lineArrow.setAttribute('endHead', new MyCustomArrowHead({ style: {} }));\n    }\n  });\nlineArrowFolder.open();\n\nconst polylineArrowFolder = gui.addFolder('polyline arrow');\nconst polylineArrowConfig = {\n  stroke: '#1890FF',\n  lineWidth: 10,\n  strokeOpacity: 1,\n  startHead: 'default',\n  endHead: 'none',\n};\npolylineArrowFolder.addColor(polylineArrowConfig, 'stroke').onChange((color) => {\n  polylineArrow.setAttribute('stroke', color);\n});\npolylineArrowFolder.add(polylineArrowConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  polylineArrow.setAttribute('lineWidth', lineWidth);\n});\npolylineArrowFolder.add(polylineArrowConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  polylineArrow.setAttribute('strokeOpacity', opacity);\n});\npolylineArrowFolder\n  .add(polylineArrowConfig, 'startHead', ['none', 'default', 'circle', 'image', 'custom arrowhead'])\n  .onChange((type) => {\n    if (type === 'none') {\n      polylineArrow.setAttribute('startHead', false);\n    } else if (type === 'default') {\n      polylineArrow.setAttribute('startHead', true);\n    } else if (type === 'circle') {\n      polylineArrow.setAttribute('startHead', new Circle({ style: { r: 10 } }));\n    } else if (type === 'image') {\n      const image = new Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n        },\n      });\n      image.rotateLocal(90);\n      polylineArrow.setAttribute('startHead', image);\n    } else if (type === 'custom arrowhead') {\n      polylineArrow.setAttribute('startHead', new MyCustomArrowHead({ style: {} }));\n    }\n  });\npolylineArrowFolder\n  .add(polylineArrowConfig, 'endHead', ['none', 'default', 'circle', 'image', 'custom arrowhead'])\n  .onChange((type) => {\n    if (type === 'none') {\n      polylineArrow.setAttribute('endHead', false);\n    } else if (type === 'default') {\n      polylineArrow.setAttribute('endHead', true);\n    } else if (type === 'circle') {\n      polylineArrow.setAttribute('endHead', new Circle({ style: { r: 10 } }));\n    } else if (type === 'image') {\n      const image = new Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n        },\n      });\n      image.rotateLocal(90);\n      polylineArrow.setAttribute('endHead', image);\n    } else if (type === 'custom arrowhead') {\n      polylineArrow.setAttribute('endHead', new MyCustomArrowHead({ style: {} }));\n    }\n  });\n\nconst pathArrowFolder = gui.addFolder('path arrow');\nconst pathArrowConfig = {\n  stroke: '#1890FF',\n  lineWidth: 10,\n  strokeOpacity: 1,\n  startHead: 'default',\n  endHead: 'none',\n};\npathArrowFolder.addColor(pathArrowConfig, 'stroke').onChange((color) => {\n  pathArrow.setAttribute('stroke', color);\n});\npathArrowFolder.add(pathArrowConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  pathArrow.setAttribute('lineWidth', lineWidth);\n});\npathArrowFolder.add(pathArrowConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  pathArrow.setAttribute('strokeOpacity', opacity);\n});\npathArrowFolder\n  .add(pathArrowConfig, 'startHead', ['none', 'default', 'circle', 'image', 'custom arrowhead'])\n  .onChange((type) => {\n    if (type === 'none') {\n      pathArrow.setAttribute('startHead', false);\n    } else if (type === 'default') {\n      pathArrow.setAttribute('startHead', true);\n    } else if (type === 'circle') {\n      pathArrow.setAttribute('startHead', new Circle({ style: { r: 10 } }));\n    } else if (type === 'image') {\n      const image = new Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n        },\n      });\n      image.rotateLocal(90);\n      pathArrow.setAttribute('startHead', image);\n    } else if (type === 'custom arrowhead') {\n      pathArrow.setAttribute('startHead', new MyCustomArrowHead({ style: {} }));\n    }\n  });\npathArrowFolder\n  .add(pathArrowConfig, 'endHead', ['none', 'default', 'circle', 'image', 'custom arrowhead'])\n  .onChange((type) => {\n    if (type === 'none') {\n      pathArrow.setAttribute('endHead', false);\n    } else if (type === 'default') {\n      pathArrow.setAttribute('endHead', true);\n    } else if (type === 'circle') {\n      pathArrow.setAttribute('endHead', new Circle({ style: { r: 10 } }));\n    } else if (type === 'image') {\n      const image = new Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n        },\n      });\n      image.rotateLocal(90);\n      pathArrow.setAttribute('endHead', image);\n    } else if (type === 'custom arrowhead') {\n      pathArrow.setAttribute('endHead', new MyCustomArrowHead({ style: {} }));\n    }\n  });\n","babeledSource":"function _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-components\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-components\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gComponents, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.arrow = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gComponents, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // create an arrow\n\n  var lineArrow = new _gComponents.Arrow({\n    id: 'lineArrow',\n    style: {\n      body: new _g.Line({\n        style: {\n          x1: 200,\n          y1: 100,\n          x2: 0,\n          y2: 0\n        }\n      }),\n      startHead: true,\n      stroke: '#1890FF',\n      lineWidth: 10,\n      cursor: 'pointer'\n    }\n  });\n  lineArrow.translate(200, 100);\n  var polylineArrow = new _gComponents.Arrow({\n    id: 'polylineArrow',\n    style: {\n      body: new _g.Polyline({\n        style: {\n          points: [[0, 0], [50, 0], [50, 50], [100, 50], [100, 100], [150, 100]]\n        }\n      }),\n      startHead: true,\n      stroke: '#1890FF',\n      lineWidth: 10,\n      cursor: 'pointer'\n    }\n  });\n  polylineArrow.translate(200, 200);\n  var pathArrow = new _gComponents.Arrow({\n    id: 'pathArrow',\n    style: {\n      body: new _g.Path({\n        style: {\n          path: 'M 100,300' + 'l 50,-25' + 'a25,25 -30 0,1 50,-80'\n        }\n      }),\n      startHead: true,\n      stroke: '#1890FF',\n      lineWidth: 10,\n      cursor: 'pointer'\n    }\n  });\n  pathArrow.translate(100, 150);\n  canvas.appendChild(lineArrow);\n  canvas.appendChild(polylineArrow);\n  canvas.appendChild(pathArrow);\n  lineArrow.animate([{\n    transform: 'scale(1)',\n    stroke: '#F04864',\n    opacity: 1\n  }, {\n    transform: 'scale(2)',\n    stroke: '#1890FF',\n    opacity: 0.8\n  }], {\n    duration: 1500,\n    iterations: Infinity,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)'\n  });\n  lineArrow.addEventListener('mouseenter', function () {\n    lineArrow.setAttribute('stroke', '#2FC25B');\n  });\n  lineArrow.addEventListener('mouseleave', function () {\n    lineArrow.setAttribute('stroke', '#1890FF');\n  });\n  polylineArrow.addEventListener('mouseenter', function () {\n    polylineArrow.setAttribute('stroke', '#2FC25B');\n  });\n  polylineArrow.addEventListener('mouseleave', function () {\n    polylineArrow.setAttribute('stroke', '#1890FF');\n  });\n  pathArrow.addEventListener('mouseenter', function () {\n    pathArrow.setAttribute('stroke', '#2FC25B');\n  });\n  pathArrow.addEventListener('mouseleave', function () {\n    pathArrow.setAttribute('stroke', '#1890FF');\n  }); // define my custom arrow head\n\n  var MyCustomArrowHead = /*#__PURE__*/function (_CustomElement) {\n    _inherits(MyCustomArrowHead, _CustomElement);\n\n    var _super = _createSuper(MyCustomArrowHead);\n\n    function MyCustomArrowHead(config) {\n      var _this;\n\n      _classCallCheck(this, MyCustomArrowHead);\n\n      _this = _super.call(this, { ...config,\n        type: MyCustomArrowHead.tag\n      }); // just draw a simple triangle, eg. '<|'\n\n      _this.head = new _g.Path({\n        style: {\n          path: 'M 10,10 L -10,0 L 10,-10 Z'\n        }\n      });\n\n      _this.appendChild(_this.head);\n\n      return _this;\n    }\n\n    _createClass(MyCustomArrowHead, [{\n      key: \"attributeChangedCallback\",\n      value: function attributeChangedCallback(name, oldValue, value) {\n        this.head.setAttribute(name, value);\n      }\n    }]);\n\n    return MyCustomArrowHead;\n  }(_g.CustomElement); // stats\n\n\n  _defineProperty(MyCustomArrowHead, \"tag\", 'my-arrow-head');\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var lineArrowFolder = gui.addFolder('line arrow');\n  var lineArrowConfig = {\n    stroke: '#1890FF',\n    lineWidth: 10,\n    strokeOpacity: 1,\n    startHead: 'default',\n    endHead: 'none'\n  };\n  lineArrowFolder.addColor(lineArrowConfig, 'stroke').onChange(function (color) {\n    lineArrow.setAttribute('stroke', color);\n  });\n  lineArrowFolder.add(lineArrowConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    lineArrow.setAttribute('lineWidth', lineWidth);\n  });\n  lineArrowFolder.add(lineArrowConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    lineArrow.setAttribute('strokeOpacity', opacity);\n  });\n  lineArrowFolder.add(lineArrowConfig, 'startHead', ['none', 'default', 'circle', 'image', 'custom arrowhead']).onChange(function (type) {\n    if (type === 'none') {\n      lineArrow.setAttribute('startHead', false);\n    } else if (type === 'default') {\n      lineArrow.setAttribute('startHead', true);\n    } else if (type === 'circle') {\n      lineArrow.setAttribute('startHead', new _g.Circle({\n        style: {\n          r: 10\n        }\n      }));\n    } else if (type === 'image') {\n      var image = new _g.Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n        }\n      });\n      image.rotateLocal(90);\n      lineArrow.setAttribute('startHead', image);\n    } else if (type === 'custom arrowhead') {\n      lineArrow.setAttribute('startHead', new MyCustomArrowHead({\n        style: {}\n      }));\n    }\n  });\n  lineArrowFolder.add(lineArrowConfig, 'endHead', ['none', 'default', 'circle', 'image', 'custom arrowhead']).onChange(function (type) {\n    if (type === 'none') {\n      lineArrow.setAttribute('endHead', false);\n    } else if (type === 'default') {\n      lineArrow.setAttribute('endHead', true);\n    } else if (type === 'circle') {\n      lineArrow.setAttribute('endHead', new _g.Circle({\n        style: {\n          r: 10\n        }\n      }));\n    } else if (type === 'image') {\n      var image = new _g.Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n        }\n      });\n      image.rotateLocal(90);\n      lineArrow.setAttribute('endHead', image);\n    } else if (type === 'custom arrowhead') {\n      lineArrow.setAttribute('endHead', new MyCustomArrowHead({\n        style: {}\n      }));\n    }\n  });\n  lineArrowFolder.open();\n  var polylineArrowFolder = gui.addFolder('polyline arrow');\n  var polylineArrowConfig = {\n    stroke: '#1890FF',\n    lineWidth: 10,\n    strokeOpacity: 1,\n    startHead: 'default',\n    endHead: 'none'\n  };\n  polylineArrowFolder.addColor(polylineArrowConfig, 'stroke').onChange(function (color) {\n    polylineArrow.setAttribute('stroke', color);\n  });\n  polylineArrowFolder.add(polylineArrowConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    polylineArrow.setAttribute('lineWidth', lineWidth);\n  });\n  polylineArrowFolder.add(polylineArrowConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    polylineArrow.setAttribute('strokeOpacity', opacity);\n  });\n  polylineArrowFolder.add(polylineArrowConfig, 'startHead', ['none', 'default', 'circle', 'image', 'custom arrowhead']).onChange(function (type) {\n    if (type === 'none') {\n      polylineArrow.setAttribute('startHead', false);\n    } else if (type === 'default') {\n      polylineArrow.setAttribute('startHead', true);\n    } else if (type === 'circle') {\n      polylineArrow.setAttribute('startHead', new _g.Circle({\n        style: {\n          r: 10\n        }\n      }));\n    } else if (type === 'image') {\n      var image = new _g.Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n        }\n      });\n      image.rotateLocal(90);\n      polylineArrow.setAttribute('startHead', image);\n    } else if (type === 'custom arrowhead') {\n      polylineArrow.setAttribute('startHead', new MyCustomArrowHead({\n        style: {}\n      }));\n    }\n  });\n  polylineArrowFolder.add(polylineArrowConfig, 'endHead', ['none', 'default', 'circle', 'image', 'custom arrowhead']).onChange(function (type) {\n    if (type === 'none') {\n      polylineArrow.setAttribute('endHead', false);\n    } else if (type === 'default') {\n      polylineArrow.setAttribute('endHead', true);\n    } else if (type === 'circle') {\n      polylineArrow.setAttribute('endHead', new _g.Circle({\n        style: {\n          r: 10\n        }\n      }));\n    } else if (type === 'image') {\n      var image = new _g.Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n        }\n      });\n      image.rotateLocal(90);\n      polylineArrow.setAttribute('endHead', image);\n    } else if (type === 'custom arrowhead') {\n      polylineArrow.setAttribute('endHead', new MyCustomArrowHead({\n        style: {}\n      }));\n    }\n  });\n  var pathArrowFolder = gui.addFolder('path arrow');\n  var pathArrowConfig = {\n    stroke: '#1890FF',\n    lineWidth: 10,\n    strokeOpacity: 1,\n    startHead: 'default',\n    endHead: 'none'\n  };\n  pathArrowFolder.addColor(pathArrowConfig, 'stroke').onChange(function (color) {\n    pathArrow.setAttribute('stroke', color);\n  });\n  pathArrowFolder.add(pathArrowConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    pathArrow.setAttribute('lineWidth', lineWidth);\n  });\n  pathArrowFolder.add(pathArrowConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    pathArrow.setAttribute('strokeOpacity', opacity);\n  });\n  pathArrowFolder.add(pathArrowConfig, 'startHead', ['none', 'default', 'circle', 'image', 'custom arrowhead']).onChange(function (type) {\n    if (type === 'none') {\n      pathArrow.setAttribute('startHead', false);\n    } else if (type === 'default') {\n      pathArrow.setAttribute('startHead', true);\n    } else if (type === 'circle') {\n      pathArrow.setAttribute('startHead', new _g.Circle({\n        style: {\n          r: 10\n        }\n      }));\n    } else if (type === 'image') {\n      var image = new _g.Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n        }\n      });\n      image.rotateLocal(90);\n      pathArrow.setAttribute('startHead', image);\n    } else if (type === 'custom arrowhead') {\n      pathArrow.setAttribute('startHead', new MyCustomArrowHead({\n        style: {}\n      }));\n    }\n  });\n  pathArrowFolder.add(pathArrowConfig, 'endHead', ['none', 'default', 'circle', 'image', 'custom arrowhead']).onChange(function (type) {\n    if (type === 'none') {\n      pathArrow.setAttribute('endHead', false);\n    } else if (type === 'default') {\n      pathArrow.setAttribute('endHead', true);\n    } else if (type === 'circle') {\n      pathArrow.setAttribute('endHead', new _g.Circle({\n        style: {\n          r: 10\n        }\n      }));\n    } else if (type === 'image') {\n      var image = new _g.Image({\n        style: {\n          width: 50,\n          height: 50,\n          anchor: [0.5, 0.5],\n          img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n        }\n      });\n      image.rotateLocal(90);\n      pathArrow.setAttribute('endHead', image);\n    } else if (type === 'custom arrowhead') {\n      pathArrow.setAttribute('endHead', new MyCustomArrowHead({\n        style: {}\n      }));\n    }\n  });\n});"},{"relativePath":"shape/demo/clip.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/clip.js","order":10,"filename":"clip.js","title":{"zh":"裁剪区域","en":"Clip Path"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*Iy4RQZgT3EUAAAAAAAAAAAAAARQnAQ","source":"import { Image, Circle, Rect, Path, Group, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// clip path shape\nconst clipPathCircle = new Circle({\n  style: {\n    x: 100,\n    y: 100,\n    r: 50,\n  },\n});\nconst clipPathRect = new Rect({\n  style: {\n    x: 100,\n    y: 100,\n    width: 50,\n    height: 50,\n  },\n});\nconst clipPath = new Path({\n  style: {\n    stroke: 'black',\n    lineWidth: 2,\n    path: 'M 10,10 L -10,0 L 10,-10 Z',\n    anchor: [0.5, 0.5],\n  },\n});\n\nclipPath.setLocalPosition(100, 100);\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst image = new Image({\n  style: {\n    x: 200,\n    y: 100,\n    width: 200,\n    height: 200,\n    img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ',\n    clipPath: clipPathCircle,\n  },\n});\n\nconst image2 = new Image({\n  style: {\n    x: 200,\n    y: 200,\n    width: 200,\n    height: 200,\n    img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n    clipPath: clipPathCircle,\n  },\n});\n\nconst group = new Group({\n  style: {\n    x: 200,\n    y: 300,\n    clipPath: clipPathCircle,\n    cursor: 'pointer',\n  },\n});\nconst textStyle = {\n  fontFamily: 'PingFang SC',\n  text: '这是测试文本',\n  fontSize: 40,\n  fill: '#1890FF',\n  stroke: '#F04864',\n  lineWidth: 5,\n};\nconst text1 = new Text({\n  style: textStyle,\n});\nconst text2 = new Text({\n  style: textStyle,\n});\nconst text3 = new Text({\n  style: textStyle,\n});\ntext2.translateLocal(0, 50);\ntext3.translateLocal(0, 100);\ngroup.appendChild(text1);\ngroup.appendChild(text2);\ngroup.appendChild(text3);\n\ncanvas.appendChild(image);\ncanvas.appendChild(image2);\ncanvas.appendChild(group);\n\nclipPathCircle.animate([{ transform: 'scale(1)' }, { transform: 'scale(1.2)' }], {\n  duration: 1500,\n  iterations: Infinity,\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst clipFolder = gui.addFolder('clipPath');\nconst clipConfig = {\n  clipPath: 'circle',\n  r: 50,\n};\n\nclipFolder.add(clipConfig, 'clipPath', ['circle', 'rect', 'path', 'null']).onChange((type) => {\n  switch (type) {\n    case 'circle':\n      image.style.clipPath = clipPathCircle;\n      break;\n    case 'rect':\n      image.style.clipPath = clipPathRect;\n      break;\n    case 'path':\n      image.style.clipPath = clipPath;\n      break;\n    case 'null': // clear clip path\n      image.style.clipPath = null;\n      // image.setClip(null);\n      break;\n  }\n});\nclipFolder.add(clipConfig, 'r', 0, 100).onChange((r) => {\n  clipPathCircle.style.r = r;\n});\nclipFolder.open();\n\nconst imageFolder = gui.addFolder('image');\nconst config = {\n  x: 200,\n  y: 100,\n  width: 200,\n  height: 200,\n  opacity: 1,\n  anchorX: 0,\n  anchorY: 0,\n  src: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n};\nimageFolder.add(config, 'x', 0, 400).onChange((x) => {\n  image.style.x = x;\n});\nimageFolder.add(config, 'y', 0, 400).onChange((y) => {\n  image.style.y = y;\n});\nimageFolder.add(config, 'width', 0, 400).onChange((width) => {\n  image.style.width = width;\n});\nimageFolder.add(config, 'height', 0, 400).onChange((height) => {\n  image.style.height = height;\n});\nimageFolder.add(config, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  image.style.anchor = [anchorX, config.anchorY];\n});\nimageFolder.add(config, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  image.style.anchor = [config.anchorX, anchorY];\n});\nimageFolder.add(config, 'opacity', 0, 1, 0.1).onChange((opacity) => {\n  image.style.opacity = opacity;\n});\nimageFolder\n  .add(config, 'src', [\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8eoKRbfOwgAAAAAAAAAAAABkARQnAQ',\n  ])\n  .onChange((src) => {\n    image.style.img = src;\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.clip = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // clip path shape\n\n  var clipPathCircle = new _g.Circle({\n    style: {\n      x: 100,\n      y: 100,\n      r: 50\n    }\n  });\n  var clipPathRect = new _g.Rect({\n    style: {\n      x: 100,\n      y: 100,\n      width: 50,\n      height: 50\n    }\n  });\n  var clipPath = new _g.Path({\n    style: {\n      stroke: 'black',\n      lineWidth: 2,\n      path: 'M 10,10 L -10,0 L 10,-10 Z',\n      anchor: [0.5, 0.5]\n    }\n  });\n  clipPath.setLocalPosition(100, 100); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var image = new _g.Image({\n    style: {\n      x: 200,\n      y: 100,\n      width: 200,\n      height: 200,\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ',\n      clipPath: clipPathCircle\n    }\n  });\n  var image2 = new _g.Image({\n    style: {\n      x: 200,\n      y: 200,\n      width: 200,\n      height: 200,\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n      clipPath: clipPathCircle\n    }\n  });\n  var group = new _g.Group({\n    style: {\n      x: 200,\n      y: 300,\n      clipPath: clipPathCircle,\n      cursor: 'pointer'\n    }\n  });\n  var textStyle = {\n    fontFamily: 'PingFang SC',\n    text: '这是测试文本',\n    fontSize: 40,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 5\n  };\n  var text1 = new _g.Text({\n    style: textStyle\n  });\n  var text2 = new _g.Text({\n    style: textStyle\n  });\n  var text3 = new _g.Text({\n    style: textStyle\n  });\n  text2.translateLocal(0, 50);\n  text3.translateLocal(0, 100);\n  group.appendChild(text1);\n  group.appendChild(text2);\n  group.appendChild(text3);\n  canvas.appendChild(image);\n  canvas.appendChild(image2);\n  canvas.appendChild(group);\n  clipPathCircle.animate([{\n    transform: 'scale(1)'\n  }, {\n    transform: 'scale(1.2)'\n  }], {\n    duration: 1500,\n    iterations: Infinity\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var clipFolder = gui.addFolder('clipPath');\n  var clipConfig = {\n    clipPath: 'circle',\n    r: 50\n  };\n  clipFolder.add(clipConfig, 'clipPath', ['circle', 'rect', 'path', 'null']).onChange(function (type) {\n    switch (type) {\n      case 'circle':\n        image.style.clipPath = clipPathCircle;\n        break;\n\n      case 'rect':\n        image.style.clipPath = clipPathRect;\n        break;\n\n      case 'path':\n        image.style.clipPath = clipPath;\n        break;\n\n      case 'null':\n        // clear clip path\n        image.style.clipPath = null; // image.setClip(null);\n\n        break;\n    }\n  });\n  clipFolder.add(clipConfig, 'r', 0, 100).onChange(function (r) {\n    clipPathCircle.style.r = r;\n  });\n  clipFolder.open();\n  var imageFolder = gui.addFolder('image');\n  var config = {\n    x: 200,\n    y: 100,\n    width: 200,\n    height: 200,\n    opacity: 1,\n    anchorX: 0,\n    anchorY: 0,\n    src: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n  };\n  imageFolder.add(config, 'x', 0, 400).onChange(function (x) {\n    image.style.x = x;\n  });\n  imageFolder.add(config, 'y', 0, 400).onChange(function (y) {\n    image.style.y = y;\n  });\n  imageFolder.add(config, 'width', 0, 400).onChange(function (width) {\n    image.style.width = width;\n  });\n  imageFolder.add(config, 'height', 0, 400).onChange(function (height) {\n    image.style.height = height;\n  });\n  imageFolder.add(config, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    image.style.anchor = [anchorX, config.anchorY];\n  });\n  imageFolder.add(config, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    image.style.anchor = [config.anchorX, anchorY];\n  });\n  imageFolder.add(config, 'opacity', 0, 1, 0.1).onChange(function (opacity) {\n    image.style.opacity = opacity;\n  });\n  imageFolder.add(config, 'src', ['https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ', 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8eoKRbfOwgAAAAAAAAAAAABkARQnAQ']).onChange(function (src) {\n    image.style.img = src;\n  });\n});"},{"relativePath":"shape/demo/ellipse.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/ellipse.js","order":1,"filename":"ellipse.js","title":{"zh":"椭圆","en":"Ellipse"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8eoKRbfOwgAAAAAAAAAAAABkARQnAQ","source":"import { Ellipse, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst ellipse = new Ellipse({\n  style: {\n    x: 300,\n    y: 200,\n    rx: 100,\n    ry: 150,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\ncanvas.appendChild(ellipse);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst ellipseFolder = gui.addFolder('ellipse');\nconst ellipseConfig = {\n  rx: 100,\n  ry: 150,\n  fill: '#1890FF',\n  stroke: '#F04864',\n  lineWidth: 4,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  anchorX: 0.5,\n  anchorY: 0.5,\n};\nellipseFolder.add(ellipseConfig, 'rx', 50, 200).onChange((radius) => {\n  ellipse.attr('rx', radius);\n});\nellipseFolder.add(ellipseConfig, 'ry', 50, 200).onChange((radius) => {\n  ellipse.attr('ry', radius);\n});\nellipseFolder.add(ellipseConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  ellipse.attr('anchor', [anchorX, ellipseConfig.anchorY]);\n});\nellipseFolder.add(ellipseConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  ellipse.attr('anchor', [ellipseConfig.anchorX, anchorY]);\n});\nellipseFolder.addColor(ellipseConfig, 'fill').onChange((color) => {\n  ellipse.attr('fill', color);\n});\nellipseFolder.addColor(ellipseConfig, 'stroke').onChange((color) => {\n  ellipse.attr('stroke', color);\n});\nellipseFolder.add(ellipseConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  ellipse.attr('lineWidth', lineWidth);\n});\nellipseFolder.add(ellipseConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  ellipse.attr('fillOpacity', opacity);\n});\nellipseFolder.add(ellipseConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  ellipse.attr('strokeOpacity', opacity);\n});\nellipseFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.ellipse = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var ellipse = new _g.Ellipse({\n    style: {\n      x: 300,\n      y: 200,\n      rx: 100,\n      ry: 150,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  canvas.appendChild(ellipse); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var ellipseFolder = gui.addFolder('ellipse');\n  var ellipseConfig = {\n    rx: 100,\n    ry: 150,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    anchorX: 0.5,\n    anchorY: 0.5\n  };\n  ellipseFolder.add(ellipseConfig, 'rx', 50, 200).onChange(function (radius) {\n    ellipse.attr('rx', radius);\n  });\n  ellipseFolder.add(ellipseConfig, 'ry', 50, 200).onChange(function (radius) {\n    ellipse.attr('ry', radius);\n  });\n  ellipseFolder.add(ellipseConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    ellipse.attr('anchor', [anchorX, ellipseConfig.anchorY]);\n  });\n  ellipseFolder.add(ellipseConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    ellipse.attr('anchor', [ellipseConfig.anchorX, anchorY]);\n  });\n  ellipseFolder.addColor(ellipseConfig, 'fill').onChange(function (color) {\n    ellipse.attr('fill', color);\n  });\n  ellipseFolder.addColor(ellipseConfig, 'stroke').onChange(function (color) {\n    ellipse.attr('stroke', color);\n  });\n  ellipseFolder.add(ellipseConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    ellipse.attr('lineWidth', lineWidth);\n  });\n  ellipseFolder.add(ellipseConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    ellipse.attr('fillOpacity', opacity);\n  });\n  ellipseFolder.add(ellipseConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    ellipse.attr('strokeOpacity', opacity);\n  });\n  ellipseFolder.open();\n});"},{"relativePath":"shape/demo/html.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/html.js","order":13,"filename":"html.js","title":{"zh":"HTML 内容","en":"HTML Content"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*qGIRSaeHsTQAAAAAAAAAAAAAARQnAQ","source":"import { Line, HTML, Rect, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// create a line\nconst line = new Line({\n  style: {\n    x1: 200,\n    y1: 100,\n    x2: 400,\n    y2: 100,\n    stroke: '#1890FF',\n    lineWidth: 2,\n  },\n});\nconst p1 = new HTML({\n  style: {\n    x: 200,\n    y: 100,\n    width: 60,\n    height: 30,\n    innerHTML: 'p1',\n  },\n});\nconst p2 = new HTML({\n  style: {\n    x: 400,\n    y: 100,\n    width: 60,\n    height: 30,\n    innerHTML: 'p2',\n  },\n});\n\nconst rect = new Rect({\n  name: 'test-name',\n  style: {\n    x: 200,\n    y: 100,\n    width: 300,\n    height: 100,\n    fill: '#1890FF',\n  },\n});\nconst text = new Text({\n  style: {\n    x: 150,\n    y: 50,\n    text: 'Click me!',\n    fontSize: 22,\n    fill: '#000',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\nrect.appendChild(text);\nconst tooltip = new HTML({\n  style: {\n    x: 0,\n    y: 0,\n    innerHTML: 'Tooltip',\n    width: 100,\n    height: 30,\n    // visibility: 'hidden',\n  },\n});\n\ncanvas.appendChild(line);\ncanvas.appendChild(p1);\ncanvas.appendChild(p2);\ncanvas.appendChild(rect);\ncanvas.appendChild(tooltip);\n\nrect.addEventListener('mouseenter', (e) => {\n  tooltip.setPosition(e.x, e.y);\n  tooltip.show();\n  console.log('enter...', e.target);\n});\nrect.addEventListener('mouseleave', (e) => {\n  tooltip.setPosition(0, 0);\n  tooltip.hide();\n  console.log('leave...', e.target);\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst lineFolder = gui.addFolder('line');\nconst lineConfig = {\n  stroke: '#1890FF',\n  lineWidth: 2,\n  strokeOpacity: 1,\n  anchorX: 0,\n  anchorY: 0,\n  x1: 200,\n  y1: 100,\n  x2: 400,\n  y2: 100,\n};\nlineFolder.add(lineConfig, 'x1', 0, 400).onChange((x1) => {\n  line.style.x1 = x1;\n  p1.style.x = x1;\n});\nlineFolder.add(lineConfig, 'y1', 0, 400).onChange((y1) => {\n  line.style.y1 = y1;\n  p1.style.y = y1;\n});\nlineFolder.add(lineConfig, 'x2', 0, 400).onChange((x2) => {\n  line.style.x2 = x2;\n  p2.style.x = x2;\n});\nlineFolder.add(lineConfig, 'y2', 0, 400).onChange((y2) => {\n  line.style.y2 = y2;\n  p2.style.y = y2;\n});\nlineFolder.addColor(lineConfig, 'stroke').onChange((color) => {\n  line.style.stroke = color;\n});\nlineFolder.add(lineConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  line.style.lineWidth = lineWidth;\n});\nlineFolder.add(lineConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  line.style.strokeOpacity = opacity;\n});\nlineFolder.add(lineConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  line.attr('anchor', [anchorX, lineConfig.anchorY]);\n});\nlineFolder.add(lineConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  line.attr('anchor', [lineConfig.anchorX, anchorY]);\n});\nlineFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.html = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // create a line\n\n  var line = new _g.Line({\n    style: {\n      x1: 200,\n      y1: 100,\n      x2: 400,\n      y2: 100,\n      stroke: '#1890FF',\n      lineWidth: 2\n    }\n  });\n  var p1 = new _g.HTML({\n    style: {\n      x: 200,\n      y: 100,\n      width: 60,\n      height: 30,\n      innerHTML: 'p1'\n    }\n  });\n  var p2 = new _g.HTML({\n    style: {\n      x: 400,\n      y: 100,\n      width: 60,\n      height: 30,\n      innerHTML: 'p2'\n    }\n  });\n  var rect = new _g.Rect({\n    name: 'test-name',\n    style: {\n      x: 200,\n      y: 100,\n      width: 300,\n      height: 100,\n      fill: '#1890FF'\n    }\n  });\n  var text = new _g.Text({\n    style: {\n      x: 150,\n      y: 50,\n      text: 'Click me!',\n      fontSize: 22,\n      fill: '#000',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  rect.appendChild(text);\n  var tooltip = new _g.HTML({\n    style: {\n      x: 0,\n      y: 0,\n      innerHTML: 'Tooltip',\n      width: 100,\n      height: 30 // visibility: 'hidden',\n\n    }\n  });\n  canvas.appendChild(line);\n  canvas.appendChild(p1);\n  canvas.appendChild(p2);\n  canvas.appendChild(rect);\n  canvas.appendChild(tooltip);\n  rect.addEventListener('mouseenter', function (e) {\n    tooltip.setPosition(e.x, e.y);\n    tooltip.show();\n    console.log('enter...', e.target);\n  });\n  rect.addEventListener('mouseleave', function (e) {\n    tooltip.setPosition(0, 0);\n    tooltip.hide();\n    console.log('leave...', e.target);\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var lineFolder = gui.addFolder('line');\n  var lineConfig = {\n    stroke: '#1890FF',\n    lineWidth: 2,\n    strokeOpacity: 1,\n    anchorX: 0,\n    anchorY: 0,\n    x1: 200,\n    y1: 100,\n    x2: 400,\n    y2: 100\n  };\n  lineFolder.add(lineConfig, 'x1', 0, 400).onChange(function (x1) {\n    line.style.x1 = x1;\n    p1.style.x = x1;\n  });\n  lineFolder.add(lineConfig, 'y1', 0, 400).onChange(function (y1) {\n    line.style.y1 = y1;\n    p1.style.y = y1;\n  });\n  lineFolder.add(lineConfig, 'x2', 0, 400).onChange(function (x2) {\n    line.style.x2 = x2;\n    p2.style.x = x2;\n  });\n  lineFolder.add(lineConfig, 'y2', 0, 400).onChange(function (y2) {\n    line.style.y2 = y2;\n    p2.style.y = y2;\n  });\n  lineFolder.addColor(lineConfig, 'stroke').onChange(function (color) {\n    line.style.stroke = color;\n  });\n  lineFolder.add(lineConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    line.style.lineWidth = lineWidth;\n  });\n  lineFolder.add(lineConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    line.style.strokeOpacity = opacity;\n  });\n  lineFolder.add(lineConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    line.attr('anchor', [anchorX, lineConfig.anchorY]);\n  });\n  lineFolder.add(lineConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    line.attr('anchor', [lineConfig.anchorX, anchorY]);\n  });\n  lineFolder.open();\n});"},{"relativePath":"shape/demo/filter.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/filter.js","order":12,"filename":"filter.js","title":{"zh":"滤镜","en":"Filter"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8BomR52SOm4AAAAAAAAAAAAAARQnAQ","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst blur = 'blur(5px)';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// create a circle\nconst circle = new Circle({\n  style: {\n    x: 300,\n    y: 200,\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    filter: blur,\n  },\n});\n\n// add a circle to canvas\ncanvas.appendChild(circle);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst circleFolder = gui.addFolder('circle');\nconst circleConfig = {\n  r: 100,\n  fill: '#1890FF',\n  stroke: '#F04864',\n  lineWidth: 4,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  anchorX: 0.5,\n  anchorY: 0.5,\n};\ncircleFolder.add(circleConfig, 'r', 50, 200).onChange((radius) => {\n  circle.style.r = radius;\n});\ncircleFolder.addColor(circleConfig, 'fill').onChange((color) => {\n  circle.style.fill = color;\n});\ncircleFolder.addColor(circleConfig, 'stroke').onChange((color) => {\n  circle.attr('stroke', color);\n});\ncircleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  circle.attr('lineWidth', lineWidth);\n});\ncircleFolder.add(circleConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  circle.attr('fillOpacity', opacity);\n});\ncircleFolder.add(circleConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  circle.attr('strokeOpacity', opacity);\n});\ncircleFolder.add(circleConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  circle.attr('anchor', [anchorX, circleConfig.anchorY]);\n});\ncircleFolder.add(circleConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  circle.attr('anchor', [circleConfig.anchorX, anchorY]);\n});\n\nconst blurFolder = gui.addFolder('blur');\nconst blurConfig = {\n  enable: true,\n  radius: 5,\n};\nblurFolder.add(blurConfig, 'enable').onChange(() => {\n  circle.style.filter = generateFilter();\n});\nblurFolder.add(blurConfig, 'radius', 0, 20).onChange(() => {\n  circle.style.filter = generateFilter();\n});\nblurFolder.open();\n\nconst brightnessFolder = gui.addFolder('brightness');\nconst brightnessConfig = {\n  enable: false,\n  brightness: 1,\n};\nbrightnessFolder.add(brightnessConfig, 'enable').onChange(() => {\n  circle.style.filter = generateFilter();\n});\nbrightnessFolder.add(brightnessConfig, 'brightness', 0, 4, 0.1).onChange(() => {\n  circle.style.filter = generateFilter();\n});\nbrightnessFolder.open();\n\nconst dropShadowFolder = gui.addFolder('drop-shadow');\nconst dropShadowConfig = {\n  enable: false,\n  offsetX: 0,\n  offsetY: 0,\n  radius: 0,\n  color: '#000',\n};\ndropShadowFolder.add(dropShadowConfig, 'enable').onChange(() => {\n  circle.style.filter = generateFilter();\n});\ndropShadowFolder.add(dropShadowConfig, 'offsetX', -10, 10).onChange(() => {\n  circle.style.filter = generateFilter();\n});\ndropShadowFolder.add(dropShadowConfig, 'offsetY', -10, 10).onChange(() => {\n  circle.style.filter = generateFilter();\n});\ndropShadowFolder.add(dropShadowConfig, 'radius', 0, 10).onChange(() => {\n  circle.style.filter = generateFilter();\n});\ndropShadowFolder.addColor(dropShadowConfig, 'color').onChange(() => {\n  circle.style.filter = generateFilter();\n});\ndropShadowFolder.open();\n\nconst contrastFolder = gui.addFolder('contrast');\nconst contrastConfig = {\n  enable: false,\n  contrast: 1,\n};\ncontrastFolder.add(contrastConfig, 'enable').onChange(() => {\n  circle.style.filter = generateFilter();\n});\ncontrastFolder.add(contrastConfig, 'contrast', 0, 4, 0.1).onChange(() => {\n  circle.style.filter = generateFilter();\n});\ncontrastFolder.open();\n\nconst grayscaleFolder = gui.addFolder('grayscale');\nconst grayscaleConfig = {\n  enable: false,\n  grayscale: 0,\n};\ngrayscaleFolder.add(grayscaleConfig, 'enable').onChange(() => {\n  circle.style.filter = generateFilter();\n});\ngrayscaleFolder.add(grayscaleConfig, 'grayscale', 0, 1, 0.1).onChange(() => {\n  circle.style.filter = generateFilter();\n});\ngrayscaleFolder.open();\n\nconst sepiaFolder = gui.addFolder('sepia');\nconst sepiaConfig = {\n  enable: false,\n  sepia: 0,\n};\nsepiaFolder.add(sepiaConfig, 'enable').onChange(() => {\n  circle.style.filter = generateFilter();\n});\nsepiaFolder.add(sepiaConfig, 'sepia', 0, 1, 0.1).onChange(() => {\n  circle.style.filter = generateFilter();\n});\nsepiaFolder.open();\n\nconst saturateFolder = gui.addFolder('saturate');\nconst saturateConfig = {\n  enable: false,\n  saturate: 0,\n};\nsaturateFolder.add(saturateConfig, 'enable').onChange(() => {\n  circle.style.filter = generateFilter();\n});\nsaturateFolder.add(saturateConfig, 'saturate', 0, 1, 0.1).onChange(() => {\n  circle.style.filter = generateFilter();\n});\nsaturateFolder.open();\n\nconst hueRotateFolder = gui.addFolder('hue-rotate');\nconst hueRotateConfig = {\n  enable: false,\n  angle: 0,\n};\nhueRotateFolder.add(hueRotateConfig, 'enable').onChange(() => {\n  circle.style.filter = generateFilter();\n});\nhueRotateFolder.add(hueRotateConfig, 'angle', 0, 360).onChange(() => {\n  circle.style.filter = generateFilter();\n});\nhueRotateFolder.open();\n\nconst invertFolder = gui.addFolder('invert');\nconst invertConfig = {\n  enable: false,\n  amount: 0,\n};\ninvertFolder.add(invertConfig, 'enable').onChange(() => {\n  circle.style.filter = generateFilter();\n});\ninvertFolder.add(invertConfig, 'amount', 0, 1, 0.1).onChange(() => {\n  circle.style.filter = generateFilter();\n});\ninvertFolder.open();\n\nconst generateFilter = () => {\n  return [\n    blurConfig.enable ? `blur(${blurConfig.radius}px)` : '',\n    brightnessConfig.enable ? `brightness(${brightnessConfig.brightness})` : '',\n    dropShadowConfig.enable\n      ? `drop-shadow(${dropShadowConfig.offsetX}px ${dropShadowConfig.offsetY}px ${dropShadowConfig.radius}px ${dropShadowConfig.color})`\n      : '',\n    contrastConfig.enable ? `contrast(${contrastConfig.contrast})` : '',\n    grayscaleConfig.enable ? `grayscale(${grayscaleConfig.grayscale})` : '',\n    sepiaConfig.enable ? `sepia(${sepiaConfig.sepia})` : '',\n    saturateConfig.enable ? `saturate(${saturateConfig.saturate})` : '',\n    hueRotateConfig.enable ? `hue-rotate(${hueRotateConfig.angle}deg)` : '',\n    invertConfig.enable ? `invert(${invertConfig.amount})` : '',\n  ].join(' ');\n};\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.filter = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var blur = 'blur(5px)'; // create a renderer\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // create a circle\n\n  var circle = new _g.Circle({\n    style: {\n      x: 300,\n      y: 200,\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      filter: blur\n    }\n  }); // add a circle to canvas\n\n  canvas.appendChild(circle); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var circleFolder = gui.addFolder('circle');\n  var circleConfig = {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    anchorX: 0.5,\n    anchorY: 0.5\n  };\n  circleFolder.add(circleConfig, 'r', 50, 200).onChange(function (radius) {\n    circle.style.r = radius;\n  });\n  circleFolder.addColor(circleConfig, 'fill').onChange(function (color) {\n    circle.style.fill = color;\n  });\n  circleFolder.addColor(circleConfig, 'stroke').onChange(function (color) {\n    circle.attr('stroke', color);\n  });\n  circleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    circle.attr('lineWidth', lineWidth);\n  });\n  circleFolder.add(circleConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    circle.attr('fillOpacity', opacity);\n  });\n  circleFolder.add(circleConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    circle.attr('strokeOpacity', opacity);\n  });\n  circleFolder.add(circleConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    circle.attr('anchor', [anchorX, circleConfig.anchorY]);\n  });\n  circleFolder.add(circleConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    circle.attr('anchor', [circleConfig.anchorX, anchorY]);\n  });\n  var blurFolder = gui.addFolder('blur');\n  var blurConfig = {\n    enable: true,\n    radius: 5\n  };\n  blurFolder.add(blurConfig, 'enable').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  blurFolder.add(blurConfig, 'radius', 0, 20).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  blurFolder.open();\n  var brightnessFolder = gui.addFolder('brightness');\n  var brightnessConfig = {\n    enable: false,\n    brightness: 1\n  };\n  brightnessFolder.add(brightnessConfig, 'enable').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  brightnessFolder.add(brightnessConfig, 'brightness', 0, 4, 0.1).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  brightnessFolder.open();\n  var dropShadowFolder = gui.addFolder('drop-shadow');\n  var dropShadowConfig = {\n    enable: false,\n    offsetX: 0,\n    offsetY: 0,\n    radius: 0,\n    color: '#000'\n  };\n  dropShadowFolder.add(dropShadowConfig, 'enable').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  dropShadowFolder.add(dropShadowConfig, 'offsetX', -10, 10).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  dropShadowFolder.add(dropShadowConfig, 'offsetY', -10, 10).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  dropShadowFolder.add(dropShadowConfig, 'radius', 0, 10).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  dropShadowFolder.addColor(dropShadowConfig, 'color').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  dropShadowFolder.open();\n  var contrastFolder = gui.addFolder('contrast');\n  var contrastConfig = {\n    enable: false,\n    contrast: 1\n  };\n  contrastFolder.add(contrastConfig, 'enable').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  contrastFolder.add(contrastConfig, 'contrast', 0, 4, 0.1).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  contrastFolder.open();\n  var grayscaleFolder = gui.addFolder('grayscale');\n  var grayscaleConfig = {\n    enable: false,\n    grayscale: 0\n  };\n  grayscaleFolder.add(grayscaleConfig, 'enable').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  grayscaleFolder.add(grayscaleConfig, 'grayscale', 0, 1, 0.1).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  grayscaleFolder.open();\n  var sepiaFolder = gui.addFolder('sepia');\n  var sepiaConfig = {\n    enable: false,\n    sepia: 0\n  };\n  sepiaFolder.add(sepiaConfig, 'enable').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  sepiaFolder.add(sepiaConfig, 'sepia', 0, 1, 0.1).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  sepiaFolder.open();\n  var saturateFolder = gui.addFolder('saturate');\n  var saturateConfig = {\n    enable: false,\n    saturate: 0\n  };\n  saturateFolder.add(saturateConfig, 'enable').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  saturateFolder.add(saturateConfig, 'saturate', 0, 1, 0.1).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  saturateFolder.open();\n  var hueRotateFolder = gui.addFolder('hue-rotate');\n  var hueRotateConfig = {\n    enable: false,\n    angle: 0\n  };\n  hueRotateFolder.add(hueRotateConfig, 'enable').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  hueRotateFolder.add(hueRotateConfig, 'angle', 0, 360).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  hueRotateFolder.open();\n  var invertFolder = gui.addFolder('invert');\n  var invertConfig = {\n    enable: false,\n    amount: 0\n  };\n  invertFolder.add(invertConfig, 'enable').onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  invertFolder.add(invertConfig, 'amount', 0, 1, 0.1).onChange(function () {\n    circle.style.filter = generateFilter();\n  });\n  invertFolder.open();\n\n  var generateFilter = function generateFilter() {\n    return [blurConfig.enable ? \"blur(\".concat(blurConfig.radius, \"px)\") : '', brightnessConfig.enable ? \"brightness(\".concat(brightnessConfig.brightness, \")\") : '', dropShadowConfig.enable ? \"drop-shadow(\".concat(dropShadowConfig.offsetX, \"px \").concat(dropShadowConfig.offsetY, \"px \").concat(dropShadowConfig.radius, \"px \").concat(dropShadowConfig.color, \")\") : '', contrastConfig.enable ? \"contrast(\".concat(contrastConfig.contrast, \")\") : '', grayscaleConfig.enable ? \"grayscale(\".concat(grayscaleConfig.grayscale, \")\") : '', sepiaConfig.enable ? \"sepia(\".concat(sepiaConfig.sepia, \")\") : '', saturateConfig.enable ? \"saturate(\".concat(saturateConfig.saturate, \")\") : '', hueRotateConfig.enable ? \"hue-rotate(\".concat(hueRotateConfig.angle, \"deg)\") : '', invertConfig.enable ? \"invert(\".concat(invertConfig.amount, \")\") : ''].join(' ');\n  };\n});"},{"relativePath":"shape/demo/image.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/image.js","order":3,"filename":"image.js","title":{"zh":"图片","en":"Image"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*OIAmRpwhNWYAAAAAAAAAAABkARQnAQ","source":"import { Image, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst image = new Image({\n  style: {\n    x: 200,\n    y: 100,\n    width: 200,\n    height: 200,\n    img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n  },\n});\n\ncanvas.appendChild(image);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst imageFolder = gui.addFolder('image');\nconst config = {\n  x: 200,\n  y: 100,\n  width: 200,\n  height: 200,\n  opacity: 1,\n  anchorX: 0,\n  anchorY: 0,\n  src: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n  visible: true,\n};\nimageFolder.add(config, 'x', 0, 400).onChange((x) => {\n  image.style.x = x;\n});\nimageFolder.add(config, 'y', 0, 400).onChange((y) => {\n  image.style.y = y;\n});\nimageFolder.add(config, 'width', 0, 400).onChange((width) => {\n  image.style.width = width;\n});\nimageFolder.add(config, 'height', 0, 400).onChange((height) => {\n  image.style.height = height;\n});\nimageFolder.add(config, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  image.style.anchor = [anchorX, config.anchorY];\n});\nimageFolder.add(config, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  image.style.anchor = [config.anchorX, anchorY];\n});\nimageFolder.add(config, 'opacity', 0, 1, 0.1).onChange((opacity) => {\n  image.style.opacity = opacity;\n});\nimageFolder\n  .add(config, 'src', [\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8eoKRbfOwgAAAAAAAAAAAABkARQnAQ',\n  ])\n  .onChange((src) => {\n    image.style.img = src;\n  });\nimageFolder.add(config, 'visible').onChange((visible) => {\n  if (visible) {\n    image.style.visibility = 'visible';\n    // image.show();\n  } else {\n    image.style.visibility = 'hidden';\n    // image.hide();\n  }\n});\nimageFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.image = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var image = new _g.Image({\n    style: {\n      x: 200,\n      y: 100,\n      width: 200,\n      height: 200,\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n    }\n  });\n  canvas.appendChild(image); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var imageFolder = gui.addFolder('image');\n  var config = {\n    x: 200,\n    y: 100,\n    width: 200,\n    height: 200,\n    opacity: 1,\n    anchorX: 0,\n    anchorY: 0,\n    src: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n    visible: true\n  };\n  imageFolder.add(config, 'x', 0, 400).onChange(function (x) {\n    image.style.x = x;\n  });\n  imageFolder.add(config, 'y', 0, 400).onChange(function (y) {\n    image.style.y = y;\n  });\n  imageFolder.add(config, 'width', 0, 400).onChange(function (width) {\n    image.style.width = width;\n  });\n  imageFolder.add(config, 'height', 0, 400).onChange(function (height) {\n    image.style.height = height;\n  });\n  imageFolder.add(config, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    image.style.anchor = [anchorX, config.anchorY];\n  });\n  imageFolder.add(config, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    image.style.anchor = [config.anchorX, anchorY];\n  });\n  imageFolder.add(config, 'opacity', 0, 1, 0.1).onChange(function (opacity) {\n    image.style.opacity = opacity;\n  });\n  imageFolder.add(config, 'src', ['https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ', 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8eoKRbfOwgAAAAAAAAAAAABkARQnAQ']).onChange(function (src) {\n    image.style.img = src;\n  });\n  imageFolder.add(config, 'visible').onChange(function (visible) {\n    if (visible) {\n      image.style.visibility = 'visible'; // image.show();\n    } else {\n      image.style.visibility = 'hidden'; // image.hide();\n    }\n  });\n  imageFolder.open();\n});"},{"relativePath":"shape/demo/gradient.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/gradient.js","order":11,"filename":"gradient.js","title":{"zh":"渐变色和模式","en":"Gradient & Pattern"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*WK1jQIIUP0cAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst linearGradient = 'l(0) 0:#ffffff 0.5:#7ec2f3 1:#1890ff';\nconst radialGradient = 'r(0.5, 0.5, 1) 0:#ffffff 1:#1890ff';\nconst pattern = 'p(a) https://gw.alipayobjects.com/zos/rmsportal/ibtwzHXSxomqbZCPMLqS.png';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// create a circle\nconst circle = new Circle({\n  style: {\n    x: 300,\n    y: 200,\n    r: 100,\n    fill: linearGradient,\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\n// add a circle to canvas\ncanvas.appendChild(circle);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst circleFolder = gui.addFolder('circle');\nconst circleConfig = {\n  r: 100,\n  fill: 'linear',\n  stroke: '#F04864',\n  lineWidth: 4,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  anchorX: 0.5,\n  anchorY: 0.5,\n};\ncircleFolder.add(circleConfig, 'r', 50, 200).onChange((radius) => {\n  circle.style.r = radius;\n});\ncircleFolder.add(circleConfig, 'fill', ['linear', 'radial', 'pattern']).onChange((color) => {\n  if (color === 'linear') {\n    circle.style.fill = linearGradient;\n  } else if (color === 'radial') {\n    circle.style.fill = radialGradient;\n  } else if (color === 'pattern') {\n    circle.style.fill = pattern;\n  }\n});\ncircleFolder.addColor(circleConfig, 'stroke').onChange((color) => {\n  circle.attr('stroke', color);\n});\ncircleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  circle.attr('lineWidth', lineWidth);\n});\ncircleFolder.add(circleConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  circle.attr('fillOpacity', opacity);\n});\ncircleFolder.add(circleConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  circle.attr('strokeOpacity', opacity);\n});\ncircleFolder.add(circleConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  circle.attr('anchor', [anchorX, circleConfig.anchorY]);\n});\ncircleFolder.add(circleConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  circle.attr('anchor', [circleConfig.anchorX, anchorY]);\n});\ncircleFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.gradient = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var linearGradient = 'l(0) 0:#ffffff 0.5:#7ec2f3 1:#1890ff';\n  var radialGradient = 'r(0.5, 0.5, 1) 0:#ffffff 1:#1890ff';\n  var pattern = 'p(a) https://gw.alipayobjects.com/zos/rmsportal/ibtwzHXSxomqbZCPMLqS.png'; // create a renderer\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // create a circle\n\n  var circle = new _g.Circle({\n    style: {\n      x: 300,\n      y: 200,\n      r: 100,\n      fill: linearGradient,\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  }); // add a circle to canvas\n\n  canvas.appendChild(circle); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var circleFolder = gui.addFolder('circle');\n  var circleConfig = {\n    r: 100,\n    fill: 'linear',\n    stroke: '#F04864',\n    lineWidth: 4,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    anchorX: 0.5,\n    anchorY: 0.5\n  };\n  circleFolder.add(circleConfig, 'r', 50, 200).onChange(function (radius) {\n    circle.style.r = radius;\n  });\n  circleFolder.add(circleConfig, 'fill', ['linear', 'radial', 'pattern']).onChange(function (color) {\n    if (color === 'linear') {\n      circle.style.fill = linearGradient;\n    } else if (color === 'radial') {\n      circle.style.fill = radialGradient;\n    } else if (color === 'pattern') {\n      circle.style.fill = pattern;\n    }\n  });\n  circleFolder.addColor(circleConfig, 'stroke').onChange(function (color) {\n    circle.attr('stroke', color);\n  });\n  circleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    circle.attr('lineWidth', lineWidth);\n  });\n  circleFolder.add(circleConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    circle.attr('fillOpacity', opacity);\n  });\n  circleFolder.add(circleConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    circle.attr('strokeOpacity', opacity);\n  });\n  circleFolder.add(circleConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    circle.attr('anchor', [anchorX, circleConfig.anchorY]);\n  });\n  circleFolder.add(circleConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    circle.attr('anchor', [circleConfig.anchorX, anchorY]);\n  });\n  circleFolder.open();\n});"},{"relativePath":"shape/demo/line.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/line.js","order":4,"filename":"line.js","title":{"zh":"直线","en":"Line"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*7YsyTJDA_CMAAAAAAAAAAABkARQnAQ","source":"import { Line, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// create a line\nconst line1 = new Line({\n  style: {\n    x1: 200,\n    y1: 100,\n    x2: 400,\n    y2: 100,\n    stroke: '#1890FF',\n    lineWidth: 2,\n  },\n});\n\nconst line2 = new Line({\n  style: {\n    x1: 200,\n    y1: 150,\n    x2: 400,\n    y2: 150,\n    lineWidth: 2,\n    lineDash: [10, 10],\n    stroke: '#F04864',\n  },\n});\nconst line3 = new Line({\n  style: {\n    x1: 200,\n    y1: 200,\n    x2: 400,\n    y2: 200,\n    lineWidth: 2,\n    stroke: 'l(0) 0:#F04864 0.5:#7EC2F3 1:#1890FF',\n  },\n});\n\ncanvas.appendChild(line1);\ncanvas.appendChild(line2);\ncanvas.appendChild(line3);\n\nline2.animate([{ lineDashOffset: -20 }, { lineDashOffset: 0 }], {\n  duration: 1500,\n  iterations: Infinity,\n});\n\nline3.animate(\n  [\n    { x1: 200, lineWidth: 2 },\n    { x1: 0, lineWidth: 10 },\n  ],\n  {\n    duration: 1500,\n    iterations: Infinity,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n  },\n);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst lineFolder = gui.addFolder('line1');\nconst lineConfig = {\n  stroke: '#1890FF',\n  lineWidth: 2,\n  lineJoin: 'miter',\n  lineCap: 'butt',\n  strokeOpacity: 1,\n  anchorX: 0,\n  anchorY: 0,\n  x1: 200,\n  y1: 100,\n  x2: 400,\n  y2: 100,\n  lineDash: 0,\n  lineDashOffset: 0,\n  visible: true,\n};\nlineFolder.add(lineConfig, 'lineJoin', ['miter', 'round', 'bevel']).onChange((lineJoin) => {\n  line1.style.lineJoin = lineJoin;\n});\nlineFolder.add(lineConfig, 'lineCap', ['butt', 'round', 'square']).onChange((lineCap) => {\n  line1.style.lineCap = lineCap;\n});\nlineFolder.add(lineConfig, 'lineDash', 0, 100).onChange((lineDash) => {\n  line1.style.lineDash = [lineDash];\n});\nlineFolder.add(lineConfig, 'lineDashOffset', 0, 100).onChange((lineDashOffset) => {\n  line1.style.lineDashOffset = lineDashOffset;\n});\nlineFolder.add(lineConfig, 'x1', 0, 400).onChange((x1) => {\n  line1.style.x1 = x1;\n});\nlineFolder.add(lineConfig, 'y1', 0, 400).onChange((y1) => {\n  line1.style.y1 = y1;\n});\nlineFolder.add(lineConfig, 'x2', 0, 400).onChange((x2) => {\n  line1.style.x2 = x2;\n});\nlineFolder.add(lineConfig, 'y2', 0, 400).onChange((y2) => {\n  line1.style.y2 = y2;\n});\nlineFolder.addColor(lineConfig, 'stroke').onChange((color) => {\n  line1.style.stroke = color;\n});\nlineFolder.add(lineConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  line1.style.lineWidth = lineWidth;\n});\nlineFolder.add(lineConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  line1.style.strokeOpacity = opacity;\n});\nlineFolder.add(lineConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  line1.attr('anchor', [anchorX, lineConfig.anchorY]);\n});\nlineFolder.add(lineConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  line1.attr('anchor', [lineConfig.anchorX, anchorY]);\n});\nlineFolder.add(lineConfig, 'visible').onChange((visible) => {\n  if (visible) {\n    line1.style.visibility = 'visible';\n    // line1.show();\n  } else {\n    line1.style.visibility = 'hidden';\n    // line1.hide();\n  }\n});\nlineFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.line = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // create a line\n\n  var line1 = new _g.Line({\n    style: {\n      x1: 200,\n      y1: 100,\n      x2: 400,\n      y2: 100,\n      stroke: '#1890FF',\n      lineWidth: 2\n    }\n  });\n  var line2 = new _g.Line({\n    style: {\n      x1: 200,\n      y1: 150,\n      x2: 400,\n      y2: 150,\n      lineWidth: 2,\n      lineDash: [10, 10],\n      stroke: '#F04864'\n    }\n  });\n  var line3 = new _g.Line({\n    style: {\n      x1: 200,\n      y1: 200,\n      x2: 400,\n      y2: 200,\n      lineWidth: 2,\n      stroke: 'l(0) 0:#F04864 0.5:#7EC2F3 1:#1890FF'\n    }\n  });\n  canvas.appendChild(line1);\n  canvas.appendChild(line2);\n  canvas.appendChild(line3);\n  line2.animate([{\n    lineDashOffset: -20\n  }, {\n    lineDashOffset: 0\n  }], {\n    duration: 1500,\n    iterations: Infinity\n  });\n  line3.animate([{\n    x1: 200,\n    lineWidth: 2\n  }, {\n    x1: 0,\n    lineWidth: 10\n  }], {\n    duration: 1500,\n    iterations: Infinity,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)'\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var lineFolder = gui.addFolder('line1');\n  var lineConfig = {\n    stroke: '#1890FF',\n    lineWidth: 2,\n    lineJoin: 'miter',\n    lineCap: 'butt',\n    strokeOpacity: 1,\n    anchorX: 0,\n    anchorY: 0,\n    x1: 200,\n    y1: 100,\n    x2: 400,\n    y2: 100,\n    lineDash: 0,\n    lineDashOffset: 0,\n    visible: true\n  };\n  lineFolder.add(lineConfig, 'lineJoin', ['miter', 'round', 'bevel']).onChange(function (lineJoin) {\n    line1.style.lineJoin = lineJoin;\n  });\n  lineFolder.add(lineConfig, 'lineCap', ['butt', 'round', 'square']).onChange(function (lineCap) {\n    line1.style.lineCap = lineCap;\n  });\n  lineFolder.add(lineConfig, 'lineDash', 0, 100).onChange(function (lineDash) {\n    line1.style.lineDash = [lineDash];\n  });\n  lineFolder.add(lineConfig, 'lineDashOffset', 0, 100).onChange(function (lineDashOffset) {\n    line1.style.lineDashOffset = lineDashOffset;\n  });\n  lineFolder.add(lineConfig, 'x1', 0, 400).onChange(function (x1) {\n    line1.style.x1 = x1;\n  });\n  lineFolder.add(lineConfig, 'y1', 0, 400).onChange(function (y1) {\n    line1.style.y1 = y1;\n  });\n  lineFolder.add(lineConfig, 'x2', 0, 400).onChange(function (x2) {\n    line1.style.x2 = x2;\n  });\n  lineFolder.add(lineConfig, 'y2', 0, 400).onChange(function (y2) {\n    line1.style.y2 = y2;\n  });\n  lineFolder.addColor(lineConfig, 'stroke').onChange(function (color) {\n    line1.style.stroke = color;\n  });\n  lineFolder.add(lineConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    line1.style.lineWidth = lineWidth;\n  });\n  lineFolder.add(lineConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    line1.style.strokeOpacity = opacity;\n  });\n  lineFolder.add(lineConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    line1.attr('anchor', [anchorX, lineConfig.anchorY]);\n  });\n  lineFolder.add(lineConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    line1.attr('anchor', [lineConfig.anchorX, anchorY]);\n  });\n  lineFolder.add(lineConfig, 'visible').onChange(function (visible) {\n    if (visible) {\n      line1.style.visibility = 'visible'; // line1.show();\n    } else {\n      line1.style.visibility = 'hidden'; // line1.hide();\n    }\n  });\n  lineFolder.open();\n});"},{"relativePath":"shape/demo/path.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/path.js","order":8,"filename":"path.js","title":{"zh":"路径","en":"Path"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*nw3DSKlj9t4AAAAAAAAAAABkARQnAQ","source":"import { Canvas, Path } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst path1 = new Path({\n  style: {\n    path: [\n      ['M', 100, 100],\n      ['L', 200, 100],\n    ],\n    stroke: '#F04864',\n    lineDash: [10],\n  },\n});\nconst path2 = new Path({\n  style: {\n    path:\n      'M 100,300' +\n      'l 50,-25' +\n      'a25,25 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,50 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,75 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,100 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'l 0, 200,' +\n      'z',\n    lineWidth: 10,\n    lineJoin: 'round',\n    stroke: '#54BECC',\n  },\n});\n\nconst path3 = new Path({\n  style: {\n    lineWidth: 1,\n    stroke: '#54BECC',\n    path: 'M 0,40 C 5.5555555555555545,40,22.222222222222218,44.44444444444445,33.33333333333333,40 C 44.444444444444436,35.55555555555556,55.55555555555554,14.66666666666667,66.66666666666666,13.333333333333336 C 77.77777777777777,12.000000000000002,88.88888888888887,32,100,32 C 111.11111111111113,32,122.22222222222221,14.66666666666667,133.33333333333331,13.333333333333336 C 144.44444444444443,12.000000000000002,155.55555555555557,24,166.66666666666669,24 C 177.7777777777778,24,188.8888888888889,11.111111111111114,200,13.333333333333336 C 211.1111111111111,15.555555555555557,222.22222222222226,35.111111111111114,233.33333333333334,37.333333333333336 C 244.44444444444443,39.55555555555555,255.55555555555551,31.22222222222223,266.66666666666663,26.66666666666667 C 277.77777777777777,22.111111111111114,294.4444444444444,12.777777777777779,300,10',\n  },\n});\n\nfunction getCirclePath(cx, cy, rx, ry) {\n  return [\n    // ['M', cx, cy - ry],\n    // ['A', rx, ry, 0, 1, 1, cx, cy + ry],\n    // ['A', rx, ry, 0, 1, 1, cx, cy - ry],\n\n    ['M', cx - rx, ry],\n    ['A', rx, ry, 0, 1, 0, cx + rx, ry],\n    ['A', rx, ry, 0, 1, 0, cx - rx, ry],\n    ['Z'],\n  ];\n}\n\nconst circlePath = new Path({\n  style: {\n    path: getCirclePath(0, 0, 100, 100),\n    lineWidth: 1,\n    stroke: '#54BECC',\n  },\n});\n\ncanvas.appendChild(path1);\ncanvas.appendChild(path2);\ncanvas.appendChild(path3);\ncanvas.appendChild(circlePath);\ncirclePath.setPosition(100, 300);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\n\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst circleFolder = gui.addFolder('circle');\nconst circleConfig = {\n  r: 100,\n  lineWidth: 1,\n  lineDash: 0,\n  lineDashOffset: 0,\n};\ncircleFolder.add(circleConfig, 'r', 0, 200).onChange((r) => {\n  circlePath.style.path = getCirclePath(0, 0, r, r);\n});\ncircleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  circlePath.style.lineWidth = lineWidth;\n});\ncircleFolder.add(circleConfig, 'lineDash', 0, 100).onChange((lineDash) => {\n  circlePath.style.lineDash = [lineDash];\n});\ncircleFolder.add(circleConfig, 'lineDashOffset', 0, 100).onChange((lineDashOffset) => {\n  circlePath.style.lineDashOffset = lineDashOffset;\n});\ncircleFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.path = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer();\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var path1 = new _g.Path({\n    style: {\n      path: [['M', 100, 100], ['L', 200, 100]],\n      stroke: '#F04864',\n      lineDash: [10]\n    }\n  });\n  var path2 = new _g.Path({\n    style: {\n      path: 'M 100,300' + 'l 50,-25' + 'a25,25 -30 0,1 50,-25' + 'l 50,-25' + 'a25,50 -30 0,1 50,-25' + 'l 50,-25' + 'a25,75 -30 0,1 50,-25' + 'l 50,-25' + 'a25,100 -30 0,1 50,-25' + 'l 50,-25' + 'l 0, 200,' + 'z',\n      lineWidth: 10,\n      lineJoin: 'round',\n      stroke: '#54BECC'\n    }\n  });\n  var path3 = new _g.Path({\n    style: {\n      lineWidth: 1,\n      stroke: '#54BECC',\n      path: 'M 0,40 C 5.5555555555555545,40,22.222222222222218,44.44444444444445,33.33333333333333,40 C 44.444444444444436,35.55555555555556,55.55555555555554,14.66666666666667,66.66666666666666,13.333333333333336 C 77.77777777777777,12.000000000000002,88.88888888888887,32,100,32 C 111.11111111111113,32,122.22222222222221,14.66666666666667,133.33333333333331,13.333333333333336 C 144.44444444444443,12.000000000000002,155.55555555555557,24,166.66666666666669,24 C 177.7777777777778,24,188.8888888888889,11.111111111111114,200,13.333333333333336 C 211.1111111111111,15.555555555555557,222.22222222222226,35.111111111111114,233.33333333333334,37.333333333333336 C 244.44444444444443,39.55555555555555,255.55555555555551,31.22222222222223,266.66666666666663,26.66666666666667 C 277.77777777777777,22.111111111111114,294.4444444444444,12.777777777777779,300,10'\n    }\n  });\n\n  function getCirclePath(cx, cy, rx, ry) {\n    return [// ['M', cx, cy - ry],\n    // ['A', rx, ry, 0, 1, 1, cx, cy + ry],\n    // ['A', rx, ry, 0, 1, 1, cx, cy - ry],\n    ['M', cx - rx, ry], ['A', rx, ry, 0, 1, 0, cx + rx, ry], ['A', rx, ry, 0, 1, 0, cx - rx, ry], ['Z']];\n  }\n\n  var circlePath = new _g.Path({\n    style: {\n      path: getCirclePath(0, 0, 100, 100),\n      lineWidth: 1,\n      stroke: '#54BECC'\n    }\n  });\n  canvas.appendChild(path1);\n  canvas.appendChild(path2);\n  canvas.appendChild(path3);\n  canvas.appendChild(circlePath);\n  circlePath.setPosition(100, 300); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var circleFolder = gui.addFolder('circle');\n  var circleConfig = {\n    r: 100,\n    lineWidth: 1,\n    lineDash: 0,\n    lineDashOffset: 0\n  };\n  circleFolder.add(circleConfig, 'r', 0, 200).onChange(function (r) {\n    circlePath.style.path = getCirclePath(0, 0, r, r);\n  });\n  circleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    circlePath.style.lineWidth = lineWidth;\n  });\n  circleFolder.add(circleConfig, 'lineDash', 0, 100).onChange(function (lineDash) {\n    circlePath.style.lineDash = [lineDash];\n  });\n  circleFolder.add(circleConfig, 'lineDashOffset', 0, 100).onChange(function (lineDashOffset) {\n    circlePath.style.lineDashOffset = lineDashOffset;\n  });\n  circleFolder.open();\n});"},{"relativePath":"shape/demo/polygon.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/polygon.js","order":6,"filename":"polygon.js","title":{"zh":"多边形","en":"Polygon"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*ooeZRJF65nIAAAAAAAAAAABkARQnAQ","source":"import { Polygon, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// create a polygon\nconst polygon = new Polygon({\n  style: {\n    points: [\n      [200, 100],\n      [400, 100],\n      [400 + 200 * Math.sin(Math.PI / 6), 100 + 200 * Math.cos(Math.PI / 6)],\n      [400, 100 + 200 * Math.cos(Math.PI / 6) * 2],\n      [200, 100 + 200 * Math.cos(Math.PI / 6) * 2],\n      [200 - 200 * Math.sin(Math.PI / 6), 100 + 200 * Math.cos(Math.PI / 6)],\n    ],\n    fill: '#C6E5FF',\n    stroke: '#1890FF',\n    lineWidth: 2,\n  },\n});\n\n// add a polygon to canvas\ncanvas.appendChild(polygon);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst polygonFolder = gui.addFolder('polygon');\nconst polygonConfig = {\n  fill: '#C6E5FF',\n  stroke: '#1890FF',\n  lineWidth: 2,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  anchorX: 0,\n  anchorY: 0,\n  lineDash: 0,\n  lineDashOffset: 0,\n};\npolygonFolder.addColor(polygonConfig, 'fill').onChange((color) => {\n  polygon.style.fill = color;\n});\npolygonFolder.addColor(polygonConfig, 'stroke').onChange((color) => {\n  polygon.style.stroke = color;\n});\npolygonFolder.add(polygonConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  polygon.style.lineWidth = lineWidth;\n});\npolygonFolder.add(polygonConfig, 'lineDash', 0, 100).onChange((lineDash) => {\n  polygon.style.lineDash = [lineDash];\n});\npolygonFolder.add(polygonConfig, 'lineDashOffset', 0, 100).onChange((lineDashOffset) => {\n  polygon.style.lineDashOffset = lineDashOffset;\n});\npolygonFolder.add(polygonConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  polygon.style.fillOpacity = opacity;\n});\npolygonFolder.add(polygonConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  polygon.style.strokeOpacity = opacity;\n});\npolygonFolder.add(polygonConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  polygon.style.anchor = [anchorX, polygonConfig.anchorY];\n});\npolygonFolder.add(polygonConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  polygon.style.anchor = [polygonConfig.anchorX, anchorY];\n});\npolygonFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.polygon = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // create a polygon\n\n  var polygon = new _g.Polygon({\n    style: {\n      points: [[200, 100], [400, 100], [400 + 200 * Math.sin(Math.PI / 6), 100 + 200 * Math.cos(Math.PI / 6)], [400, 100 + 200 * Math.cos(Math.PI / 6) * 2], [200, 100 + 200 * Math.cos(Math.PI / 6) * 2], [200 - 200 * Math.sin(Math.PI / 6), 100 + 200 * Math.cos(Math.PI / 6)]],\n      fill: '#C6E5FF',\n      stroke: '#1890FF',\n      lineWidth: 2\n    }\n  }); // add a polygon to canvas\n\n  canvas.appendChild(polygon); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var polygonFolder = gui.addFolder('polygon');\n  var polygonConfig = {\n    fill: '#C6E5FF',\n    stroke: '#1890FF',\n    lineWidth: 2,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    anchorX: 0,\n    anchorY: 0,\n    lineDash: 0,\n    lineDashOffset: 0\n  };\n  polygonFolder.addColor(polygonConfig, 'fill').onChange(function (color) {\n    polygon.style.fill = color;\n  });\n  polygonFolder.addColor(polygonConfig, 'stroke').onChange(function (color) {\n    polygon.style.stroke = color;\n  });\n  polygonFolder.add(polygonConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    polygon.style.lineWidth = lineWidth;\n  });\n  polygonFolder.add(polygonConfig, 'lineDash', 0, 100).onChange(function (lineDash) {\n    polygon.style.lineDash = [lineDash];\n  });\n  polygonFolder.add(polygonConfig, 'lineDashOffset', 0, 100).onChange(function (lineDashOffset) {\n    polygon.style.lineDashOffset = lineDashOffset;\n  });\n  polygonFolder.add(polygonConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    polygon.style.fillOpacity = opacity;\n  });\n  polygonFolder.add(polygonConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    polygon.style.strokeOpacity = opacity;\n  });\n  polygonFolder.add(polygonConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    polygon.style.anchor = [anchorX, polygonConfig.anchorY];\n  });\n  polygonFolder.add(polygonConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    polygon.style.anchor = [polygonConfig.anchorX, anchorY];\n  });\n  polygonFolder.open();\n});"},{"relativePath":"shape/demo/polyline.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/polyline.js","order":5,"filename":"polyline.js","title":{"zh":"折线","en":"Polyline"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*bo4rRK0U8PIAAAAAAAAAAABkARQnAQ","source":"import { Polyline, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// create a line\nconst points = [\n  [50, 50],\n  [100, 50],\n  [100, 100],\n  [150, 100],\n  [150, 150],\n  [200, 150],\n  [200, 200],\n  [250, 200],\n  [250, 250],\n  [300, 250],\n  [300, 300],\n  [350, 300],\n  [350, 350],\n  [400, 350],\n  [400, 400],\n  [450, 400],\n];\nconst polyline = new Polyline({\n  style: {\n    points,\n    stroke: '#1890FF',\n    lineWidth: 2,\n  },\n});\n\ncanvas.appendChild(polyline);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst lineFolder = gui.addFolder('polyline');\nconst lineConfig = {\n  stroke: '#1890FF',\n  lineWidth: 2,\n  lineJoin: 'miter',\n  lineCap: 'butt',\n  lineDash: 0,\n  lineDashOffset: 0,\n  strokeOpacity: 1,\n  anchorX: 0,\n  anchorY: 0,\n  firstPointX: 50,\n  firstPointY: 50,\n  visible: true,\n};\nlineFolder.add(lineConfig, 'firstPointX', 0, 200).onChange((firstPointX) => {\n  const newPoints = [...points];\n  newPoints[0] = [firstPointX, lineConfig.firstPointY];\n  polyline.style.points = newPoints;\n});\nlineFolder.add(lineConfig, 'firstPointY', 0, 200).onChange((firstPointY) => {\n  const newPoints = [...points];\n  newPoints[0] = [lineConfig.firstPointX, firstPointY];\n  polyline.style.points = newPoints;\n});\nlineFolder.addColor(lineConfig, 'stroke').onChange((color) => {\n  polyline.attr('stroke', color);\n});\nlineFolder.add(lineConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  polyline.attr('lineWidth', lineWidth);\n});\nlineFolder.add(lineConfig, 'lineJoin', ['miter', 'round', 'bevel']).onChange((lineJoin) => {\n  polyline.attr('lineJoin', lineJoin);\n});\nlineFolder.add(lineConfig, 'lineCap', ['butt', 'round', 'square']).onChange((lineCap) => {\n  polyline.attr('lineCap', lineCap);\n});\nlineFolder.add(lineConfig, 'lineDash', 0, 100).onChange((lineDash) => {\n  polyline.style.lineDash = [lineDash];\n});\nlineFolder.add(lineConfig, 'lineDashOffset', 0, 100).onChange((lineDashOffset) => {\n  polyline.style.lineDashOffset = lineDashOffset;\n});\nlineFolder.add(lineConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  polyline.attr('strokeOpacity', opacity);\n});\nlineFolder.add(lineConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  polyline.attr('anchor', [anchorX, lineConfig.anchorY]);\n});\nlineFolder.add(lineConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  polyline.attr('anchor', [lineConfig.anchorX, anchorY]);\n});\nlineFolder.add(lineConfig, 'visible').onChange((visible) => {\n  if (visible) {\n    polyline.style.visibility = 'visible';\n    // polyline.show();\n  } else {\n    polyline.style.visibility = 'hidden';\n    // polyline.hide();\n  }\n});\nlineFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.polyline = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // create a line\n\n  var points = [[50, 50], [100, 50], [100, 100], [150, 100], [150, 150], [200, 150], [200, 200], [250, 200], [250, 250], [300, 250], [300, 300], [350, 300], [350, 350], [400, 350], [400, 400], [450, 400]];\n  var polyline = new _g.Polyline({\n    style: {\n      points: points,\n      stroke: '#1890FF',\n      lineWidth: 2\n    }\n  });\n  canvas.appendChild(polyline); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var lineFolder = gui.addFolder('polyline');\n  var lineConfig = {\n    stroke: '#1890FF',\n    lineWidth: 2,\n    lineJoin: 'miter',\n    lineCap: 'butt',\n    lineDash: 0,\n    lineDashOffset: 0,\n    strokeOpacity: 1,\n    anchorX: 0,\n    anchorY: 0,\n    firstPointX: 50,\n    firstPointY: 50,\n    visible: true\n  };\n  lineFolder.add(lineConfig, 'firstPointX', 0, 200).onChange(function (firstPointX) {\n    var newPoints = [].concat(points);\n    newPoints[0] = [firstPointX, lineConfig.firstPointY];\n    polyline.style.points = newPoints;\n  });\n  lineFolder.add(lineConfig, 'firstPointY', 0, 200).onChange(function (firstPointY) {\n    var newPoints = [].concat(points);\n    newPoints[0] = [lineConfig.firstPointX, firstPointY];\n    polyline.style.points = newPoints;\n  });\n  lineFolder.addColor(lineConfig, 'stroke').onChange(function (color) {\n    polyline.attr('stroke', color);\n  });\n  lineFolder.add(lineConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    polyline.attr('lineWidth', lineWidth);\n  });\n  lineFolder.add(lineConfig, 'lineJoin', ['miter', 'round', 'bevel']).onChange(function (lineJoin) {\n    polyline.attr('lineJoin', lineJoin);\n  });\n  lineFolder.add(lineConfig, 'lineCap', ['butt', 'round', 'square']).onChange(function (lineCap) {\n    polyline.attr('lineCap', lineCap);\n  });\n  lineFolder.add(lineConfig, 'lineDash', 0, 100).onChange(function (lineDash) {\n    polyline.style.lineDash = [lineDash];\n  });\n  lineFolder.add(lineConfig, 'lineDashOffset', 0, 100).onChange(function (lineDashOffset) {\n    polyline.style.lineDashOffset = lineDashOffset;\n  });\n  lineFolder.add(lineConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    polyline.attr('strokeOpacity', opacity);\n  });\n  lineFolder.add(lineConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    polyline.attr('anchor', [anchorX, lineConfig.anchorY]);\n  });\n  lineFolder.add(lineConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    polyline.attr('anchor', [lineConfig.anchorX, anchorY]);\n  });\n  lineFolder.add(lineConfig, 'visible').onChange(function (visible) {\n    if (visible) {\n      polyline.style.visibility = 'visible'; // polyline.show();\n    } else {\n      polyline.style.visibility = 'hidden'; // polyline.hide();\n    }\n  });\n  lineFolder.open();\n});"},{"relativePath":"shape/demo/rect.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/rect.js","order":2,"filename":"rect.js","title":{"zh":"矩形","en":"Rectangle"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*owKfQKVFG1wAAAAAAAAAAABkARQnAQ","source":"import { Rect, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst rect = new Rect({\n  style: {\n    x: 200,\n    y: 100,\n    width: 300,\n    height: 200,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    radius: 8,\n  },\n});\n\ncanvas.appendChild(rect);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst rectFolder = gui.addFolder('rect');\nconst rectConfig = {\n  x: 200,\n  y: 100,\n  width: 300,\n  height: 200,\n  anchorX: 0,\n  anchorY: 0,\n  fill: '#1890FF',\n  stroke: '#F04864',\n  lineWidth: 4,\n  lineDash: 0,\n  lineDashOffset: 0,\n  radius: 8,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n};\nrectFolder.add(rectConfig, 'x', 50, 200).onChange((x) => {\n  rect.attr('x', x);\n});\nrectFolder.add(rectConfig, 'y', 50, 200).onChange((y) => {\n  rect.attr('y', y);\n});\nrectFolder.add(rectConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  rect.attr('anchor', [anchorX, rectConfig.anchorY]);\n});\nrectFolder.add(rectConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  rect.attr('anchor', [rectConfig.anchorX, anchorY]);\n});\nrectFolder.add(rectConfig, 'width', 50, 400).onChange((width) => {\n  rect.attr('width', width);\n});\nrectFolder.add(rectConfig, 'height', 50, 400).onChange((height) => {\n  rect.attr('height', height);\n});\nrectFolder.addColor(rectConfig, 'fill').onChange((color) => {\n  rect.attr('fill', color);\n});\nrectFolder.addColor(rectConfig, 'stroke').onChange((color) => {\n  rect.attr('stroke', color);\n});\nrectFolder.add(rectConfig, 'radius', 0, 20).onChange((radius) => {\n  rect.attr('radius', radius);\n});\nrectFolder.add(rectConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  rect.attr('lineWidth', lineWidth);\n});\nrectFolder.add(rectConfig, 'lineDash', 0, 100).onChange((lineDash) => {\n  rect.style.lineDash = [lineDash];\n});\nrectFolder.add(rectConfig, 'lineDashOffset', 0, 100).onChange((lineDashOffset) => {\n  rect.style.lineDashOffset = lineDashOffset;\n});\nrectFolder.add(rectConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  rect.attr('fillOpacity', opacity);\n});\nrectFolder.add(rectConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  rect.attr('strokeOpacity', opacity);\n});\nrectFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.rect = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var rect = new _g.Rect({\n    style: {\n      x: 200,\n      y: 100,\n      width: 300,\n      height: 200,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      radius: 8\n    }\n  });\n  canvas.appendChild(rect); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var rectFolder = gui.addFolder('rect');\n  var rectConfig = {\n    x: 200,\n    y: 100,\n    width: 300,\n    height: 200,\n    anchorX: 0,\n    anchorY: 0,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    lineDash: 0,\n    lineDashOffset: 0,\n    radius: 8,\n    fillOpacity: 1,\n    strokeOpacity: 1\n  };\n  rectFolder.add(rectConfig, 'x', 50, 200).onChange(function (x) {\n    rect.attr('x', x);\n  });\n  rectFolder.add(rectConfig, 'y', 50, 200).onChange(function (y) {\n    rect.attr('y', y);\n  });\n  rectFolder.add(rectConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    rect.attr('anchor', [anchorX, rectConfig.anchorY]);\n  });\n  rectFolder.add(rectConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    rect.attr('anchor', [rectConfig.anchorX, anchorY]);\n  });\n  rectFolder.add(rectConfig, 'width', 50, 400).onChange(function (width) {\n    rect.attr('width', width);\n  });\n  rectFolder.add(rectConfig, 'height', 50, 400).onChange(function (height) {\n    rect.attr('height', height);\n  });\n  rectFolder.addColor(rectConfig, 'fill').onChange(function (color) {\n    rect.attr('fill', color);\n  });\n  rectFolder.addColor(rectConfig, 'stroke').onChange(function (color) {\n    rect.attr('stroke', color);\n  });\n  rectFolder.add(rectConfig, 'radius', 0, 20).onChange(function (radius) {\n    rect.attr('radius', radius);\n  });\n  rectFolder.add(rectConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    rect.attr('lineWidth', lineWidth);\n  });\n  rectFolder.add(rectConfig, 'lineDash', 0, 100).onChange(function (lineDash) {\n    rect.style.lineDash = [lineDash];\n  });\n  rectFolder.add(rectConfig, 'lineDashOffset', 0, 100).onChange(function (lineDashOffset) {\n    rect.style.lineDashOffset = lineDashOffset;\n  });\n  rectFolder.add(rectConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    rect.attr('fillOpacity', opacity);\n  });\n  rectFolder.add(rectConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    rect.attr('strokeOpacity', opacity);\n  });\n  rectFolder.open();\n});"},{"relativePath":"shape/demo/text.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/shape/demo/text.js","order":7,"filename":"text.js","title":{"zh":"文本","en":"Text"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FdtgQLndl8IAAAAAAAAAAAAAARQnAQ","source":"import { Text, Circle, Rect, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// create a line of text\nconst text = new Text({\n  style: {\n    x: 100,\n    y: 300,\n    fontFamily: 'PingFang SC',\n    text: '这是测试文本This is text',\n    fontSize: 60,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 5,\n  },\n});\n\n// display anchor\nconst origin = new Circle({\n  style: {\n    r: 20,\n    fill: 'red',\n  },\n});\norigin.setPosition(text.getPosition());\n\n// display bounds\nconst bounds = new Rect({\n  style: {\n    stroke: 'black',\n    lineWidth: 2,\n  },\n});\n\ncanvas.appendChild(bounds);\ncanvas.appendChild(text);\ncanvas.appendChild(origin);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n\n  const bounding = text.getBounds();\n  if (bounding) {\n    const { center, halfExtents } = bounding;\n    bounds.attr('width', halfExtents[0] * 2);\n    bounds.attr('height', halfExtents[1] * 2);\n    bounds.setPosition(center[0] - halfExtents[0], center[1] - halfExtents[1]);\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst fontFolder = gui.addFolder('font');\nconst fontConfig = {\n  text: '这是测试文本This is text',\n  fontFamily: 'PingFang SC',\n  fontSize: 60,\n  fontStyle: 'normal',\n  fontWeight: 'normal',\n  fontVariant: 'normal',\n  textTransform: 'none',\n};\nfontFolder.add(fontConfig, 'text').onFinishChange((content) => {\n  text.attr('text', content);\n});\nfontFolder\n  .add(fontConfig, 'fontFamily', ['PingFang SC', 'fantasy', 'Arial', 'Times', 'Microsoft YaHei'])\n  .onChange((fontFamily) => {\n    text.attr('fontFamily', fontFamily);\n  });\nfontFolder.add(fontConfig, 'fontSize', 10, 100).onChange((fontSize) => {\n  text.attr('fontSize', fontSize);\n});\nfontFolder.add(fontConfig, 'fontStyle', ['normal', 'italic', 'oblique']).onChange((fontStyle) => {\n  text.attr('fontStyle', fontStyle);\n});\nfontFolder\n  .add(fontConfig, 'fontWeight', ['normal', 'bold', 'bolder', 'lighter', '100', '200', '400'])\n  .onChange((fontWeight) => {\n    text.attr('fontWeight', fontWeight);\n  });\nfontFolder.add(fontConfig, 'fontVariant', ['normal', 'small-caps']).onChange((fontVariant) => {\n  text.attr('fontVariant', fontVariant);\n});\nfontFolder\n  .add(fontConfig, 'textTransform', ['capitalize', 'uppercase', 'lowercase', 'none'])\n  .onChange((transform) => {\n    text.attr('textTransform', transform);\n  });\n\nconst fillStrokeFolder = gui.addFolder('fill & stroke');\nconst fillStrokeConfig = {\n  fill: '#1890FF',\n  fillOpacity: 1,\n  stroke: '#F04864',\n  strokeOpacity: 1,\n  lineWidth: 5,\n  lineJoin: 'miter',\n  visible: true,\n};\nfillStrokeFolder.addColor(fillStrokeConfig, 'fill').onChange((color) => {\n  text.attr('fill', color);\n});\nfillStrokeFolder.add(fillStrokeConfig, 'fillOpacity', 0, 1).onChange((fillOpacity) => {\n  text.attr('fillOpacity', fillOpacity);\n});\nfillStrokeFolder.addColor(fillStrokeConfig, 'stroke').onChange((color) => {\n  text.attr('stroke', color);\n});\nfillStrokeFolder.add(fillStrokeConfig, 'lineWidth', 0, 10).onChange((lineWidth) => {\n  text.attr('lineWidth', lineWidth);\n});\nfillStrokeFolder\n  .add(fillStrokeConfig, 'lineJoin', ['miter', 'round', 'bevel'])\n  .onChange((lineJoin) => {\n    text.attr('lineJoin', lineJoin);\n  });\nfillStrokeFolder.add(fillStrokeConfig, 'strokeOpacity', 0, 1).onChange((strokeOpacity) => {\n  text.attr('strokeOpacity', strokeOpacity);\n});\nfillStrokeFolder.add(fillStrokeConfig, 'visible').onChange((visible) => {\n  if (visible) {\n    text.style.visibility = 'visible';\n    // text.show();\n  } else {\n    text.style.visibility = 'hidden';\n    // text.hide();\n  }\n});\n\nconst layoutFolder = gui.addFolder('layout');\nconst layoutConfig = {\n  letterSpacing: 0,\n  textBaseline: 'alphabetic',\n};\nlayoutFolder.add(layoutConfig, 'letterSpacing', 0, 10).onChange((letterSpacing) => {\n  text.attr('letterSpacing', letterSpacing);\n});\nlayoutFolder\n  .add(layoutConfig, 'textBaseline', [\n    'alphabetic',\n    'bottom',\n    'middle',\n    'top',\n    'hanging',\n    'ideographic',\n  ])\n  .onChange((textBaseline) => {\n    text.attr('textBaseline', textBaseline);\n  });\n\nconst multilineFolder = gui.addFolder('multiline');\nconst multilineConfig = {\n  breakWords: false,\n  wordWrap: false,\n  wordWrapWidth: 100,\n  lineHeight: 0,\n  leading: 0,\n  textAlign: 'start',\n  whiteSpace: 'pre',\n};\nmultilineFolder.add(multilineConfig, 'breakWords').onChange((breakWords) => {\n  text.attr('breakWords', breakWords);\n});\nmultilineFolder.add(multilineConfig, 'wordWrap').onChange((wordWrap) => {\n  text.attr('wordWrap', wordWrap);\n});\n\nconst lineBlocks = [];\nmultilineFolder.add(multilineConfig, 'wordWrapWidth', 0, 500).onChange((wordWrapWidth) => {\n  text.attr('wordWrapWidth', wordWrapWidth);\n  lineBlocks.forEach((block) => block.remove());\n\n  text.getLineBoundingRects().forEach(({ x, y, width, height }) => {\n    const block = new Rect({\n      style: {\n        x,\n        y,\n        width,\n        height,\n        stroke: 'black',\n        lineWidth: 2,\n      },\n    });\n    lineBlocks.push(block);\n    text.appendChild(block);\n  });\n});\nmultilineFolder.add(multilineConfig, 'lineHeight', 0, 100).onChange((lineHeight) => {\n  text.attr('lineHeight', lineHeight);\n});\nmultilineFolder.add(multilineConfig, 'leading', 0, 30).onChange((leading) => {\n  text.attr('leading', leading);\n});\nmultilineFolder\n  .add(multilineConfig, 'textAlign', ['start', 'end', 'center', 'left', 'right'])\n  .onChange((textAlign) => {\n    text.attr('textAlign', textAlign);\n  });\nmultilineFolder\n  .add(multilineConfig, 'whiteSpace', ['pre', 'normal', 'pre-line'])\n  .onChange((whiteSpace) => {\n    text.attr('whiteSpace', whiteSpace);\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.text = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // create a line of text\n\n  var text = new _g.Text({\n    style: {\n      x: 100,\n      y: 300,\n      fontFamily: 'PingFang SC',\n      text: '这是测试文本This is text',\n      fontSize: 60,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 5\n    }\n  }); // display anchor\n\n  var origin = new _g.Circle({\n    style: {\n      r: 20,\n      fill: 'red'\n    }\n  });\n  origin.setPosition(text.getPosition()); // display bounds\n\n  var bounds = new _g.Rect({\n    style: {\n      stroke: 'black',\n      lineWidth: 2\n    }\n  });\n  canvas.appendChild(bounds);\n  canvas.appendChild(text);\n  canvas.appendChild(origin); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n\n    var bounding = text.getBounds();\n\n    if (bounding) {\n      var center = bounding.center,\n          halfExtents = bounding.halfExtents;\n      bounds.attr('width', halfExtents[0] * 2);\n      bounds.attr('height', halfExtents[1] * 2);\n      bounds.setPosition(center[0] - halfExtents[0], center[1] - halfExtents[1]);\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var fontFolder = gui.addFolder('font');\n  var fontConfig = {\n    text: '这是测试文本This is text',\n    fontFamily: 'PingFang SC',\n    fontSize: 60,\n    fontStyle: 'normal',\n    fontWeight: 'normal',\n    fontVariant: 'normal',\n    textTransform: 'none'\n  };\n  fontFolder.add(fontConfig, 'text').onFinishChange(function (content) {\n    text.attr('text', content);\n  });\n  fontFolder.add(fontConfig, 'fontFamily', ['PingFang SC', 'fantasy', 'Arial', 'Times', 'Microsoft YaHei']).onChange(function (fontFamily) {\n    text.attr('fontFamily', fontFamily);\n  });\n  fontFolder.add(fontConfig, 'fontSize', 10, 100).onChange(function (fontSize) {\n    text.attr('fontSize', fontSize);\n  });\n  fontFolder.add(fontConfig, 'fontStyle', ['normal', 'italic', 'oblique']).onChange(function (fontStyle) {\n    text.attr('fontStyle', fontStyle);\n  });\n  fontFolder.add(fontConfig, 'fontWeight', ['normal', 'bold', 'bolder', 'lighter', '100', '200', '400']).onChange(function (fontWeight) {\n    text.attr('fontWeight', fontWeight);\n  });\n  fontFolder.add(fontConfig, 'fontVariant', ['normal', 'small-caps']).onChange(function (fontVariant) {\n    text.attr('fontVariant', fontVariant);\n  });\n  fontFolder.add(fontConfig, 'textTransform', ['capitalize', 'uppercase', 'lowercase', 'none']).onChange(function (transform) {\n    text.attr('textTransform', transform);\n  });\n  var fillStrokeFolder = gui.addFolder('fill & stroke');\n  var fillStrokeConfig = {\n    fill: '#1890FF',\n    fillOpacity: 1,\n    stroke: '#F04864',\n    strokeOpacity: 1,\n    lineWidth: 5,\n    lineJoin: 'miter',\n    visible: true\n  };\n  fillStrokeFolder.addColor(fillStrokeConfig, 'fill').onChange(function (color) {\n    text.attr('fill', color);\n  });\n  fillStrokeFolder.add(fillStrokeConfig, 'fillOpacity', 0, 1).onChange(function (fillOpacity) {\n    text.attr('fillOpacity', fillOpacity);\n  });\n  fillStrokeFolder.addColor(fillStrokeConfig, 'stroke').onChange(function (color) {\n    text.attr('stroke', color);\n  });\n  fillStrokeFolder.add(fillStrokeConfig, 'lineWidth', 0, 10).onChange(function (lineWidth) {\n    text.attr('lineWidth', lineWidth);\n  });\n  fillStrokeFolder.add(fillStrokeConfig, 'lineJoin', ['miter', 'round', 'bevel']).onChange(function (lineJoin) {\n    text.attr('lineJoin', lineJoin);\n  });\n  fillStrokeFolder.add(fillStrokeConfig, 'strokeOpacity', 0, 1).onChange(function (strokeOpacity) {\n    text.attr('strokeOpacity', strokeOpacity);\n  });\n  fillStrokeFolder.add(fillStrokeConfig, 'visible').onChange(function (visible) {\n    if (visible) {\n      text.style.visibility = 'visible'; // text.show();\n    } else {\n      text.style.visibility = 'hidden'; // text.hide();\n    }\n  });\n  var layoutFolder = gui.addFolder('layout');\n  var layoutConfig = {\n    letterSpacing: 0,\n    textBaseline: 'alphabetic'\n  };\n  layoutFolder.add(layoutConfig, 'letterSpacing', 0, 10).onChange(function (letterSpacing) {\n    text.attr('letterSpacing', letterSpacing);\n  });\n  layoutFolder.add(layoutConfig, 'textBaseline', ['alphabetic', 'bottom', 'middle', 'top', 'hanging', 'ideographic']).onChange(function (textBaseline) {\n    text.attr('textBaseline', textBaseline);\n  });\n  var multilineFolder = gui.addFolder('multiline');\n  var multilineConfig = {\n    breakWords: false,\n    wordWrap: false,\n    wordWrapWidth: 100,\n    lineHeight: 0,\n    leading: 0,\n    textAlign: 'start',\n    whiteSpace: 'pre'\n  };\n  multilineFolder.add(multilineConfig, 'breakWords').onChange(function (breakWords) {\n    text.attr('breakWords', breakWords);\n  });\n  multilineFolder.add(multilineConfig, 'wordWrap').onChange(function (wordWrap) {\n    text.attr('wordWrap', wordWrap);\n  });\n  var lineBlocks = [];\n  multilineFolder.add(multilineConfig, 'wordWrapWidth', 0, 500).onChange(function (wordWrapWidth) {\n    text.attr('wordWrapWidth', wordWrapWidth);\n    lineBlocks.forEach(function (block) {\n      return block.remove();\n    });\n    text.getLineBoundingRects().forEach(function (_ref) {\n      var x = _ref.x,\n          y = _ref.y,\n          width = _ref.width,\n          height = _ref.height;\n      var block = new _g.Rect({\n        style: {\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          stroke: 'black',\n          lineWidth: 2\n        }\n      });\n      lineBlocks.push(block);\n      text.appendChild(block);\n    });\n  });\n  multilineFolder.add(multilineConfig, 'lineHeight', 0, 100).onChange(function (lineHeight) {\n    text.attr('lineHeight', lineHeight);\n  });\n  multilineFolder.add(multilineConfig, 'leading', 0, 30).onChange(function (leading) {\n    text.attr('leading', leading);\n  });\n  multilineFolder.add(multilineConfig, 'textAlign', ['start', 'end', 'center', 'left', 'right']).onChange(function (textAlign) {\n    text.attr('textAlign', textAlign);\n  });\n  multilineFolder.add(multilineConfig, 'whiteSpace', ['pre', 'normal', 'pre-line']).onChange(function (whiteSpace) {\n    text.attr('whiteSpace', whiteSpace);\n  });\n});"},{"relativePath":"scenegraph/demo/hierarchy.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/scenegraph/demo/hierarchy.js","order":0,"filename":"hierarchy.js","title":{"zh":"层次结构","en":"Hierarchy"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*ZcrHSoLxRS8AAAAAAAAAAAAAARQnAQ","source":"import { Group, Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\nsolarSystem\n   |    |\n   |   sun\n   |\n earthOrbit\n   |    |\n   |  earth\n   |\n  moonOrbit\n      |\n     moon\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst solarSystem = new Group({\n  id: 'solarSystem',\n});\nconst earthOrbit = new Group({\n  id: 'earthOrbit',\n});\nconst moonOrbit = new Group({\n  id: 'moonOrbit',\n});\n\nconst sun = new Circle({\n  id: 'sun',\n  style: {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst earth = new Circle({\n  id: 'earth',\n  style: {\n    r: 50,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst moon = new Circle({\n  id: 'moon',\n  style: {\n    r: 25,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\nsolarSystem.appendChild(sun);\nsolarSystem.appendChild(earthOrbit);\nearthOrbit.appendChild(earth);\nearthOrbit.appendChild(moonOrbit);\nmoonOrbit.appendChild(moon);\n\nsolarSystem.setPosition(300, 250);\nearthOrbit.translate(100, 0);\nmoonOrbit.translate(100, 0);\n\ncanvas.appendChild(solarSystem);\n\n// use AntV G devtools\nwindow.__g_instances__ = [canvas];\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n\n  solarSystem.rotateLocal(1);\n  earthOrbit.rotateLocal(2);\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst sunFolder = gui.addFolder('sun');\nconst sunConfig = {\n  r: 100,\n  fill: '#1890FF',\n  stroke: '#F04864',\n  lineWidth: 4,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  visibility: true,\n  'z-index': 0,\n};\nsunFolder.add(sunConfig, 'r', 50, 200).onChange((radius) => {\n  sun.attr('r', radius);\n});\nsunFolder.addColor(sunConfig, 'fill').onChange((color) => {\n  sun.attr('fill', color);\n});\nsunFolder.addColor(sunConfig, 'stroke').onChange((color) => {\n  sun.attr('stroke', color);\n});\nsunFolder.add(sunConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  sun.attr('lineWidth', lineWidth);\n});\nsunFolder.add(sunConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  sun.attr('fillOpacity', opacity);\n});\nsunFolder.add(sunConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  sun.attr('strokeOpacity', opacity);\n});\nsunFolder.add(sunConfig, 'visibility').onChange((visible) => {\n  if (visible) {\n    sun.show();\n  } else {\n    sun.hide();\n  }\n});\nsunFolder.add(sunConfig, 'z-index', 0, 100).onChange((zIndex) => {\n  sun.setZIndex(zIndex);\n});\nsunFolder.open();\n\nconst earthFolder = gui.addFolder('earth');\nconst earthConfig = {\n  r: 50,\n  fill: '#1890FF',\n  stroke: '#F04864',\n  lineWidth: 4,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  visibility: true,\n};\nearthFolder.add(earthConfig, 'r', 50, 200).onChange((radius) => {\n  earth.attr('r', radius);\n});\nearthFolder.addColor(earthConfig, 'fill').onChange((color) => {\n  earth.attr('fill', color);\n});\nearthFolder.addColor(earthConfig, 'stroke').onChange((color) => {\n  earth.attr('stroke', color);\n});\nearthFolder.add(earthConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  earth.attr('lineWidth', lineWidth);\n});\nearthFolder.add(earthConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  earth.attr('fillOpacity', opacity);\n});\nearthFolder.add(earthConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  earth.attr('strokeOpacity', opacity);\n});\nearthFolder.add(earthConfig, 'visibility').onChange((visible) => {\n  if (visible) {\n    earth.show();\n  } else {\n    earth.hide();\n  }\n});\n\nconst moonFolder = gui.addFolder('moon');\nconst moonConfig = {\n  r: 25,\n  fill: '#1890FF',\n  stroke: '#F04864',\n  lineWidth: 4,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  visibility: true,\n};\nmoonFolder.add(moonConfig, 'r', 50, 200).onChange((radius) => {\n  moon.attr('r', radius);\n});\nmoonFolder.addColor(moonConfig, 'fill').onChange((color) => {\n  moon.attr('fill', color);\n});\nmoonFolder.addColor(moonConfig, 'stroke').onChange((color) => {\n  moon.attr('stroke', color);\n});\nmoonFolder.add(moonConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  moon.attr('lineWidth', lineWidth);\n});\nmoonFolder.add(moonConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  moon.attr('fillOpacity', opacity);\n});\nmoonFolder.add(moonConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  moon.attr('strokeOpacity', opacity);\n});\nmoonFolder.add(moonConfig, 'visibility').onChange((visible) => {\n  if (visible) {\n    moon.show();\n  } else {\n    moon.hide();\n  }\n});\n\nconst earthOrbitFolder = gui.addFolder('earthOrbit');\nconst earthOrbitConfig = {\n  visibility: true,\n  'z-index': 0,\n};\nearthOrbitFolder.add(earthOrbitConfig, 'visibility').onChange((visible) => {\n  if (visible) {\n    earthOrbit.show();\n  } else {\n    earthOrbit.hide();\n  }\n});\nearthOrbitFolder.add(earthOrbitConfig, 'z-index', 0, 100).onChange((zIndex) => {\n  earthOrbit.setZIndex(zIndex);\n});\n\nconst moonOrbitFolder = gui.addFolder('moonOrbit');\nconst moonOrbitConfig = {\n  visibility: true,\n  'z-index': 0,\n};\nmoonOrbitFolder.add(moonOrbitConfig, 'visibility').onChange((visible) => {\n  if (visible) {\n    moonOrbit.show();\n  } else {\n    moonOrbit.hide();\n  }\n});\nmoonOrbitFolder.add(moonOrbitConfig, 'z-index', 0, 100).onChange((zIndex) => {\n  moonOrbit.setZIndex(zIndex);\n});\n\n// zIndexFolder.add(zIndexConfig, 'bringToFront').onChange((toFront) => {\n//   if (toFront) {\n//     sun.toFront();\n//   } else {\n//     sun.toBack();\n//   }\n// });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.hierarchy = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n  solarSystem\n     |    |\n     |   sun\n     |\n   earthOrbit\n     |    |\n     |  earth\n     |\n    moonOrbit\n        |\n       moon\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var solarSystem = new _g.Group({\n    id: 'solarSystem'\n  });\n  var earthOrbit = new _g.Group({\n    id: 'earthOrbit'\n  });\n  var moonOrbit = new _g.Group({\n    id: 'moonOrbit'\n  });\n  var sun = new _g.Circle({\n    id: 'sun',\n    style: {\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var earth = new _g.Circle({\n    id: 'earth',\n    style: {\n      r: 50,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var moon = new _g.Circle({\n    id: 'moon',\n    style: {\n      r: 25,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  solarSystem.appendChild(sun);\n  solarSystem.appendChild(earthOrbit);\n  earthOrbit.appendChild(earth);\n  earthOrbit.appendChild(moonOrbit);\n  moonOrbit.appendChild(moon);\n  solarSystem.setPosition(300, 250);\n  earthOrbit.translate(100, 0);\n  moonOrbit.translate(100, 0);\n  canvas.appendChild(solarSystem); // use AntV G devtools\n\n  window.__g_instances__ = [canvas]; // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n\n    solarSystem.rotateLocal(1);\n    earthOrbit.rotateLocal(2);\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var sunFolder = gui.addFolder('sun');\n  var sunConfig = {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    visibility: true,\n    'z-index': 0\n  };\n  sunFolder.add(sunConfig, 'r', 50, 200).onChange(function (radius) {\n    sun.attr('r', radius);\n  });\n  sunFolder.addColor(sunConfig, 'fill').onChange(function (color) {\n    sun.attr('fill', color);\n  });\n  sunFolder.addColor(sunConfig, 'stroke').onChange(function (color) {\n    sun.attr('stroke', color);\n  });\n  sunFolder.add(sunConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    sun.attr('lineWidth', lineWidth);\n  });\n  sunFolder.add(sunConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    sun.attr('fillOpacity', opacity);\n  });\n  sunFolder.add(sunConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    sun.attr('strokeOpacity', opacity);\n  });\n  sunFolder.add(sunConfig, 'visibility').onChange(function (visible) {\n    if (visible) {\n      sun.show();\n    } else {\n      sun.hide();\n    }\n  });\n  sunFolder.add(sunConfig, 'z-index', 0, 100).onChange(function (zIndex) {\n    sun.setZIndex(zIndex);\n  });\n  sunFolder.open();\n  var earthFolder = gui.addFolder('earth');\n  var earthConfig = {\n    r: 50,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    visibility: true\n  };\n  earthFolder.add(earthConfig, 'r', 50, 200).onChange(function (radius) {\n    earth.attr('r', radius);\n  });\n  earthFolder.addColor(earthConfig, 'fill').onChange(function (color) {\n    earth.attr('fill', color);\n  });\n  earthFolder.addColor(earthConfig, 'stroke').onChange(function (color) {\n    earth.attr('stroke', color);\n  });\n  earthFolder.add(earthConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    earth.attr('lineWidth', lineWidth);\n  });\n  earthFolder.add(earthConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    earth.attr('fillOpacity', opacity);\n  });\n  earthFolder.add(earthConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    earth.attr('strokeOpacity', opacity);\n  });\n  earthFolder.add(earthConfig, 'visibility').onChange(function (visible) {\n    if (visible) {\n      earth.show();\n    } else {\n      earth.hide();\n    }\n  });\n  var moonFolder = gui.addFolder('moon');\n  var moonConfig = {\n    r: 25,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    visibility: true\n  };\n  moonFolder.add(moonConfig, 'r', 50, 200).onChange(function (radius) {\n    moon.attr('r', radius);\n  });\n  moonFolder.addColor(moonConfig, 'fill').onChange(function (color) {\n    moon.attr('fill', color);\n  });\n  moonFolder.addColor(moonConfig, 'stroke').onChange(function (color) {\n    moon.attr('stroke', color);\n  });\n  moonFolder.add(moonConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    moon.attr('lineWidth', lineWidth);\n  });\n  moonFolder.add(moonConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    moon.attr('fillOpacity', opacity);\n  });\n  moonFolder.add(moonConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    moon.attr('strokeOpacity', opacity);\n  });\n  moonFolder.add(moonConfig, 'visibility').onChange(function (visible) {\n    if (visible) {\n      moon.show();\n    } else {\n      moon.hide();\n    }\n  });\n  var earthOrbitFolder = gui.addFolder('earthOrbit');\n  var earthOrbitConfig = {\n    visibility: true,\n    'z-index': 0\n  };\n  earthOrbitFolder.add(earthOrbitConfig, 'visibility').onChange(function (visible) {\n    if (visible) {\n      earthOrbit.show();\n    } else {\n      earthOrbit.hide();\n    }\n  });\n  earthOrbitFolder.add(earthOrbitConfig, 'z-index', 0, 100).onChange(function (zIndex) {\n    earthOrbit.setZIndex(zIndex);\n  });\n  var moonOrbitFolder = gui.addFolder('moonOrbit');\n  var moonOrbitConfig = {\n    visibility: true,\n    'z-index': 0\n  };\n  moonOrbitFolder.add(moonOrbitConfig, 'visibility').onChange(function (visible) {\n    if (visible) {\n      moonOrbit.show();\n    } else {\n      moonOrbit.hide();\n    }\n  });\n  moonOrbitFolder.add(moonOrbitConfig, 'z-index', 0, 100).onChange(function (zIndex) {\n    moonOrbit.setZIndex(zIndex);\n  }); // zIndexFolder.add(zIndexConfig, 'bringToFront').onChange((toFront) => {\n  //   if (toFront) {\n  //     sun.toFront();\n  //   } else {\n  //     sun.toBack();\n  //   }\n  // });\n});"},{"relativePath":"scenegraph/demo/clone.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/scenegraph/demo/clone.js","order":5,"filename":"clone.js","title":{"zh":"克隆节点","en":"Clone Node"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*PwEYSI_ijPEAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// add a circle to canvas\nconst circle = new Circle({\n  id: 'circle',\n  style: {\n    fill: 'rgb(239, 244, 255)',\n    fillOpacity: 1,\n    lineWidth: 1,\n    opacity: 1,\n    r: 100,\n    stroke: 'rgb(95, 149, 255)',\n    strokeOpacity: 1,\n    cursor: 'pointer',\n  },\n});\n\nconst text = new Text({\n  id: 'text',\n  style: {\n    fill: '#000',\n    fillOpacity: 0.9,\n    font: `normal normal normal 12px Avenir, -apple-system, system-ui, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n    // fontFamily: `Avenir, -apple-system, system-ui, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n    // fontFamily: 'Arial, sans-serif',\n    // fontFamily: 'sans-serif',\n    fontFamily: 'Avenir',\n    // fontFamily: 'Times',\n    // fontFamily: 'Microsoft YaHei',\n    fontSize: 22,\n    fontStyle: 'normal',\n    fontVariant: 'normal',\n    fontWeight: 'normal',\n    lineWidth: 1,\n    opacity: 1,\n    strokeOpacity: 1,\n    text: 'Drag me',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n  draggable: true,\n});\n\ncircle.appendChild(text);\ncanvas.appendChild(circle);\n\ncircle.setPosition(300, 200);\n\nlet dragging = false;\nlet lastPosition;\nconst onDragStart = (event) => {\n  dragging = true;\n  circle.attr('opacity', 0.5);\n  lastPosition = [event.x, event.y];\n  text.attr('text', 'Drag me');\n};\nconst onDragEnd = () => {\n  dragging = false;\n  circle.attr('opacity', 1);\n  text.attr('text', 'Drag me');\n};\nconst onDragMove = (event) => {\n  if (dragging) {\n    circle.attr('opacity', 0.5);\n    text.attr('text', 'Dragging...');\n\n    const offset = [event.x - lastPosition[0], event.y - lastPosition[1]];\n    const position = circle.getPosition();\n    circle.setPosition(position[0] + offset[0], position[1] + offset[1]);\n    lastPosition = [event.x, event.y];\n  }\n};\n\ncircle\n  // events for drag start\n  .on('mousedown', onDragStart)\n  .on('touchstart', onDragStart)\n  // events for drag end\n  .on('mouseup', onDragEnd)\n  .on('mouseupoutside', onDragEnd)\n  .on('touchend', onDragEnd)\n  .on('touchendoutside', onDragEnd)\n  // events for drag move\n  .on('mousemove', onDragMove)\n  .on('touchmove', onDragMove);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n  clone: () => {\n    const cloned = circle.cloneNode(rendererConfig.deep);\n    canvas.appendChild(cloned);\n    cloned.toBack();\n    cloned.translateLocal(10, 10);\n  },\n  deep: false,\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.add(rendererConfig, 'clone');\nrendererFolder.add(rendererConfig, 'deep');\nrendererFolder.open();\n\nconst circleFolder = gui.addFolder('circle');\nconst circleConfig = {\n  r: 100,\n  fill: '#1890FF',\n  stroke: '#F04864',\n  lineWidth: 4,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  anchorX: 0.5,\n  anchorY: 0.5,\n  shadowColor: '#000',\n  shadowBlur: 20,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n};\ncircleFolder.add(circleConfig, 'r', 50, 200).onChange((radius) => {\n  circle.style.r = radius;\n});\ncircleFolder.addColor(circleConfig, 'fill').onChange((color) => {\n  circle.style.fill = color;\n});\ncircleFolder.addColor(circleConfig, 'stroke').onChange((color) => {\n  circle.attr('stroke', color);\n});\ncircleFolder.addColor(circleConfig, 'shadowColor').onChange((color) => {\n  circle.attr('shadowColor', color);\n});\ncircleFolder.add(circleConfig, 'shadowBlur', 0, 100).onChange((shadowBlur) => {\n  circle.style.shadowBlur = shadowBlur;\n});\ncircleFolder.add(circleConfig, 'shadowOffsetX', -50, 50).onChange((shadowOffsetX) => {\n  circle.style.shadowOffsetX = shadowOffsetX;\n});\ncircleFolder.add(circleConfig, 'shadowOffsetY', -50, 50).onChange((shadowOffsetY) => {\n  circle.style.shadowOffsetY = shadowOffsetY;\n});\ncircleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange((lineWidth) => {\n  circle.attr('lineWidth', lineWidth);\n});\ncircleFolder.add(circleConfig, 'fillOpacity', 0, 1, 0.1).onChange((opacity) => {\n  circle.attr('fillOpacity', opacity);\n});\ncircleFolder.add(circleConfig, 'strokeOpacity', 0, 1, 0.1).onChange((opacity) => {\n  circle.attr('strokeOpacity', opacity);\n});\ncircleFolder.add(circleConfig, 'anchorX', 0, 1, 0.1).onChange((anchorX) => {\n  circle.attr('anchor', [anchorX, circleConfig.anchorY]);\n});\ncircleFolder.add(circleConfig, 'anchorY', 0, 1, 0.1).onChange((anchorY) => {\n  circle.attr('anchor', [circleConfig.anchorX, anchorY]);\n});\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.clone = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // add a circle to canvas\n\n  var circle = new _g.Circle({\n    id: 'circle',\n    style: {\n      fill: 'rgb(239, 244, 255)',\n      fillOpacity: 1,\n      lineWidth: 1,\n      opacity: 1,\n      r: 100,\n      stroke: 'rgb(95, 149, 255)',\n      strokeOpacity: 1,\n      cursor: 'pointer'\n    }\n  });\n  var text = new _g.Text({\n    id: 'text',\n    style: {\n      fill: '#000',\n      fillOpacity: 0.9,\n      font: \"normal normal normal 12px Avenir, -apple-system, system-ui, \\\"Segoe UI\\\", \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Microsoft YaHei\\\", \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\n      // fontFamily: `Avenir, -apple-system, system-ui, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n      // fontFamily: 'Arial, sans-serif',\n      // fontFamily: 'sans-serif',\n      fontFamily: 'Avenir',\n      // fontFamily: 'Times',\n      // fontFamily: 'Microsoft YaHei',\n      fontSize: 22,\n      fontStyle: 'normal',\n      fontVariant: 'normal',\n      fontWeight: 'normal',\n      lineWidth: 1,\n      opacity: 1,\n      strokeOpacity: 1,\n      text: 'Drag me',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    },\n    draggable: true\n  });\n  circle.appendChild(text);\n  canvas.appendChild(circle);\n  circle.setPosition(300, 200);\n  var dragging = false;\n  var lastPosition;\n\n  var onDragStart = function onDragStart(event) {\n    dragging = true;\n    circle.attr('opacity', 0.5);\n    lastPosition = [event.x, event.y];\n    text.attr('text', 'Drag me');\n  };\n\n  var onDragEnd = function onDragEnd() {\n    dragging = false;\n    circle.attr('opacity', 1);\n    text.attr('text', 'Drag me');\n  };\n\n  var onDragMove = function onDragMove(event) {\n    if (dragging) {\n      circle.attr('opacity', 0.5);\n      text.attr('text', 'Dragging...');\n      var offset = [event.x - lastPosition[0], event.y - lastPosition[1]];\n      var position = circle.getPosition();\n      circle.setPosition(position[0] + offset[0], position[1] + offset[1]);\n      lastPosition = [event.x, event.y];\n    }\n  };\n\n  circle // events for drag start\n  .on('mousedown', onDragStart).on('touchstart', onDragStart) // events for drag end\n  .on('mouseup', onDragEnd).on('mouseupoutside', onDragEnd).on('touchend', onDragEnd).on('touchendoutside', onDragEnd) // events for drag move\n  .on('mousemove', onDragMove).on('touchmove', onDragMove); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas',\n    clone: function clone() {\n      var cloned = circle.cloneNode(rendererConfig.deep);\n      canvas.appendChild(cloned);\n      cloned.toBack();\n      cloned.translateLocal(10, 10);\n    },\n    deep: false\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.add(rendererConfig, 'clone');\n  rendererFolder.add(rendererConfig, 'deep');\n  rendererFolder.open();\n  var circleFolder = gui.addFolder('circle');\n  var circleConfig = {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    anchorX: 0.5,\n    anchorY: 0.5,\n    shadowColor: '#000',\n    shadowBlur: 20,\n    shadowOffsetX: 0,\n    shadowOffsetY: 0\n  };\n  circleFolder.add(circleConfig, 'r', 50, 200).onChange(function (radius) {\n    circle.style.r = radius;\n  });\n  circleFolder.addColor(circleConfig, 'fill').onChange(function (color) {\n    circle.style.fill = color;\n  });\n  circleFolder.addColor(circleConfig, 'stroke').onChange(function (color) {\n    circle.attr('stroke', color);\n  });\n  circleFolder.addColor(circleConfig, 'shadowColor').onChange(function (color) {\n    circle.attr('shadowColor', color);\n  });\n  circleFolder.add(circleConfig, 'shadowBlur', 0, 100).onChange(function (shadowBlur) {\n    circle.style.shadowBlur = shadowBlur;\n  });\n  circleFolder.add(circleConfig, 'shadowOffsetX', -50, 50).onChange(function (shadowOffsetX) {\n    circle.style.shadowOffsetX = shadowOffsetX;\n  });\n  circleFolder.add(circleConfig, 'shadowOffsetY', -50, 50).onChange(function (shadowOffsetY) {\n    circle.style.shadowOffsetY = shadowOffsetY;\n  });\n  circleFolder.add(circleConfig, 'lineWidth', 1, 20).onChange(function (lineWidth) {\n    circle.attr('lineWidth', lineWidth);\n  });\n  circleFolder.add(circleConfig, 'fillOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    circle.attr('fillOpacity', opacity);\n  });\n  circleFolder.add(circleConfig, 'strokeOpacity', 0, 1, 0.1).onChange(function (opacity) {\n    circle.attr('strokeOpacity', opacity);\n  });\n  circleFolder.add(circleConfig, 'anchorX', 0, 1, 0.1).onChange(function (anchorX) {\n    circle.attr('anchor', [anchorX, circleConfig.anchorY]);\n  });\n  circleFolder.add(circleConfig, 'anchorY', 0, 1, 0.1).onChange(function (anchorY) {\n    circle.attr('anchor', [circleConfig.anchorX, anchorY]);\n  });\n});"},{"relativePath":"scenegraph/demo/transform.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/scenegraph/demo/transform.js","order":1,"filename":"transform.js","title":{"zh":"变换","en":"Transform"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*ZcrHSoLxRS8AAAAAAAAAAAAAARQnAQ","source":"import { Ellipse, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst ellipse = new Ellipse({\n  style: {\n    x: 300,\n    y: 200,\n    rx: 100,\n    ry: 150,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\ncanvas.appendChild(ellipse);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst ellipseFolder = gui.addFolder('Transform');\nconst ellipseConfig = {\n  translateX: 0,\n  translateY: 0,\n  originX: 0,\n  originY: 0,\n  scale: 1,\n  rotate: () => {\n    ellipse.rotateLocal(10);\n  },\n};\nellipseFolder.add(ellipseConfig, 'translateX', -200, 200).onChange((tx) => {\n  // same as:\n  // ellipse.attr('x');\n  // ellipse.attr('y');\n  const [x, y] = ellipse.getPosition();\n  // same as:\n  // * ellipse.move(300 + tx, y);\n  // * ellipse.moveTo(300 + tx, y);\n  ellipse.setPosition(300 + tx, y);\n});\nellipseFolder.add(ellipseConfig, 'translateY', -200, 200).onChange((ty) => {\n  const [x, y] = ellipse.getPosition();\n  // same as:\n  // * ellipse.move(x, 200 + ty);\n  // * ellipse.moveTo(x, 200 + ty);\n  ellipse.setPosition(x, 200 + ty);\n});\nellipseFolder.add(ellipseConfig, 'originX', -200, 200).onChange((tx) => {\n  ellipse.style.origin = [tx, ellipseConfig.originY];\n});\nellipseFolder.add(ellipseConfig, 'originY', -200, 200).onChange((ty) => {\n  ellipse.style.origin = [ellipseConfig.originX, ty];\n});\nellipseFolder.add(ellipseConfig, 'rotate').name('rotate');\nellipseFolder.add(ellipseConfig, 'scale', 0.2, 5).onChange((scaling) => {\n  ellipse.setLocalScale(scaling);\n});\n\nellipseFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.transform = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var ellipse = new _g.Ellipse({\n    style: {\n      x: 300,\n      y: 200,\n      rx: 100,\n      ry: 150,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  canvas.appendChild(ellipse); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var ellipseFolder = gui.addFolder('Transform');\n  var ellipseConfig = {\n    translateX: 0,\n    translateY: 0,\n    originX: 0,\n    originY: 0,\n    scale: 1,\n    rotate: function rotate() {\n      ellipse.rotateLocal(10);\n    }\n  };\n  ellipseFolder.add(ellipseConfig, 'translateX', -200, 200).onChange(function (tx) {\n    // same as:\n    // ellipse.attr('x');\n    // ellipse.attr('y');\n    var _ellipse$getPosition = ellipse.getPosition(),\n        _ellipse$getPosition2 = _slicedToArray(_ellipse$getPosition, 2),\n        x = _ellipse$getPosition2[0],\n        y = _ellipse$getPosition2[1]; // same as:\n    // * ellipse.move(300 + tx, y);\n    // * ellipse.moveTo(300 + tx, y);\n\n\n    ellipse.setPosition(300 + tx, y);\n  });\n  ellipseFolder.add(ellipseConfig, 'translateY', -200, 200).onChange(function (ty) {\n    var _ellipse$getPosition3 = ellipse.getPosition(),\n        _ellipse$getPosition4 = _slicedToArray(_ellipse$getPosition3, 2),\n        x = _ellipse$getPosition4[0],\n        y = _ellipse$getPosition4[1]; // same as:\n    // * ellipse.move(x, 200 + ty);\n    // * ellipse.moveTo(x, 200 + ty);\n\n\n    ellipse.setPosition(x, 200 + ty);\n  });\n  ellipseFolder.add(ellipseConfig, 'originX', -200, 200).onChange(function (tx) {\n    ellipse.style.origin = [tx, ellipseConfig.originY];\n  });\n  ellipseFolder.add(ellipseConfig, 'originY', -200, 200).onChange(function (ty) {\n    ellipse.style.origin = [ellipseConfig.originX, ty];\n  });\n  ellipseFolder.add(ellipseConfig, 'rotate').name('rotate');\n  ellipseFolder.add(ellipseConfig, 'scale', 0.2, 5).onChange(function (scaling) {\n    ellipse.setLocalScale(scaling);\n  });\n  ellipseFolder.open();\n});"},{"relativePath":"scenegraph/demo/visibility.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/scenegraph/demo/visibility.js","order":3,"filename":"visibility.js","title":{"zh":"可见性和展示次序","en":"Visibility & Z-index"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*ZcrHSoLxRS8AAAAAAAAAAAAAARQnAQ","source":"import { Group, Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\nsolarSystem\n   |    |\n   |   sun\n   |\n earthOrbit\n   |    |\n   |  earth\n   |\n  moonOrbit\n      |\n     moon\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst solarSystem = new Group({\n  id: 'solarSystem',\n});\nconst earthOrbit = new Group({\n  id: 'earthOrbit',\n});\nconst moonOrbit = new Group({\n  id: 'moonOrbit',\n});\n\nconst sun = new Circle({\n  id: 'sun',\n  style: {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst earth = new Circle({\n  id: 'earth',\n  style: {\n    r: 50,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst moon = new Circle({\n  id: 'moon',\n  style: {\n    r: 25,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\nsolarSystem.appendChild(sun);\nsolarSystem.appendChild(earthOrbit);\nearthOrbit.appendChild(earth);\nearthOrbit.appendChild(moonOrbit);\nmoonOrbit.appendChild(moon);\n\nsolarSystem.setPosition(300, 250);\nearthOrbit.translate(100, 0);\nmoonOrbit.translate(50, 0);\n\ncanvas.appendChild(solarSystem);\n\n// use AntV G devtools\nwindow.__g_instances__ = [canvas];\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst sunFolder = gui.addFolder('sun');\nconst sunConfig = {\n  show: () => {\n    sun.attr('visibility', 'visible');\n  },\n  hide: () => {\n    sun.attr('visibility', 'hidden');\n  },\n  'z-index': 0,\n};\nsunFolder.add(sunConfig, 'hide').name('hide');\nsunFolder.add(sunConfig, 'show').name('show');\nsunFolder.add(sunConfig, 'z-index', 0, 100).onChange((zIndex) => {\n  sun.style.zIndex = zIndex;\n});\nsunFolder.open();\n\nconst earthFolder = gui.addFolder('earth');\nconst earthConfig = {\n  show: () => {\n    earth.attr('visibility', 'visible');\n  },\n  hide: () => {\n    earth.attr('visibility', 'hidden');\n  },\n  'z-index': 0,\n};\nearthFolder.add(earthConfig, 'hide').name('hide');\nearthFolder.add(earthConfig, 'show').name('show');\nearthFolder.add(earthConfig, 'z-index', 0, 100).onChange((zIndex) => {\n  earth.style.zIndex = zIndex;\n});\n\nconst moonFolder = gui.addFolder('moon');\nconst moonConfig = {\n  show: () => {\n    moon.attr('visibility', 'visible');\n  },\n  hide: () => {\n    moon.attr('visibility', 'hidden');\n  },\n};\nmoonFolder.add(moonConfig, 'hide').name('hide');\nmoonFolder.add(moonConfig, 'show').name('show');\n\nconst earthOrbitFolder = gui.addFolder('earthOrbit');\nconst earthOrbitConfig = {\n  show: () => {\n    earthOrbit.attr('visibility', 'visible');\n  },\n  hide: () => {\n    earthOrbit.attr('visibility', 'hidden');\n  },\n  'z-index': 0,\n};\nearthOrbitFolder.add(earthOrbitConfig, 'hide').name('hide');\nearthOrbitFolder.add(earthOrbitConfig, 'show').name('show');\nearthOrbitFolder.add(earthOrbitConfig, 'z-index', 0, 100).onChange((zIndex) => {\n  earthOrbit.style.zIndex = zIndex;\n});\n\nconst moonOrbitFolder = gui.addFolder('moonOrbit');\nconst moonOrbitConfig = {\n  show: () => {\n    moonOrbit.attr('visibility', 'visible');\n  },\n  hide: () => {\n    moonOrbit.attr('visibility', 'hidden');\n  },\n  'z-index': 0,\n};\nmoonOrbitFolder.add(moonOrbitConfig, 'hide').name('hide');\nmoonOrbitFolder.add(moonOrbitConfig, 'show').name('show');\nmoonOrbitFolder.add(moonOrbitConfig, 'z-index', 0, 100).onChange((zIndex) => {\n  moonOrbit.style.zIndex = zIndex;\n});\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.visibility = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n  solarSystem\n     |    |\n     |   sun\n     |\n   earthOrbit\n     |    |\n     |  earth\n     |\n    moonOrbit\n        |\n       moon\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var solarSystem = new _g.Group({\n    id: 'solarSystem'\n  });\n  var earthOrbit = new _g.Group({\n    id: 'earthOrbit'\n  });\n  var moonOrbit = new _g.Group({\n    id: 'moonOrbit'\n  });\n  var sun = new _g.Circle({\n    id: 'sun',\n    style: {\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var earth = new _g.Circle({\n    id: 'earth',\n    style: {\n      r: 50,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var moon = new _g.Circle({\n    id: 'moon',\n    style: {\n      r: 25,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  solarSystem.appendChild(sun);\n  solarSystem.appendChild(earthOrbit);\n  earthOrbit.appendChild(earth);\n  earthOrbit.appendChild(moonOrbit);\n  moonOrbit.appendChild(moon);\n  solarSystem.setPosition(300, 250);\n  earthOrbit.translate(100, 0);\n  moonOrbit.translate(50, 0);\n  canvas.appendChild(solarSystem); // use AntV G devtools\n\n  window.__g_instances__ = [canvas]; // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var sunFolder = gui.addFolder('sun');\n  var sunConfig = {\n    show: function show() {\n      sun.attr('visibility', 'visible');\n    },\n    hide: function hide() {\n      sun.attr('visibility', 'hidden');\n    },\n    'z-index': 0\n  };\n  sunFolder.add(sunConfig, 'hide').name('hide');\n  sunFolder.add(sunConfig, 'show').name('show');\n  sunFolder.add(sunConfig, 'z-index', 0, 100).onChange(function (zIndex) {\n    sun.style.zIndex = zIndex;\n  });\n  sunFolder.open();\n  var earthFolder = gui.addFolder('earth');\n  var earthConfig = {\n    show: function show() {\n      earth.attr('visibility', 'visible');\n    },\n    hide: function hide() {\n      earth.attr('visibility', 'hidden');\n    },\n    'z-index': 0\n  };\n  earthFolder.add(earthConfig, 'hide').name('hide');\n  earthFolder.add(earthConfig, 'show').name('show');\n  earthFolder.add(earthConfig, 'z-index', 0, 100).onChange(function (zIndex) {\n    earth.style.zIndex = zIndex;\n  });\n  var moonFolder = gui.addFolder('moon');\n  var moonConfig = {\n    show: function show() {\n      moon.attr('visibility', 'visible');\n    },\n    hide: function hide() {\n      moon.attr('visibility', 'hidden');\n    }\n  };\n  moonFolder.add(moonConfig, 'hide').name('hide');\n  moonFolder.add(moonConfig, 'show').name('show');\n  var earthOrbitFolder = gui.addFolder('earthOrbit');\n  var earthOrbitConfig = {\n    show: function show() {\n      earthOrbit.attr('visibility', 'visible');\n    },\n    hide: function hide() {\n      earthOrbit.attr('visibility', 'hidden');\n    },\n    'z-index': 0\n  };\n  earthOrbitFolder.add(earthOrbitConfig, 'hide').name('hide');\n  earthOrbitFolder.add(earthOrbitConfig, 'show').name('show');\n  earthOrbitFolder.add(earthOrbitConfig, 'z-index', 0, 100).onChange(function (zIndex) {\n    earthOrbit.style.zIndex = zIndex;\n  });\n  var moonOrbitFolder = gui.addFolder('moonOrbit');\n  var moonOrbitConfig = {\n    show: function show() {\n      moonOrbit.attr('visibility', 'visible');\n    },\n    hide: function hide() {\n      moonOrbit.attr('visibility', 'hidden');\n    },\n    'z-index': 0\n  };\n  moonOrbitFolder.add(moonOrbitConfig, 'hide').name('hide');\n  moonOrbitFolder.add(moonOrbitConfig, 'show').name('show');\n  moonOrbitFolder.add(moonOrbitConfig, 'z-index', 0, 100).onChange(function (zIndex) {\n    moonOrbit.style.zIndex = zIndex;\n  });\n});"},{"relativePath":"scenegraph/demo/z-index.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/scenegraph/demo/z-index.js","order":4,"filename":"z-index.js","title":{"zh":"展示次序","en":"Z-index"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*gW6rQpXFK30AAAAAAAAAAAAAARQnAQ","source":"import { Rect, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// ul1 -> li1\n//     -> li2\n// ul2 -> li3\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst ul1 = new Rect({\n  id: 'ul1',\n  style: {\n    width: 400,\n    height: 200,\n    fill: 'blue',\n  },\n});\nconst ul1Text = new Text({\n  id: 'ui1-text',\n  style: {\n    text: 'ul1',\n    fontSize: 16,\n    fill: 'white',\n  },\n});\nconst ul2 = new Rect({\n  id: 'ul2',\n  style: {\n    width: 300,\n    height: 250,\n    fill: '#1890FF',\n    lineWidth: 4,\n    stroke: 'white',\n  },\n});\nconst ul2Text = new Text({\n  id: 'ui2-text',\n  style: {\n    text: 'ul2',\n    fontSize: 16,\n    fill: 'white',\n  },\n});\n\nconst li1 = new Rect({\n  id: 'li1',\n  style: {\n    width: 200,\n    height: 50,\n    fill: '#1890FF',\n    lineWidth: 4,\n    stroke: 'white',\n  },\n});\nconst li1Text = new Text({\n  id: 'li1-text',\n  style: {\n    text: 'li1',\n    fontSize: 16,\n    fill: 'white',\n  },\n});\nconst li2 = new Rect({\n  id: 'li2',\n  style: {\n    width: 200,\n    height: 50,\n    fill: '#1890FF',\n    lineWidth: 4,\n    stroke: 'white',\n  },\n});\nconst li2Text = new Text({\n  id: 'li2-text',\n  style: {\n    text: 'li2',\n    fontSize: 16,\n    fill: 'white',\n  },\n});\n\nul1Text.translateLocal(260, 20);\nul1.appendChild(ul1Text);\nul1.setPosition(50, 50);\nli1Text.translateLocal(10, 20);\nli1.appendChild(li1Text);\nli2Text.translateLocal(10, 20);\nli2.appendChild(li2Text);\nli2.translateLocal(20, 30);\nul1.appendChild(li1);\nul1.appendChild(li2);\n\nul2Text.translateLocal(60, 20);\nul2.appendChild(ul2Text);\nul2.setPosition(200, 100);\n\ncanvas.appendChild(ul1);\ncanvas.appendChild(ul2);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst zIndexFolder = gui.addFolder('z-index');\nconst zIndexConfig = {\n  li1ZIndex: 0,\n  li2ZIndex: 0,\n  ul1ZIndex: 0,\n  ul2ZIndex: 0,\n};\nzIndexFolder.add(zIndexConfig, 'li1ZIndex', 0, 100).onChange((zIndex) => {\n  li1.style.zIndex = zIndex;\n});\nzIndexFolder.add(zIndexConfig, 'li2ZIndex', 0, 100).onChange((zIndex) => {\n  li2.style.zIndex = zIndex;\n});\nzIndexFolder.add(zIndexConfig, 'ul1ZIndex', 0, 100).onChange((zIndex) => {\n  ul1.style.zIndex = zIndex;\n});\nzIndexFolder.add(zIndexConfig, 'ul2ZIndex', 0, 100).onChange((zIndex) => {\n  ul2.style.zIndex = zIndex;\n});\nzIndexFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.zIndex = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // ul1 -> li1\n  //     -> li2\n  // ul2 -> li3\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var ul1 = new _g.Rect({\n    id: 'ul1',\n    style: {\n      width: 400,\n      height: 200,\n      fill: 'blue'\n    }\n  });\n  var ul1Text = new _g.Text({\n    id: 'ui1-text',\n    style: {\n      text: 'ul1',\n      fontSize: 16,\n      fill: 'white'\n    }\n  });\n  var ul2 = new _g.Rect({\n    id: 'ul2',\n    style: {\n      width: 300,\n      height: 250,\n      fill: '#1890FF',\n      lineWidth: 4,\n      stroke: 'white'\n    }\n  });\n  var ul2Text = new _g.Text({\n    id: 'ui2-text',\n    style: {\n      text: 'ul2',\n      fontSize: 16,\n      fill: 'white'\n    }\n  });\n  var li1 = new _g.Rect({\n    id: 'li1',\n    style: {\n      width: 200,\n      height: 50,\n      fill: '#1890FF',\n      lineWidth: 4,\n      stroke: 'white'\n    }\n  });\n  var li1Text = new _g.Text({\n    id: 'li1-text',\n    style: {\n      text: 'li1',\n      fontSize: 16,\n      fill: 'white'\n    }\n  });\n  var li2 = new _g.Rect({\n    id: 'li2',\n    style: {\n      width: 200,\n      height: 50,\n      fill: '#1890FF',\n      lineWidth: 4,\n      stroke: 'white'\n    }\n  });\n  var li2Text = new _g.Text({\n    id: 'li2-text',\n    style: {\n      text: 'li2',\n      fontSize: 16,\n      fill: 'white'\n    }\n  });\n  ul1Text.translateLocal(260, 20);\n  ul1.appendChild(ul1Text);\n  ul1.setPosition(50, 50);\n  li1Text.translateLocal(10, 20);\n  li1.appendChild(li1Text);\n  li2Text.translateLocal(10, 20);\n  li2.appendChild(li2Text);\n  li2.translateLocal(20, 30);\n  ul1.appendChild(li1);\n  ul1.appendChild(li2);\n  ul2Text.translateLocal(60, 20);\n  ul2.appendChild(ul2Text);\n  ul2.setPosition(200, 100);\n  canvas.appendChild(ul1);\n  canvas.appendChild(ul2); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var zIndexFolder = gui.addFolder('z-index');\n  var zIndexConfig = {\n    li1ZIndex: 0,\n    li2ZIndex: 0,\n    ul1ZIndex: 0,\n    ul2ZIndex: 0\n  };\n  zIndexFolder.add(zIndexConfig, 'li1ZIndex', 0, 100).onChange(function (zIndex) {\n    li1.style.zIndex = zIndex;\n  });\n  zIndexFolder.add(zIndexConfig, 'li2ZIndex', 0, 100).onChange(function (zIndex) {\n    li2.style.zIndex = zIndex;\n  });\n  zIndexFolder.add(zIndexConfig, 'ul1ZIndex', 0, 100).onChange(function (zIndex) {\n    ul1.style.zIndex = zIndex;\n  });\n  zIndexFolder.add(zIndexConfig, 'ul2ZIndex', 0, 100).onChange(function (zIndex) {\n    ul2.style.zIndex = zIndex;\n  });\n  zIndexFolder.open();\n});"},{"relativePath":"scenegraph/demo/origin.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/scenegraph/demo/origin.js","order":2,"filename":"origin.js","title":{"zh":"旋转和缩放中心","en":"Origin"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*E7OfQ5-uVgYAAAAAAAAAAAAAARQnAQ","source":"import { Rect, Circle, Text, Group, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst circle = new Circle({\n  style: {\n    x: 100,\n    y: 100,\n    r: 100,\n    fill: '#1890FF',\n  },\n});\ncanvas.appendChild(circle);\ncircle.animate([{ transform: 'scale(1)' }, { transform: 'scale(0.5)' }], {\n  duration: 500,\n  easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n  iterations: Infinity,\n  direction: 'alternate',\n});\n\nconst group = new Group({ id: 'group' });\nconst child1 = new Rect({\n  id: 'rect1',\n  style: {\n    width: 100,\n    height: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    radius: 8,\n  },\n});\ngroup.appendChild(child1);\ngroup.setPosition(200, 100);\n\nconst origin = new Circle({\n  id: 'origin',\n  style: {\n    r: 30,\n    fill: '#F04864',\n  },\n});\nconst originText = new Text({\n  id: 'text',\n  style: {\n    fontFamily: 'PingFang SC',\n    text: 'Origin',\n    fontSize: 16,\n    fill: '#fFF',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\n\norigin.appendChild(originText);\norigin.setPosition(200, 100);\n\ncanvas.appendChild(group);\ncanvas.appendChild(origin);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n  group.rotateLocal(1);\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst circleFolder = gui.addFolder('circle');\nconst circleConfig = {\n  originX: 0,\n  originY: 0,\n  transformOrigin: 'left top',\n};\ncircleFolder.add(circleConfig, 'originX', -200, 200).onChange((tx) => {\n  circle.style.origin = [tx, circleConfig.originY];\n});\ncircleFolder.add(circleConfig, 'originY', -200, 200).onChange((ty) => {\n  circle.style.origin = [circleConfig.originX, ty];\n});\ncircleFolder.open();\n\nlet lastCloned = child1;\nconst rectFolder = gui.addFolder('group');\nconst rectConfig = {\n  originX: 0,\n  originY: 0,\n  transformOrigin: 'left top',\n  appendChild: () => {\n    // reset rotation\n    group.setEulerAngles(0);\n\n    // clone child\n    const cloned = lastCloned.cloneNode();\n    cloned.id = 'cloned';\n    cloned.translateLocal(0, 100);\n    group.appendChild(cloned);\n    lastCloned = cloned;\n\n    // reset transform origin, which will case re-calc origin\n    group.style.transformOrigin = group.style.transformOrigin || 'left top';\n\n    // get calculated origin\n    const [ox, oy, oz] = group.style.origin;\n    const [x, y, z] = group.getPosition(); // left top corner of Bounds\n    origin.setPosition(x + ox, y + oy, z + oz);\n\n    // update dat.gui\n    rectConfig.originX = ox;\n    rectConfig.originY = oy;\n  },\n};\nrectFolder\n  .add(rectConfig, 'transformOrigin', [\n    'left top',\n    'center',\n    'right bottom',\n    '50% 50%',\n    '50px 50px',\n  ])\n  .onChange((transformOrigin) => {\n    // reset rotation\n    group.setEulerAngles(0);\n\n    // set transformOrigin\n    group.style.transformOrigin = transformOrigin;\n\n    // get calculated origin\n    const [ox, oy, oz] = group.style.origin;\n    const [x, y, z] = group.getPosition(); // left top corner of Bounds\n    origin.setPosition(x + ox, y + oy, z + oz);\n\n    // update dat.gui\n    rectConfig.originX = ox;\n    rectConfig.originY = oy;\n  });\nrectFolder\n  .add(rectConfig, 'originX', -200, 200)\n  .onChange((tx) => {\n    group.style.origin = [tx, rectConfig.originY];\n    origin.setPosition(200 + tx, 100 + rectConfig.originY);\n  })\n  .listen();\nrectFolder\n  .add(rectConfig, 'originY', -200, 200)\n  .onChange((ty) => {\n    group.style.origin = [rectConfig.originX, ty];\n    origin.setPosition(200 + rectConfig.originX, 100 + ty);\n  })\n  .listen();\nrectFolder.add(rectConfig, 'appendChild');\nrectFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.origin = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var circle = new _g.Circle({\n    style: {\n      x: 100,\n      y: 100,\n      r: 100,\n      fill: '#1890FF'\n    }\n  });\n  canvas.appendChild(circle);\n  circle.animate([{\n    transform: 'scale(1)'\n  }, {\n    transform: 'scale(0.5)'\n  }], {\n    duration: 500,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  var group = new _g.Group({\n    id: 'group'\n  });\n  var child1 = new _g.Rect({\n    id: 'rect1',\n    style: {\n      width: 100,\n      height: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      radius: 8\n    }\n  });\n  group.appendChild(child1);\n  group.setPosition(200, 100);\n  var origin = new _g.Circle({\n    id: 'origin',\n    style: {\n      r: 30,\n      fill: '#F04864'\n    }\n  });\n  var originText = new _g.Text({\n    id: 'text',\n    style: {\n      fontFamily: 'PingFang SC',\n      text: 'Origin',\n      fontSize: 16,\n      fill: '#fFF',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  origin.appendChild(originText);\n  origin.setPosition(200, 100);\n  canvas.appendChild(group);\n  canvas.appendChild(origin); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n\n    group.rotateLocal(1);\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var circleFolder = gui.addFolder('circle');\n  var circleConfig = {\n    originX: 0,\n    originY: 0,\n    transformOrigin: 'left top'\n  };\n  circleFolder.add(circleConfig, 'originX', -200, 200).onChange(function (tx) {\n    circle.style.origin = [tx, circleConfig.originY];\n  });\n  circleFolder.add(circleConfig, 'originY', -200, 200).onChange(function (ty) {\n    circle.style.origin = [circleConfig.originX, ty];\n  });\n  circleFolder.open();\n  var lastCloned = child1;\n  var rectFolder = gui.addFolder('group');\n  var rectConfig = {\n    originX: 0,\n    originY: 0,\n    transformOrigin: 'left top',\n    appendChild: function appendChild() {\n      // reset rotation\n      group.setEulerAngles(0); // clone child\n\n      var cloned = lastCloned.cloneNode();\n      cloned.id = 'cloned';\n      cloned.translateLocal(0, 100);\n      group.appendChild(cloned);\n      lastCloned = cloned; // reset transform origin, which will case re-calc origin\n\n      group.style.transformOrigin = group.style.transformOrigin || 'left top'; // get calculated origin\n\n      var _group$style$origin = _slicedToArray(group.style.origin, 3),\n          ox = _group$style$origin[0],\n          oy = _group$style$origin[1],\n          oz = _group$style$origin[2];\n\n      var _group$getPosition = group.getPosition(),\n          _group$getPosition2 = _slicedToArray(_group$getPosition, 3),\n          x = _group$getPosition2[0],\n          y = _group$getPosition2[1],\n          z = _group$getPosition2[2]; // left top corner of Bounds\n\n\n      origin.setPosition(x + ox, y + oy, z + oz); // update dat.gui\n\n      rectConfig.originX = ox;\n      rectConfig.originY = oy;\n    }\n  };\n  rectFolder.add(rectConfig, 'transformOrigin', ['left top', 'center', 'right bottom', '50% 50%', '50px 50px']).onChange(function (transformOrigin) {\n    // reset rotation\n    group.setEulerAngles(0); // set transformOrigin\n\n    group.style.transformOrigin = transformOrigin; // get calculated origin\n\n    var _group$style$origin2 = _slicedToArray(group.style.origin, 3),\n        ox = _group$style$origin2[0],\n        oy = _group$style$origin2[1],\n        oz = _group$style$origin2[2];\n\n    var _group$getPosition3 = group.getPosition(),\n        _group$getPosition4 = _slicedToArray(_group$getPosition3, 3),\n        x = _group$getPosition4[0],\n        y = _group$getPosition4[1],\n        z = _group$getPosition4[2]; // left top corner of Bounds\n\n\n    origin.setPosition(x + ox, y + oy, z + oz); // update dat.gui\n\n    rectConfig.originX = ox;\n    rectConfig.originY = oy;\n  });\n  rectFolder.add(rectConfig, 'originX', -200, 200).onChange(function (tx) {\n    group.style.origin = [tx, rectConfig.originY];\n    origin.setPosition(200 + tx, 100 + rectConfig.originY);\n  }).listen();\n  rectFolder.add(rectConfig, 'originY', -200, 200).onChange(function (ty) {\n    group.style.origin = [rectConfig.originX, ty];\n    origin.setPosition(200 + rectConfig.originX, 100 + ty);\n  }).listen();\n  rectFolder.add(rectConfig, 'appendChild');\n  rectFolder.open();\n});"},{"relativePath":"plugins/demo/box2d.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/box2d.js","order":2,"filename":"box2d.js","title":{"zh":"在 2D 场景中使用 Box2D 物理引擎","en":"Use Box2D in 2D scene"},"source":"import { Canvas, CanvasEvent, Rect, Line, Polyline, Polygon, Circle, Image, Text } from '@antv/g';\nimport { Renderer } from '@antv/g-canvas';\nimport { Plugin as PluginBox2D } from '@antv/g-plugin-box2d';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst renderer = new Renderer();\nconst plugin = new PluginBox2D();\nrenderer.registerPlugin(plugin);\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n});\n\nconst ground1 = new Line({\n  style: {\n    x1: 0,\n    y1: 200,\n    x2: 50,\n    y2: 400,\n    stroke: '#1890FF',\n    lineWidth: 2,\n    width: 1000,\n    height: 10,\n    rigid: 'static', // static ground\n  },\n});\ncanvas.appendChild(ground1);\nconst ground2 = new Line({\n  style: {\n    x1: 50,\n    y1: 400,\n    x2: 400,\n    y2: 400,\n    stroke: '#1890FF',\n    lineWidth: 2,\n    width: 1000,\n    height: 10,\n    rigid: 'static', // static ground\n  },\n});\ncanvas.appendChild(ground2);\nconst ground3 = new Line({\n  style: {\n    x1: 400,\n    y1: 400,\n    x2: 400,\n    y2: 200,\n    stroke: '#1890FF',\n    lineWidth: 2,\n    width: 1000,\n    height: 10,\n    rigid: 'static', // static ground\n  },\n});\ncanvas.appendChild(ground3);\n\nfor (let i = 0; i < 10; i++) {\n  const rect = new Rect({\n    style: {\n      fill: '#C6E5FF',\n      stroke: '#1890FF',\n      lineWidth: 2,\n      width: 50,\n      height: 50,\n      rigid: 'dynamic',\n      density: 10,\n      x: Math.random() * 100,\n      y: Math.random() * 100,\n    },\n  });\n\n  rect.setRotation(0, 0, 0.3, 0.7);\n  canvas.appendChild(rect);\n}\n\nconst circle = new Circle({\n  style: {\n    fill: '#1890FF',\n    r: 50,\n    rigid: 'dynamic',\n    density: 10,\n    restitution: 0.5,\n    x: 300,\n    y: 0,\n  },\n});\ncanvas.appendChild(circle);\nconst text = new Text({\n  id: 'text',\n  style: {\n    fontFamily: 'PingFang SC',\n    text: 'Circle',\n    fontSize: 16,\n    fill: '#fFF',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\ncircle.appendChild(text);\n\nconst polygon = new Polygon({\n  style: {\n    points: [\n      [20, 10],\n      [40, 10],\n      [40 + 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)],\n      [40, 10 + 20 * Math.cos(Math.PI / 6) * 2],\n      [20, 10 + 20 * Math.cos(Math.PI / 6) * 2],\n      [20 - 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)],\n    ],\n    fill: '#C6E5FF',\n    stroke: '#1890FF',\n    lineWidth: 2,\n    rigid: 'dynamic',\n    density: 10,\n  },\n});\npolygon.setPosition(100, 100);\ncanvas.appendChild(polygon);\n\nconst image = new Image({\n  style: {\n    x: 200,\n    y: 100,\n    width: 80,\n    height: 80,\n    img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n    rigid: 'dynamic',\n    density: 10,\n  },\n});\ncanvas.appendChild(image);\n\n// const slope = new Polyline({\n//   style: {\n//     points: [\n//       [0, 200],\n//       [50, 400],\n//       [400, 400],\n//       [400, 200],\n//     ],\n//     stroke: '#1890FF',\n//     lineWidth: 2,\n//     rigid: 'static', // static ground\n//   },\n// });\n// canvas.appendChild(slope);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\n// const gui = new lil.GUI({ autoPlace: false });\n// $wrapper.appendChild(gui.domElement);\n// const forceFolder = gui.addFolder('force');\n// const forceConfig = {\n//   applyForce: () => {\n//     plugin.applyForce(circle, [0, -100], [0, 0]);\n//   },\n// };\n// forceFolder.add(forceConfig, 'applyForce').name('applyForce');\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-plugin-box2d\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-plugin-box2d\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gPluginBox2d, global.lilGui, global.stats);\n    global.box2d = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gPluginBox2d, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var renderer = new _gCanvas.Renderer();\n  var plugin = new _gPluginBox2d.Plugin();\n  renderer.registerPlugin(plugin);\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer\n  });\n  var ground1 = new _g.Line({\n    style: {\n      x1: 0,\n      y1: 200,\n      x2: 50,\n      y2: 400,\n      stroke: '#1890FF',\n      lineWidth: 2,\n      width: 1000,\n      height: 10,\n      rigid: 'static' // static ground\n\n    }\n  });\n  canvas.appendChild(ground1);\n  var ground2 = new _g.Line({\n    style: {\n      x1: 50,\n      y1: 400,\n      x2: 400,\n      y2: 400,\n      stroke: '#1890FF',\n      lineWidth: 2,\n      width: 1000,\n      height: 10,\n      rigid: 'static' // static ground\n\n    }\n  });\n  canvas.appendChild(ground2);\n  var ground3 = new _g.Line({\n    style: {\n      x1: 400,\n      y1: 400,\n      x2: 400,\n      y2: 200,\n      stroke: '#1890FF',\n      lineWidth: 2,\n      width: 1000,\n      height: 10,\n      rigid: 'static' // static ground\n\n    }\n  });\n  canvas.appendChild(ground3);\n\n  for (var i = 0; i < 10; i++) {\n    var rect = new _g.Rect({\n      style: {\n        fill: '#C6E5FF',\n        stroke: '#1890FF',\n        lineWidth: 2,\n        width: 50,\n        height: 50,\n        rigid: 'dynamic',\n        density: 10,\n        x: Math.random() * 100,\n        y: Math.random() * 100\n      }\n    });\n    rect.setRotation(0, 0, 0.3, 0.7);\n    canvas.appendChild(rect);\n  }\n\n  var circle = new _g.Circle({\n    style: {\n      fill: '#1890FF',\n      r: 50,\n      rigid: 'dynamic',\n      density: 10,\n      restitution: 0.5,\n      x: 300,\n      y: 0\n    }\n  });\n  canvas.appendChild(circle);\n  var text = new _g.Text({\n    id: 'text',\n    style: {\n      fontFamily: 'PingFang SC',\n      text: 'Circle',\n      fontSize: 16,\n      fill: '#fFF',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  circle.appendChild(text);\n  var polygon = new _g.Polygon({\n    style: {\n      points: [[20, 10], [40, 10], [40 + 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)], [40, 10 + 20 * Math.cos(Math.PI / 6) * 2], [20, 10 + 20 * Math.cos(Math.PI / 6) * 2], [20 - 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)]],\n      fill: '#C6E5FF',\n      stroke: '#1890FF',\n      lineWidth: 2,\n      rigid: 'dynamic',\n      density: 10\n    }\n  });\n  polygon.setPosition(100, 100);\n  canvas.appendChild(polygon);\n  var image = new _g.Image({\n    style: {\n      x: 200,\n      y: 100,\n      width: 80,\n      height: 80,\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n      rigid: 'dynamic',\n      density: 10\n    }\n  });\n  canvas.appendChild(image); // const slope = new Polyline({\n  //   style: {\n  //     points: [\n  //       [0, 200],\n  //       [50, 400],\n  //       [400, 400],\n  //       [400, 200],\n  //     ],\n  //     stroke: '#1890FF',\n  //     lineWidth: 2,\n  //     rigid: 'static', // static ground\n  //   },\n  // });\n  // canvas.appendChild(slope);\n  // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n  // const gui = new lil.GUI({ autoPlace: false });\n  // $wrapper.appendChild(gui.domElement);\n  // const forceFolder = gui.addFolder('force');\n  // const forceConfig = {\n  //   applyForce: () => {\n  //     plugin.applyForce(circle, [0, -100], [0, 0]);\n  //   },\n  // };\n  // forceFolder.add(forceConfig, 'applyForce').name('applyForce');\n});"},{"relativePath":"plugins/demo/css-select.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/css-select.js","order":0,"filename":"css-select.js","title":{"zh":"CSS 选择器插件","en":"CSS Selector Plugin"},"source":"import { Canvas, Group, Circle } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin } from '@antv/g-plugin-css-select';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\nsolarSystem\n   |    |\n   |   sun\n   |\n earthOrbit\n   |    |\n   |  earth\n   |\n  moonOrbit\n      |\n     moon\n */\n\n// create a canvas renderer\nconst canvasRenderer = new CanvasRenderer();\n// register CSS select plugin\ncanvasRenderer.registerPlugin(new Plugin());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst solarSystem = new Group({\n  id: 'solarSystem',\n});\nconst earthOrbit = new Group({\n  id: 'earthOrbit',\n});\nconst moonOrbit = new Group({\n  id: 'moonOrbit',\n});\n\nconst sun = new Circle({\n  id: 'sun',\n  className: 'classname-sun',\n  style: {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst earth = new Circle({\n  id: 'earth',\n  className: 'classname-earth',\n  style: {\n    r: 50,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst moon = new Circle({\n  id: 'moon',\n  className: 'classname-moon',\n  style: {\n    r: 25,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\nsolarSystem.appendChild(sun);\nsolarSystem.appendChild(earthOrbit);\nearthOrbit.appendChild(earth);\nearthOrbit.appendChild(moonOrbit);\nmoonOrbit.appendChild(moon);\n\nsolarSystem.setPosition(300, 250);\nearthOrbit.translate(100, 0);\nmoonOrbit.translate(100, 0);\n\ncanvas.appendChild(solarSystem);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false, width: 400 });\n$wrapper.appendChild(gui.domElement);\nconst selectorFolder = gui.addFolder('CSS Selector');\nconst selectorConfig = {\n  getElementById: 'sun',\n  getElementsByClassName: 'classname-sun',\n  getElementsByTagName: 'circle',\n  querySelector: '[r=100]',\n  querySelectorAll: '[r=100]',\n};\nconst clear = () => {\n  solarSystem.forEach((child) => {\n    child.setAttribute('fill', '#1890FF');\n  });\n};\nselectorFolder.add(selectorConfig, 'getElementById', ['sun', 'earth', 'moon']).onChange((id) => {\n  clear();\n  const target = solarSystem.getElementById(id);\n  target.setAttribute('fill', '#F04864');\n});\nselectorFolder\n  .add(selectorConfig, 'getElementsByClassName', [\n    'classname-sun',\n    'classname-earth',\n    'classname-moon',\n  ])\n  .onChange((className) => {\n    clear();\n    const targets = solarSystem.getElementsByClassName(className);\n    targets.forEach((target) => {\n      target.setAttribute('fill', '#F04864');\n    });\n  });\nselectorFolder\n  .add(selectorConfig, 'getElementsByTagName', ['circle', 'rect'])\n  .onChange((className) => {\n    clear();\n    const targets = solarSystem.getElementsByTagName(className);\n    targets.forEach((target) => {\n      target.setAttribute('fill', '#F04864');\n    });\n  });\nselectorFolder\n  .add(selectorConfig, 'querySelector', ['[r=100]', '[r=50]', '[r=25]'])\n  .onChange((selector) => {\n    clear();\n    const target = solarSystem.querySelector(selector);\n    target.setAttribute('fill', '#F04864');\n  });\nselectorFolder\n  .add(selectorConfig, 'querySelectorAll', ['[r=100]', '[r=50]', '[r=25]'])\n  .onChange((selector) => {\n    clear();\n    const targets = solarSystem.querySelectorAll(selector);\n    targets.forEach((target) => {\n      target.setAttribute('fill', '#F04864');\n    });\n  });\nselectorFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-plugin-css-select\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-plugin-css-select\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gPluginCssSelect, global.lilGui, global.stats);\n    global.cssSelect = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gPluginCssSelect, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n  solarSystem\n     |    |\n     |   sun\n     |\n   earthOrbit\n     |    |\n     |  earth\n     |\n    moonOrbit\n        |\n       moon\n   */\n  // create a canvas renderer\n  var canvasRenderer = new _gCanvas.Renderer(); // register CSS select plugin\n\n  canvasRenderer.registerPlugin(new _gPluginCssSelect.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var solarSystem = new _g.Group({\n    id: 'solarSystem'\n  });\n  var earthOrbit = new _g.Group({\n    id: 'earthOrbit'\n  });\n  var moonOrbit = new _g.Group({\n    id: 'moonOrbit'\n  });\n  var sun = new _g.Circle({\n    id: 'sun',\n    className: 'classname-sun',\n    style: {\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var earth = new _g.Circle({\n    id: 'earth',\n    className: 'classname-earth',\n    style: {\n      r: 50,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var moon = new _g.Circle({\n    id: 'moon',\n    className: 'classname-moon',\n    style: {\n      r: 25,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  solarSystem.appendChild(sun);\n  solarSystem.appendChild(earthOrbit);\n  earthOrbit.appendChild(earth);\n  earthOrbit.appendChild(moonOrbit);\n  moonOrbit.appendChild(moon);\n  solarSystem.setPosition(300, 250);\n  earthOrbit.translate(100, 0);\n  moonOrbit.translate(100, 0);\n  canvas.appendChild(solarSystem); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false,\n    width: 400\n  });\n  $wrapper.appendChild(gui.domElement);\n  var selectorFolder = gui.addFolder('CSS Selector');\n  var selectorConfig = {\n    getElementById: 'sun',\n    getElementsByClassName: 'classname-sun',\n    getElementsByTagName: 'circle',\n    querySelector: '[r=100]',\n    querySelectorAll: '[r=100]'\n  };\n\n  var clear = function clear() {\n    solarSystem.forEach(function (child) {\n      child.setAttribute('fill', '#1890FF');\n    });\n  };\n\n  selectorFolder.add(selectorConfig, 'getElementById', ['sun', 'earth', 'moon']).onChange(function (id) {\n    clear();\n    var target = solarSystem.getElementById(id);\n    target.setAttribute('fill', '#F04864');\n  });\n  selectorFolder.add(selectorConfig, 'getElementsByClassName', ['classname-sun', 'classname-earth', 'classname-moon']).onChange(function (className) {\n    clear();\n    var targets = solarSystem.getElementsByClassName(className);\n    targets.forEach(function (target) {\n      target.setAttribute('fill', '#F04864');\n    });\n  });\n  selectorFolder.add(selectorConfig, 'getElementsByTagName', ['circle', 'rect']).onChange(function (className) {\n    clear();\n    var targets = solarSystem.getElementsByTagName(className);\n    targets.forEach(function (target) {\n      target.setAttribute('fill', '#F04864');\n    });\n  });\n  selectorFolder.add(selectorConfig, 'querySelector', ['[r=100]', '[r=50]', '[r=25]']).onChange(function (selector) {\n    clear();\n    var target = solarSystem.querySelector(selector);\n    target.setAttribute('fill', '#F04864');\n  });\n  selectorFolder.add(selectorConfig, 'querySelectorAll', ['[r=100]', '[r=50]', '[r=25]']).onChange(function (selector) {\n    clear();\n    var targets = solarSystem.querySelectorAll(selector);\n    targets.forEach(function (target) {\n      target.setAttribute('fill', '#F04864');\n    });\n  });\n  selectorFolder.open();\n});"},{"relativePath":"plugins/demo/orbit-control.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/orbit-control.js","order":1,"filename":"orbit-control.js","title":{"zh":"使用 Orbit Control","en":"Use orbit control"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*1u8eRKMbVX8AAAAAAAAAAAAAARQnAQ","source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { MeshBasicMaterial, CubeGeometry, Mesh, Plugin as Plugin3D } from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\nrenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n});\n\n(async () => {\n  await canvas.ready;\n  const device = renderer.getDevice();\n  const map = renderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ',\n  );\n\n  const cubeGeometry = new CubeGeometry(device, {\n    width: 200,\n    height: 200,\n    depth: 200,\n  });\n  const basicMaterial = new MeshBasicMaterial(device, {\n    // wireframe: true,\n    map,\n  });\n\n  const cube = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: cubeGeometry,\n      material: basicMaterial,\n    },\n  });\n\n  cube.setPosition(300, 250, 0);\n\n  canvas.appendChild(cube);\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n    cube.rotate(0, 1, 0);\n  });\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n})();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.lilGui, global.stats);\n    global.orbitControl = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin());\n  renderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer\n  });\n\n  (async function () {\n    await canvas.ready;\n    var device = renderer.getDevice();\n    var map = renderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ');\n    var cubeGeometry = new _gPlugin3d.CubeGeometry(device, {\n      width: 200,\n      height: 200,\n      depth: 200\n    });\n    var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device, {\n      // wireframe: true,\n      map: map\n    });\n    var cube = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: cubeGeometry,\n        material: basicMaterial\n      }\n    });\n    cube.setPosition(300, 250, 0);\n    canvas.appendChild(cube); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      }\n\n      cube.rotate(0, 1, 0);\n    }); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n  })();\n});"},{"relativePath":"plugins/demo/physx.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/physx.js","order":4,"filename":"physx.js","title":{"zh":"在 3D 场景中使用 PhysX 物理引擎","en":"Use PhysX in 3D scene"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { MeshBasicMaterial, CubeGeometry, Mesh, Plugin as Plugin3D } from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport { Plugin as PluginPhysX } from '@antv/g-plugin-physx';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\nrenderer.registerPlugin(new PluginControl());\nrenderer.registerPlugin(new PluginPhysX());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n});\n\n(async () => {\n  await canvas.ready;\n  const device = renderer.getDevice();\n  const map = renderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ',\n  );\n\n  const planeGeometry = new CubeGeometry(device, {\n    width: 200,\n    height: 200,\n    depth: 200,\n  });\n  const planeMaterial = new MeshBasicMaterial(device);\n  const plane = new Mesh({\n    style: {\n      fill: '#1890FF',\n      geometry: planeGeometry,\n      material: planeMaterial,\n      rigid: 'static',\n    },\n  });\n  canvas.appendChild(plane);\n  plane.setPosition(300, 250, 0);\n\n  const cubeGeometry = new CubeGeometry(device, {\n    width: 200,\n    height: 200,\n    depth: 200,\n  });\n  const basicMaterial = new MeshBasicMaterial(device, {\n    // wireframe: true,\n    map,\n  });\n\n  const cube = new Mesh({\n    style: {\n      fill: '#1890FF',\n      geometry: cubeGeometry,\n      material: basicMaterial,\n      rigid: 'dynamic',\n    },\n  });\n\n  cube.setPosition(300, 250, 0);\n\n  canvas.appendChild(cube);\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n  });\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n})();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"@antv/g-plugin-physx\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"@antv/g-plugin-physx\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.gPluginPhysx, global.lilGui, global.stats);\n    global.physx = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, _gPluginPhysx, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin());\n  renderer.registerPlugin(new _gPluginControl.Plugin());\n  renderer.registerPlugin(new _gPluginPhysx.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer\n  });\n\n  (async function () {\n    await canvas.ready;\n    var device = renderer.getDevice();\n    var map = renderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ');\n    var planeGeometry = new _gPlugin3d.CubeGeometry(device, {\n      width: 200,\n      height: 200,\n      depth: 200\n    });\n    var planeMaterial = new _gPlugin3d.MeshBasicMaterial(device);\n    var plane = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        geometry: planeGeometry,\n        material: planeMaterial,\n        rigid: 'static'\n      }\n    });\n    canvas.appendChild(plane);\n    plane.setPosition(300, 250, 0);\n    var cubeGeometry = new _gPlugin3d.CubeGeometry(device, {\n      width: 200,\n      height: 200,\n      depth: 200\n    });\n    var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device, {\n      // wireframe: true,\n      map: map\n    });\n    var cube = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        geometry: cubeGeometry,\n        material: basicMaterial,\n        rigid: 'dynamic'\n      }\n    });\n    cube.setPosition(300, 250, 0);\n    canvas.appendChild(cube); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      }\n    }); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n  })();\n});"},{"relativePath":"plugins/demo/matterjs.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/matterjs.js","order":3,"filename":"matterjs.js","title":{"zh":"在 2D 场景中使用 MatterJS 物理引擎","en":"Use MatterJS in 2D scene"},"source":"import { Canvas, CanvasEvent, Rect, Line, Polyline, Polygon, Circle, Image, Text } from '@antv/g';\nimport { Renderer } from '@antv/g-canvas';\nimport { Plugin as PluginMatterjs } from '@antv/g-plugin-matterjs';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst renderer = new Renderer();\nconst plugin = new PluginMatterjs({\n  debug: true, // 开启 debug 模式，将物理引擎世界也渲染出来\n  debugContainer: document.getElementById('container'),\n  debugCanvasWidth: 600,\n  debugCanvasHeight: 500,\n});\nrenderer.registerPlugin(plugin);\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n});\n\n// const ground = new Rect({\n//   style: {\n//     fill: '#C6E5FF',\n//     width: 550,\n//     height: 10,\n//     rigid: 'static',\n//     x: 0,\n//     y: 400,\n//   },\n// });\n// canvas.appendChild(ground);\n\nconst ground1 = new Line({\n  style: {\n    x1: 0,\n    y1: 200,\n    x2: 50,\n    y2: 400,\n    stroke: '#1890FF',\n    lineWidth: 2,\n    width: 1000,\n    height: 10,\n    rigid: 'static', // static ground\n  },\n});\ncanvas.appendChild(ground1);\nconst ground2 = new Line({\n  style: {\n    x1: 50,\n    y1: 400,\n    x2: 400,\n    y2: 400,\n    stroke: '#1890FF',\n    lineWidth: 2,\n    width: 1000,\n    height: 10,\n    rigid: 'static', // static ground\n  },\n});\ncanvas.appendChild(ground2);\nconst ground3 = new Line({\n  style: {\n    x1: 400,\n    y1: 400,\n    x2: 400,\n    y2: 200,\n    stroke: '#1890FF',\n    lineWidth: 2,\n    width: 1000,\n    height: 10,\n    rigid: 'static', // static ground\n  },\n});\ncanvas.appendChild(ground3);\n\nfor (let i = 0; i < 10; i++) {\n  const rect = new Rect({\n    style: {\n      fill: '#C6E5FF',\n      stroke: '#1890FF',\n      lineWidth: 2,\n      width: 50,\n      height: 50,\n      rigid: 'dynamic',\n      density: 0.1,\n      x: Math.random() * 100 + 100,\n      y: Math.random() * 100,\n    },\n  });\n  canvas.appendChild(rect);\n}\n\nconst circle = new Circle({\n  style: {\n    fill: '#1890FF',\n    r: 50,\n    rigid: 'dynamic',\n    density: 0.1,\n    restitution: 0.5,\n    x: 300,\n    y: 0,\n  },\n});\ncanvas.appendChild(circle);\n// const text = new Text({\n//   id: 'text',\n//   style: {\n//     fontFamily: 'PingFang SC',\n//     text: 'Circle',\n//     fontSize: 16,\n//     fill: '#fFF',\n//     textAlign: 'center',\n//     textBaseline: 'middle',\n//   },\n// });\n// circle.appendChild(text);\n\nconst polygon = new Polygon({\n  style: {\n    points: [\n      [20, 10],\n      [40, 10],\n      [40 + 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)],\n      [40, 10 + 20 * Math.cos(Math.PI / 6) * 2],\n      [20, 10 + 20 * Math.cos(Math.PI / 6) * 2],\n      [20 - 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)],\n      // [10, 10],\n      // [30, 10],\n      // [30, 30],\n      // [10, 30],\n    ],\n    fill: '#C6E5FF',\n    stroke: '#1890FF',\n    lineWidth: 2,\n    rigid: 'dynamic',\n    density: 10,\n  },\n});\npolygon.setPosition(100, 100);\ncanvas.appendChild(polygon);\n\nconst image = new Image({\n  style: {\n    x: 200,\n    y: 100,\n    width: 80,\n    height: 80,\n    img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n    rigid: 'dynamic',\n    density: 10,\n  },\n});\ncanvas.appendChild(image);\n\n// const slope = new Polyline({\n//   style: {\n//     points: [\n//       [0, 200],\n//       [50, 400],\n//       [400, 400],\n//       [400, 200],\n//     ],\n//     stroke: '#1890FF',\n//     lineWidth: 2,\n//     rigid: 'static', // static ground\n//   },\n// });\n// canvas.appendChild(slope);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst forceFolder = gui.addFolder('force');\nconst forceConfig = {\n  applyForce: () => {\n    plugin.applyForce(circle, [0, -10], [0, 0]);\n  },\n};\nforceFolder.add(forceConfig, 'applyForce').name('applyForce to circle');\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-plugin-matterjs\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-plugin-matterjs\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gPluginMatterjs, global.lilGui, global.stats);\n    global.matterjs = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gPluginMatterjs, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var renderer = new _gCanvas.Renderer();\n  var plugin = new _gPluginMatterjs.Plugin({\n    debug: true,\n    // 开启 debug 模式，将物理引擎世界也渲染出来\n    debugContainer: document.getElementById('container'),\n    debugCanvasWidth: 600,\n    debugCanvasHeight: 500\n  });\n  renderer.registerPlugin(plugin);\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer\n  }); // const ground = new Rect({\n  //   style: {\n  //     fill: '#C6E5FF',\n  //     width: 550,\n  //     height: 10,\n  //     rigid: 'static',\n  //     x: 0,\n  //     y: 400,\n  //   },\n  // });\n  // canvas.appendChild(ground);\n\n  var ground1 = new _g.Line({\n    style: {\n      x1: 0,\n      y1: 200,\n      x2: 50,\n      y2: 400,\n      stroke: '#1890FF',\n      lineWidth: 2,\n      width: 1000,\n      height: 10,\n      rigid: 'static' // static ground\n\n    }\n  });\n  canvas.appendChild(ground1);\n  var ground2 = new _g.Line({\n    style: {\n      x1: 50,\n      y1: 400,\n      x2: 400,\n      y2: 400,\n      stroke: '#1890FF',\n      lineWidth: 2,\n      width: 1000,\n      height: 10,\n      rigid: 'static' // static ground\n\n    }\n  });\n  canvas.appendChild(ground2);\n  var ground3 = new _g.Line({\n    style: {\n      x1: 400,\n      y1: 400,\n      x2: 400,\n      y2: 200,\n      stroke: '#1890FF',\n      lineWidth: 2,\n      width: 1000,\n      height: 10,\n      rigid: 'static' // static ground\n\n    }\n  });\n  canvas.appendChild(ground3);\n\n  for (var i = 0; i < 10; i++) {\n    var rect = new _g.Rect({\n      style: {\n        fill: '#C6E5FF',\n        stroke: '#1890FF',\n        lineWidth: 2,\n        width: 50,\n        height: 50,\n        rigid: 'dynamic',\n        density: 0.1,\n        x: Math.random() * 100 + 100,\n        y: Math.random() * 100\n      }\n    });\n    canvas.appendChild(rect);\n  }\n\n  var circle = new _g.Circle({\n    style: {\n      fill: '#1890FF',\n      r: 50,\n      rigid: 'dynamic',\n      density: 0.1,\n      restitution: 0.5,\n      x: 300,\n      y: 0\n    }\n  });\n  canvas.appendChild(circle); // const text = new Text({\n  //   id: 'text',\n  //   style: {\n  //     fontFamily: 'PingFang SC',\n  //     text: 'Circle',\n  //     fontSize: 16,\n  //     fill: '#fFF',\n  //     textAlign: 'center',\n  //     textBaseline: 'middle',\n  //   },\n  // });\n  // circle.appendChild(text);\n\n  var polygon = new _g.Polygon({\n    style: {\n      points: [[20, 10], [40, 10], [40 + 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)], [40, 10 + 20 * Math.cos(Math.PI / 6) * 2], [20, 10 + 20 * Math.cos(Math.PI / 6) * 2], [20 - 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)] // [10, 10],\n      // [30, 10],\n      // [30, 30],\n      // [10, 30],\n      ],\n      fill: '#C6E5FF',\n      stroke: '#1890FF',\n      lineWidth: 2,\n      rigid: 'dynamic',\n      density: 10\n    }\n  });\n  polygon.setPosition(100, 100);\n  canvas.appendChild(polygon);\n  var image = new _g.Image({\n    style: {\n      x: 200,\n      y: 100,\n      width: 80,\n      height: 80,\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n      rigid: 'dynamic',\n      density: 10\n    }\n  });\n  canvas.appendChild(image); // const slope = new Polyline({\n  //   style: {\n  //     points: [\n  //       [0, 200],\n  //       [50, 400],\n  //       [400, 400],\n  //       [400, 200],\n  //     ],\n  //     stroke: '#1890FF',\n  //     lineWidth: 2,\n  //     rigid: 'static', // static ground\n  //   },\n  // });\n  // canvas.appendChild(slope);\n  // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var forceFolder = gui.addFolder('force');\n  var forceConfig = {\n    applyForce: function applyForce() {\n      plugin.applyForce(circle, [0, -10], [0, 0]);\n    }\n  };\n  forceFolder.add(forceConfig, 'applyForce').name('applyForce to circle');\n});"},{"relativePath":"plugins/demo/yoga-animation.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/yoga-animation.js","order":9,"filename":"yoga-animation.js","title":{"zh":"使用 Yoga 排版引擎 - 对属性应用动画","en":"Use Yoga layout engine - use animation"},"source":"import { Canvas, CanvasEvent, Rect, Text } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin as PluginYoga } from '@antv/g-plugin-yoga';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst canvasRenderer = new CanvasRenderer();\nconst plugin = new PluginYoga();\ncanvasRenderer.registerPlugin(plugin);\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst root = new Rect({\n  id: 'root',\n  style: {\n    fill: '#C6E5FF',\n    width: 500,\n    height: 300,\n    display: 'flex',\n    x: 50,\n    y: 50,\n  },\n});\ncanvas.appendChild(root);\n\nconst node1 = new Rect({\n  id: 'node1',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\nnode1.appendChild(\n  new Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1',\n    },\n  }),\n);\nconst node2 = new Rect({\n  id: 'node2',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexGrow: 1,\n  },\n});\nnode2.appendChild(\n  new Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2',\n    },\n  }),\n);\n\nroot.appendChild(node1);\nroot.appendChild(node2);\n\nnode1.animate(\n  [\n    { top: 0, left: 0, width: 100, marginAll: 0, paddingLeft: 0 },\n    { top: 100, left: 100, width: 200, marginAll: 20, paddingLeft: 50 },\n  ],\n  {\n    duration: 1000,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    fill: 'both',\n    iterations: Infinity,\n    direction: 'alternate-reverse',\n  },\n);\n\nnode2.animate([{ flexGrow: 1 }, { flexGrow: 0.5 }], {\n  duration: 1000,\n  easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n  fill: 'both',\n  iterations: Infinity,\n  direction: 'alternate-reverse',\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\n\nconst layoutConfig = {\n  width: 500,\n  height: 300,\n};\nconst layoutFolder = gui.addFolder(\"Container's Layout\");\nlayoutFolder.add(layoutConfig, 'width', 100, 600).onChange((width) => {\n  root.style.width = width;\n});\nlayoutFolder.add(layoutConfig, 'height', 200, 500).onChange((height) => {\n  root.style.height = height;\n});\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-plugin-yoga\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-plugin-yoga\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gPluginYoga, global.lilGui, global.stats);\n    global.yogaAnimation = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gPluginYoga, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var plugin = new _gPluginYoga.Plugin();\n  canvasRenderer.registerPlugin(plugin);\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var root = new _g.Rect({\n    id: 'root',\n    style: {\n      fill: '#C6E5FF',\n      width: 500,\n      height: 300,\n      display: 'flex',\n      x: 50,\n      y: 50\n    }\n  });\n  canvas.appendChild(root);\n  var node1 = new _g.Rect({\n    id: 'node1',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  });\n  node1.appendChild(new _g.Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1'\n    }\n  }));\n  var node2 = new _g.Rect({\n    id: 'node2',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      flexGrow: 1\n    }\n  });\n  node2.appendChild(new _g.Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2'\n    }\n  }));\n  root.appendChild(node1);\n  root.appendChild(node2);\n  node1.animate([{\n    top: 0,\n    left: 0,\n    width: 100,\n    marginAll: 0,\n    paddingLeft: 0\n  }, {\n    top: 100,\n    left: 100,\n    width: 200,\n    marginAll: 20,\n    paddingLeft: 50\n  }], {\n    duration: 1000,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    fill: 'both',\n    iterations: Infinity,\n    direction: 'alternate-reverse'\n  });\n  node2.animate([{\n    flexGrow: 1\n  }, {\n    flexGrow: 0.5\n  }], {\n    duration: 1000,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    fill: 'both',\n    iterations: Infinity,\n    direction: 'alternate-reverse'\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var layoutConfig = {\n    width: 500,\n    height: 300\n  };\n  var layoutFolder = gui.addFolder(\"Container's Layout\");\n  layoutFolder.add(layoutConfig, 'width', 100, 600).onChange(function (width) {\n    root.style.width = width;\n  });\n  layoutFolder.add(layoutConfig, 'height', 200, 500).onChange(function (height) {\n    root.style.height = height;\n  });\n});"},{"relativePath":"plugins/demo/yoga-available-space.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/yoga-available-space.js","order":7,"filename":"yoga-available-space.js","title":{"zh":"使用 Yoga 排版引擎 - 可用空间","en":"Use Yoga layout engine - available space"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*fbvlTpdHR0IAAAAAAAAAAAAAARQnAQ","source":"import { Canvas, CanvasEvent, Rect, Text } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin as PluginYoga } from '@antv/g-plugin-yoga';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst canvasRenderer = new CanvasRenderer();\nconst plugin = new PluginYoga();\ncanvasRenderer.registerPlugin(plugin);\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst root = new Rect({\n  id: 'root',\n  style: {\n    fill: '#C6E5FF',\n    width: 500,\n    height: 300,\n    display: 'flex',\n    x: 50,\n    y: 50,\n  },\n});\ncanvas.appendChild(root);\n\nconst node1 = new Rect({\n  id: 'node1',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexGrow: 1,\n  },\n});\nnode1.appendChild(\n  new Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1',\n    },\n  }),\n);\nconst node2 = new Rect({\n  id: 'node2',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexGrow: 1,\n  },\n});\nnode2.appendChild(\n  new Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2',\n    },\n  }),\n);\n\nroot.appendChild(node1);\nroot.appendChild(node2);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\n\nconst flexFolder1 = gui.addFolder(\"Node1's Flex\");\nconst config1 = {\n  flexGrow: 1,\n  flexShrink: 1,\n  maxWidth: 0,\n  minWidth: 0,\n  setMaxWidthNaN: () => {\n    node1.style.maxWidth = NaN;\n  },\n  setMinWidthNaN: () => {\n    node1.style.minWidth = NaN;\n  },\n};\nflexFolder1.add(config1, 'flexGrow', 0, 1).onChange((flexGrow) => {\n  node1.style.flexGrow = flexGrow;\n});\nflexFolder1.add(config1, 'flexShrink', 0, 1).onChange((flexShrink) => {\n  node1.style.flexShrink = flexShrink;\n});\nflexFolder1.add(config1, 'maxWidth', 0, 300).onChange((maxWidth) => {\n  node1.style.maxWidth = maxWidth;\n});\nflexFolder1.add(config1, 'setMaxWidthNaN').name('set maxWidth to NaN');\nflexFolder1.add(config1, 'minWidth', 0, 300).onChange((minWidth) => {\n  node1.style.minWidth = minWidth;\n});\nflexFolder1.add(config1, 'setMinWidthNaN').name('set minWidth to NaN');\n\nconst flexFolder2 = gui.addFolder(\"Node2's Flex\");\nconst config2 = {\n  flexGrow: 1,\n  flexShrink: 1,\n  maxWidth: 0,\n  minWidth: 0,\n  setMaxWidthNaN: () => {\n    node2.style.maxWidth = NaN;\n  },\n  setMinWidthNaN: () => {\n    node2.style.minWidth = NaN;\n  },\n};\nflexFolder2.add(config2, 'flexGrow', 0, 1).onChange((flexGrow) => {\n  node2.style.flexGrow = flexGrow;\n});\nflexFolder2.add(config2, 'flexShrink', 0, 1).onChange((flexShrink) => {\n  node2.style.flexShrink = flexShrink;\n});\nflexFolder2.add(config2, 'maxWidth', 0, 300).onChange((maxWidth) => {\n  node2.style.maxWidth = maxWidth;\n});\nflexFolder2.add(config2, 'setMaxWidthNaN').name('set maxWidth to NaN');\nflexFolder2.add(config2, 'minWidth', 0, 300).onChange((minWidth) => {\n  node2.style.minWidth = minWidth;\n});\nflexFolder2.add(config2, 'setMinWidthNaN').name('set minWidth to NaN');\n\nconst layoutConfig = {\n  width: 500,\n  height: 300,\n};\nconst layoutFolder = gui.addFolder(\"Container's Layout\");\nlayoutFolder.add(layoutConfig, 'width', 100, 600).onChange((width) => {\n  root.style.width = width;\n});\nlayoutFolder.add(layoutConfig, 'height', 200, 500).onChange((height) => {\n  root.style.height = height;\n});\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-plugin-yoga\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-plugin-yoga\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gPluginYoga, global.lilGui, global.stats);\n    global.yogaAvailableSpace = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gPluginYoga, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var plugin = new _gPluginYoga.Plugin();\n  canvasRenderer.registerPlugin(plugin);\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var root = new _g.Rect({\n    id: 'root',\n    style: {\n      fill: '#C6E5FF',\n      width: 500,\n      height: 300,\n      display: 'flex',\n      x: 50,\n      y: 50\n    }\n  });\n  canvas.appendChild(root);\n  var node1 = new _g.Rect({\n    id: 'node1',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      flexGrow: 1\n    }\n  });\n  node1.appendChild(new _g.Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1'\n    }\n  }));\n  var node2 = new _g.Rect({\n    id: 'node2',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      flexGrow: 1\n    }\n  });\n  node2.appendChild(new _g.Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2'\n    }\n  }));\n  root.appendChild(node1);\n  root.appendChild(node2); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var flexFolder1 = gui.addFolder(\"Node1's Flex\");\n  var config1 = {\n    flexGrow: 1,\n    flexShrink: 1,\n    maxWidth: 0,\n    minWidth: 0,\n    setMaxWidthNaN: function setMaxWidthNaN() {\n      node1.style.maxWidth = NaN;\n    },\n    setMinWidthNaN: function setMinWidthNaN() {\n      node1.style.minWidth = NaN;\n    }\n  };\n  flexFolder1.add(config1, 'flexGrow', 0, 1).onChange(function (flexGrow) {\n    node1.style.flexGrow = flexGrow;\n  });\n  flexFolder1.add(config1, 'flexShrink', 0, 1).onChange(function (flexShrink) {\n    node1.style.flexShrink = flexShrink;\n  });\n  flexFolder1.add(config1, 'maxWidth', 0, 300).onChange(function (maxWidth) {\n    node1.style.maxWidth = maxWidth;\n  });\n  flexFolder1.add(config1, 'setMaxWidthNaN').name('set maxWidth to NaN');\n  flexFolder1.add(config1, 'minWidth', 0, 300).onChange(function (minWidth) {\n    node1.style.minWidth = minWidth;\n  });\n  flexFolder1.add(config1, 'setMinWidthNaN').name('set minWidth to NaN');\n  var flexFolder2 = gui.addFolder(\"Node2's Flex\");\n  var config2 = {\n    flexGrow: 1,\n    flexShrink: 1,\n    maxWidth: 0,\n    minWidth: 0,\n    setMaxWidthNaN: function setMaxWidthNaN() {\n      node2.style.maxWidth = NaN;\n    },\n    setMinWidthNaN: function setMinWidthNaN() {\n      node2.style.minWidth = NaN;\n    }\n  };\n  flexFolder2.add(config2, 'flexGrow', 0, 1).onChange(function (flexGrow) {\n    node2.style.flexGrow = flexGrow;\n  });\n  flexFolder2.add(config2, 'flexShrink', 0, 1).onChange(function (flexShrink) {\n    node2.style.flexShrink = flexShrink;\n  });\n  flexFolder2.add(config2, 'maxWidth', 0, 300).onChange(function (maxWidth) {\n    node2.style.maxWidth = maxWidth;\n  });\n  flexFolder2.add(config2, 'setMaxWidthNaN').name('set maxWidth to NaN');\n  flexFolder2.add(config2, 'minWidth', 0, 300).onChange(function (minWidth) {\n    node2.style.minWidth = minWidth;\n  });\n  flexFolder2.add(config2, 'setMinWidthNaN').name('set minWidth to NaN');\n  var layoutConfig = {\n    width: 500,\n    height: 300\n  };\n  var layoutFolder = gui.addFolder(\"Container's Layout\");\n  layoutFolder.add(layoutConfig, 'width', 100, 600).onChange(function (width) {\n    root.style.width = width;\n  });\n  layoutFolder.add(layoutConfig, 'height', 200, 500).onChange(function (height) {\n    root.style.height = height;\n  });\n});"},{"relativePath":"plugins/demo/yoga-child.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/yoga-child.js","order":6,"filename":"yoga-child.js","title":{"zh":"使用 Yoga 排版引擎 - 子元素配置","en":"Use Yoga layout engine - child element"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*2zZaS6PlrOcAAAAAAAAAAAAAARQnAQ","source":"import { Canvas, CanvasEvent, Rect, Polygon, Image, Text, Circle } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin as PluginYoga } from '@antv/g-plugin-yoga';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst canvasRenderer = new CanvasRenderer();\nconst plugin = new PluginYoga();\ncanvasRenderer.registerPlugin(plugin);\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst root = new Rect({\n  id: 'root',\n  style: {\n    fill: '#C6E5FF',\n    width: 500,\n    height: 300,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    x: 50,\n    y: 50,\n  },\n});\ncanvas.appendChild(root);\n\nconst node1 = new Rect({\n  id: 'node1',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\nnode1.appendChild(\n  new Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1',\n    },\n  }),\n);\nconst node2 = new Rect({\n  id: 'node2',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\nnode2.appendChild(\n  new Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2',\n    },\n  }),\n);\nconst image = new Image({\n  style: {\n    width: 100,\n    height: 100,\n    img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n  },\n});\nconst polygon = new Polygon({\n  style: {\n    points: [\n      [20, 10],\n      [40, 10],\n      [40 + 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)],\n      [40, 10 + 20 * Math.cos(Math.PI / 6) * 2],\n      [20, 10 + 20 * Math.cos(Math.PI / 6) * 2],\n      [20 - 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)],\n    ],\n    fill: '#C6E5FF',\n    stroke: '#1890FF',\n    lineWidth: 2,\n  },\n});\nconst circle = new Circle({\n  style: {\n    r: 20,\n    fill: '#1890FF',\n  },\n});\n\nroot.appendChild(node1);\nroot.appendChild(node2);\nroot.appendChild(image);\nroot.appendChild(polygon);\nroot.appendChild(circle);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\n\nconst layoutFolder = gui.addFolder(\"Node1's Layout\");\n// const flexFolder = gui.addFolder('Flex');\nconst config = {\n  // flexDirection: 'row',\n  // flexWrap: 'no-wrap',\n  position: 'relative',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  'top(percent)': 0,\n  'right(percent)': 0,\n  'bottom(percent)': 0,\n  'left(percent)': 0,\n  width: 100,\n  height: 100,\n  'width(percent)': 0,\n  'height(percent)': 0,\n  marginTop: 0,\n  marginRight: 0,\n  marginBottom: 0,\n  marginLeft: 0,\n  'marginTop(percent)': 0,\n  'marginRight(percent)': 0,\n  'marginBottom(percent)': 0,\n  'marginLeft(percent)': 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  justifyContent: 'center',\n  alignItems: 'center',\n};\nlayoutFolder.add(config, 'position', ['relative', 'absolute']).onChange((position) => {\n  node1.style.position = position;\n});\nlayoutFolder.add(config, 'top', -50, 50).onChange((top) => {\n  node1.style.top = top;\n});\nlayoutFolder.add(config, 'right', -50, 50).onChange((right) => {\n  node1.style.right = right;\n});\nlayoutFolder.add(config, 'bottom', -50, 50).onChange((bottom) => {\n  node1.style.bottom = bottom;\n});\nlayoutFolder.add(config, 'left', -50, 50).onChange((left) => {\n  node1.style.left = left;\n});\nlayoutFolder.add(config, 'top(percent)', -100, 100).onChange((topPercent) => {\n  node1.style.top = `${topPercent}%`;\n});\nlayoutFolder.add(config, 'right(percent)', -100, 100).onChange((rightPercent) => {\n  node1.style.right = `${rightPercent}%`;\n});\nlayoutFolder.add(config, 'bottom(percent)', -100, 100).onChange((bottomPercent) => {\n  node1.style.bottom = `${bottomPercent}%`;\n});\nlayoutFolder.add(config, 'left(percent)', -100, 100).onChange((leftPercent) => {\n  node1.style.left = `${leftPercent}%`;\n});\nlayoutFolder\n  .add(config, 'justifyContent', [\n    'flex-start',\n    'flex-end',\n    'center',\n    'space-between',\n    'space-around',\n    'space-evenly',\n  ])\n  .onChange((justifyContent) => {\n    node1.style.justifyContent = justifyContent;\n  });\nlayoutFolder\n  .add(config, 'alignItems', [\n    'stretch',\n    'auto',\n    'baseline',\n    'center',\n    'flex-start',\n    'flex-end',\n    'space-between',\n    'space-around',\n  ])\n  .onChange((alignItems) => {\n    node1.style.alignItems = alignItems;\n  });\nlayoutFolder.add(config, 'width', 50, 200).onChange((width) => {\n  node1.style.width = width;\n});\nlayoutFolder.add(config, 'height', 50, 200).onChange((height) => {\n  node1.style.height = height;\n});\nlayoutFolder.add(config, 'width(percent)', 0, 100).onChange((widthPercent) => {\n  node1.style.width = `${widthPercent}%`;\n});\nlayoutFolder.add(config, 'height(percent)', 0, 100).onChange((heightPercent) => {\n  node1.style.height = `${heightPercent}%`;\n});\nlayoutFolder.add(config, 'marginTop', 0, 50).onChange((marginTop) => {\n  node1.style.marginTop = marginTop;\n});\nlayoutFolder.add(config, 'marginRight', 0, 50).onChange((marginRight) => {\n  node1.style.marginRight = marginRight;\n});\nlayoutFolder.add(config, 'marginBottom', 0, 50).onChange((marginBottom) => {\n  node1.style.marginBottom = marginBottom;\n});\nlayoutFolder.add(config, 'marginLeft', 0, 50).onChange((marginLeft) => {\n  node1.style.marginLeft = marginLeft;\n});\nlayoutFolder.add(config, 'marginTop(percent)', 0, 100).onChange((marginTop) => {\n  node1.style.marginTop = `${marginTop}%`;\n});\nlayoutFolder.add(config, 'marginRight(percent)', 0, 100).onChange((marginRight) => {\n  node1.style.marginRight = `${marginRight}%`;\n});\nlayoutFolder.add(config, 'marginBottom(percent)', 0, 100).onChange((marginBottom) => {\n  node1.style.marginBottom = `${marginBottom}%`;\n});\nlayoutFolder.add(config, 'marginLeft(percent)', 0, 100).onChange((marginLeft) => {\n  node1.style.marginLeft = `${marginLeft}%`;\n});\nlayoutFolder.add(config, 'paddingTop', 0, 50).onChange((paddingTop) => {\n  node1.style.paddingTop = paddingTop;\n});\nlayoutFolder.add(config, 'paddingRight', 0, 50).onChange((paddingRight) => {\n  node1.style.paddingRight = paddingRight;\n});\nlayoutFolder.add(config, 'paddingBottom', 0, 50).onChange((paddingBottom) => {\n  node1.style.paddingBottom = paddingBottom;\n});\nlayoutFolder.add(config, 'paddingLeft', 0, 50).onChange((paddingLeft) => {\n  node1.style.paddingLeft = paddingLeft;\n});\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-plugin-yoga\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-plugin-yoga\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gPluginYoga, global.lilGui, global.stats);\n    global.yogaChild = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gPluginYoga, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var plugin = new _gPluginYoga.Plugin();\n  canvasRenderer.registerPlugin(plugin);\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var root = new _g.Rect({\n    id: 'root',\n    style: {\n      fill: '#C6E5FF',\n      width: 500,\n      height: 300,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      x: 50,\n      y: 50\n    }\n  });\n  canvas.appendChild(root);\n  var node1 = new _g.Rect({\n    id: 'node1',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  });\n  node1.appendChild(new _g.Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1'\n    }\n  }));\n  var node2 = new _g.Rect({\n    id: 'node2',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  });\n  node2.appendChild(new _g.Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2'\n    }\n  }));\n  var image = new _g.Image({\n    style: {\n      width: 100,\n      height: 100,\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n    }\n  });\n  var polygon = new _g.Polygon({\n    style: {\n      points: [[20, 10], [40, 10], [40 + 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)], [40, 10 + 20 * Math.cos(Math.PI / 6) * 2], [20, 10 + 20 * Math.cos(Math.PI / 6) * 2], [20 - 20 * Math.sin(Math.PI / 6), 10 + 20 * Math.cos(Math.PI / 6)]],\n      fill: '#C6E5FF',\n      stroke: '#1890FF',\n      lineWidth: 2\n    }\n  });\n  var circle = new _g.Circle({\n    style: {\n      r: 20,\n      fill: '#1890FF'\n    }\n  });\n  root.appendChild(node1);\n  root.appendChild(node2);\n  root.appendChild(image);\n  root.appendChild(polygon);\n  root.appendChild(circle); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var layoutFolder = gui.addFolder(\"Node1's Layout\"); // const flexFolder = gui.addFolder('Flex');\n\n  var config = {\n    // flexDirection: 'row',\n    // flexWrap: 'no-wrap',\n    position: 'relative',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    'top(percent)': 0,\n    'right(percent)': 0,\n    'bottom(percent)': 0,\n    'left(percent)': 0,\n    width: 100,\n    height: 100,\n    'width(percent)': 0,\n    'height(percent)': 0,\n    marginTop: 0,\n    marginRight: 0,\n    marginBottom: 0,\n    marginLeft: 0,\n    'marginTop(percent)': 0,\n    'marginRight(percent)': 0,\n    'marginBottom(percent)': 0,\n    'marginLeft(percent)': 0,\n    paddingTop: 0,\n    paddingRight: 0,\n    paddingBottom: 0,\n    paddingLeft: 0,\n    justifyContent: 'center',\n    alignItems: 'center'\n  };\n  layoutFolder.add(config, 'position', ['relative', 'absolute']).onChange(function (position) {\n    node1.style.position = position;\n  });\n  layoutFolder.add(config, 'top', -50, 50).onChange(function (top) {\n    node1.style.top = top;\n  });\n  layoutFolder.add(config, 'right', -50, 50).onChange(function (right) {\n    node1.style.right = right;\n  });\n  layoutFolder.add(config, 'bottom', -50, 50).onChange(function (bottom) {\n    node1.style.bottom = bottom;\n  });\n  layoutFolder.add(config, 'left', -50, 50).onChange(function (left) {\n    node1.style.left = left;\n  });\n  layoutFolder.add(config, 'top(percent)', -100, 100).onChange(function (topPercent) {\n    node1.style.top = \"\".concat(topPercent, \"%\");\n  });\n  layoutFolder.add(config, 'right(percent)', -100, 100).onChange(function (rightPercent) {\n    node1.style.right = \"\".concat(rightPercent, \"%\");\n  });\n  layoutFolder.add(config, 'bottom(percent)', -100, 100).onChange(function (bottomPercent) {\n    node1.style.bottom = \"\".concat(bottomPercent, \"%\");\n  });\n  layoutFolder.add(config, 'left(percent)', -100, 100).onChange(function (leftPercent) {\n    node1.style.left = \"\".concat(leftPercent, \"%\");\n  });\n  layoutFolder.add(config, 'justifyContent', ['flex-start', 'flex-end', 'center', 'space-between', 'space-around', 'space-evenly']).onChange(function (justifyContent) {\n    node1.style.justifyContent = justifyContent;\n  });\n  layoutFolder.add(config, 'alignItems', ['stretch', 'auto', 'baseline', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around']).onChange(function (alignItems) {\n    node1.style.alignItems = alignItems;\n  });\n  layoutFolder.add(config, 'width', 50, 200).onChange(function (width) {\n    node1.style.width = width;\n  });\n  layoutFolder.add(config, 'height', 50, 200).onChange(function (height) {\n    node1.style.height = height;\n  });\n  layoutFolder.add(config, 'width(percent)', 0, 100).onChange(function (widthPercent) {\n    node1.style.width = \"\".concat(widthPercent, \"%\");\n  });\n  layoutFolder.add(config, 'height(percent)', 0, 100).onChange(function (heightPercent) {\n    node1.style.height = \"\".concat(heightPercent, \"%\");\n  });\n  layoutFolder.add(config, 'marginTop', 0, 50).onChange(function (marginTop) {\n    node1.style.marginTop = marginTop;\n  });\n  layoutFolder.add(config, 'marginRight', 0, 50).onChange(function (marginRight) {\n    node1.style.marginRight = marginRight;\n  });\n  layoutFolder.add(config, 'marginBottom', 0, 50).onChange(function (marginBottom) {\n    node1.style.marginBottom = marginBottom;\n  });\n  layoutFolder.add(config, 'marginLeft', 0, 50).onChange(function (marginLeft) {\n    node1.style.marginLeft = marginLeft;\n  });\n  layoutFolder.add(config, 'marginTop(percent)', 0, 100).onChange(function (marginTop) {\n    node1.style.marginTop = \"\".concat(marginTop, \"%\");\n  });\n  layoutFolder.add(config, 'marginRight(percent)', 0, 100).onChange(function (marginRight) {\n    node1.style.marginRight = \"\".concat(marginRight, \"%\");\n  });\n  layoutFolder.add(config, 'marginBottom(percent)', 0, 100).onChange(function (marginBottom) {\n    node1.style.marginBottom = \"\".concat(marginBottom, \"%\");\n  });\n  layoutFolder.add(config, 'marginLeft(percent)', 0, 100).onChange(function (marginLeft) {\n    node1.style.marginLeft = \"\".concat(marginLeft, \"%\");\n  });\n  layoutFolder.add(config, 'paddingTop', 0, 50).onChange(function (paddingTop) {\n    node1.style.paddingTop = paddingTop;\n  });\n  layoutFolder.add(config, 'paddingRight', 0, 50).onChange(function (paddingRight) {\n    node1.style.paddingRight = paddingRight;\n  });\n  layoutFolder.add(config, 'paddingBottom', 0, 50).onChange(function (paddingBottom) {\n    node1.style.paddingBottom = paddingBottom;\n  });\n  layoutFolder.add(config, 'paddingLeft', 0, 50).onChange(function (paddingLeft) {\n    node1.style.paddingLeft = paddingLeft;\n  });\n});"},{"relativePath":"plugins/demo/yoga-container-wasm.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/yoga-container-wasm.js","order":10,"filename":"yoga-container-wasm.js","title":{"zh":"使用 Yoga 排版引擎 - WASM 版","en":"Use Yoga layout engine - WASM"},"source":"import { Canvas, CanvasEvent, Rect, Text } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport { Plugin as PluginYogaWasm } from '@antv/g-plugin-yoga';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\nconst plugin = new PluginYogaWasm();\n\ncanvasRenderer.registerPlugin(plugin);\nwebglRenderer.registerPlugin(plugin);\nsvgRenderer.registerPlugin(plugin);\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// you can use Group if you want this container invisible\nconst root = new Rect({\n  id: 'root',\n  style: {\n    fill: '#C6E5FF',\n    width: 500,\n    height: 300,\n    display: 'flex',\n    justifyContent: 'center',\n    x: 50,\n    y: 50,\n  },\n});\ncanvas.appendChild(root);\n\nconst node1 = new Rect({\n  id: 'node1',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    // alignSelf: 'center'\n  },\n});\nnode1.appendChild(\n  new Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1',\n    },\n  }),\n);\nconst node2 = new Rect({\n  id: 'node2',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\nnode2.appendChild(\n  new Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2',\n    },\n  }),\n);\nroot.appendChild(node1);\nroot.appendChild(node2);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst layoutFolder = gui.addFolder('Layout');\nconst flexFolder = gui.addFolder('Flex');\nconst config = {\n  flexDirection: 'row',\n  flexWrap: 'no-wrap',\n  justifyContent: 'center',\n  alignItems: 'stretch',\n  alignContent: 'flex-start',\n  width: 500,\n  height: 300,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  appendChild: () => {\n    const num = root.children.length;\n    const id = num + 1;\n    const rect = new Rect({\n      id: `node${id}`,\n      style: {\n        fill: 'white',\n        stroke: 'grey',\n        lineWidth: 1,\n        opacity: 0.8,\n        width: 100,\n        height: 100,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n    });\n    const text = new Text({\n      id: `node${id}-text`,\n      style: {\n        fontFamily: 'PingFang SC',\n        fontSize: 32,\n        fill: '#1890FF',\n        text: `${id}`,\n      },\n    });\n    rect.appendChild(text);\n    root.appendChild(rect);\n  },\n  removeChild: () => {\n    const num = root.children.length;\n    if (num) {\n      root.removeChild(root.children[num - 1]);\n    }\n  },\n};\nflexFolder\n  .add(config, 'flexDirection', ['row', 'column', 'row-reverse', 'column-reverse'])\n  .onChange((flexDirection) => {\n    root.style.flexDirection = flexDirection;\n  });\nflexFolder.add(config, 'flexWrap', ['wrap', 'no-wrap', 'wrap-reverse']).onChange((flexWrap) => {\n  root.style.flexWrap = flexWrap;\n});\nlayoutFolder\n  .add(config, 'justifyContent', [\n    'flex-start',\n    'flex-end',\n    'center',\n    'space-between',\n    'space-around',\n    'space-evenly',\n  ])\n  .onChange((justifyContent) => {\n    root.style.justifyContent = justifyContent;\n  });\nlayoutFolder\n  .add(config, 'alignItems', [\n    'stretch',\n    'auto',\n    'baseline',\n    'center',\n    'flex-start',\n    'flex-end',\n    'space-between',\n    'space-around',\n  ])\n  .onChange((alignItems) => {\n    root.style.alignItems = alignItems;\n  });\nlayoutFolder\n  .add(config, 'alignContent', [\n    'stretch',\n    'center',\n    'flex-start',\n    'flex-end',\n    'space-between',\n    'space-around',\n  ])\n  .onChange((alignContent) => {\n    root.style.alignContent = alignContent;\n  });\nlayoutFolder.add(config, 'width', 200, 600).onChange((width) => {\n  root.style.width = width;\n});\nlayoutFolder.add(config, 'height', 200, 500).onChange((height) => {\n  root.style.height = height;\n});\nlayoutFolder.add(config, 'paddingTop', 0, 50).onChange((paddingTop) => {\n  root.style.paddingTop = paddingTop;\n});\nlayoutFolder.add(config, 'paddingRight', 0, 50).onChange((paddingRight) => {\n  root.style.paddingRight = paddingRight;\n});\nlayoutFolder.add(config, 'paddingBottom', 0, 50).onChange((paddingBottom) => {\n  root.style.paddingBottom = paddingBottom;\n});\nlayoutFolder.add(config, 'paddingLeft', 0, 50).onChange((paddingLeft) => {\n  root.style.paddingLeft = paddingLeft;\n});\nlayoutFolder.add(config, 'appendChild').name('appendChild');\nlayoutFolder.add(config, 'removeChild').name('removeChild');\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"@antv/g-plugin-yoga\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"@antv/g-plugin-yoga\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.gPluginYoga, global.lilGui, global.stats);\n    global.yogaContainerWasm = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, _gPluginYoga, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer();\n  var plugin = new _gPluginYoga.Plugin();\n  canvasRenderer.registerPlugin(plugin);\n  webglRenderer.registerPlugin(plugin);\n  svgRenderer.registerPlugin(plugin);\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // you can use Group if you want this container invisible\n\n  var root = new _g.Rect({\n    id: 'root',\n    style: {\n      fill: '#C6E5FF',\n      width: 500,\n      height: 300,\n      display: 'flex',\n      justifyContent: 'center',\n      x: 50,\n      y: 50\n    }\n  });\n  canvas.appendChild(root);\n  var node1 = new _g.Rect({\n    id: 'node1',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center' // alignSelf: 'center'\n\n    }\n  });\n  node1.appendChild(new _g.Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1'\n    }\n  }));\n  var node2 = new _g.Rect({\n    id: 'node2',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  });\n  node2.appendChild(new _g.Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2'\n    }\n  }));\n  root.appendChild(node1);\n  root.appendChild(node2); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var layoutFolder = gui.addFolder('Layout');\n  var flexFolder = gui.addFolder('Flex');\n  var config = {\n    flexDirection: 'row',\n    flexWrap: 'no-wrap',\n    justifyContent: 'center',\n    alignItems: 'stretch',\n    alignContent: 'flex-start',\n    width: 500,\n    height: 300,\n    paddingTop: 0,\n    paddingRight: 0,\n    paddingBottom: 0,\n    paddingLeft: 0,\n    appendChild: function appendChild() {\n      var num = root.children.length;\n      var id = num + 1;\n      var rect = new _g.Rect({\n        id: \"node\".concat(id),\n        style: {\n          fill: 'white',\n          stroke: 'grey',\n          lineWidth: 1,\n          opacity: 0.8,\n          width: 100,\n          height: 100,\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        }\n      });\n      var text = new _g.Text({\n        id: \"node\".concat(id, \"-text\"),\n        style: {\n          fontFamily: 'PingFang SC',\n          fontSize: 32,\n          fill: '#1890FF',\n          text: \"\".concat(id)\n        }\n      });\n      rect.appendChild(text);\n      root.appendChild(rect);\n    },\n    removeChild: function removeChild() {\n      var num = root.children.length;\n\n      if (num) {\n        root.removeChild(root.children[num - 1]);\n      }\n    }\n  };\n  flexFolder.add(config, 'flexDirection', ['row', 'column', 'row-reverse', 'column-reverse']).onChange(function (flexDirection) {\n    root.style.flexDirection = flexDirection;\n  });\n  flexFolder.add(config, 'flexWrap', ['wrap', 'no-wrap', 'wrap-reverse']).onChange(function (flexWrap) {\n    root.style.flexWrap = flexWrap;\n  });\n  layoutFolder.add(config, 'justifyContent', ['flex-start', 'flex-end', 'center', 'space-between', 'space-around', 'space-evenly']).onChange(function (justifyContent) {\n    root.style.justifyContent = justifyContent;\n  });\n  layoutFolder.add(config, 'alignItems', ['stretch', 'auto', 'baseline', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around']).onChange(function (alignItems) {\n    root.style.alignItems = alignItems;\n  });\n  layoutFolder.add(config, 'alignContent', ['stretch', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around']).onChange(function (alignContent) {\n    root.style.alignContent = alignContent;\n  });\n  layoutFolder.add(config, 'width', 200, 600).onChange(function (width) {\n    root.style.width = width;\n  });\n  layoutFolder.add(config, 'height', 200, 500).onChange(function (height) {\n    root.style.height = height;\n  });\n  layoutFolder.add(config, 'paddingTop', 0, 50).onChange(function (paddingTop) {\n    root.style.paddingTop = paddingTop;\n  });\n  layoutFolder.add(config, 'paddingRight', 0, 50).onChange(function (paddingRight) {\n    root.style.paddingRight = paddingRight;\n  });\n  layoutFolder.add(config, 'paddingBottom', 0, 50).onChange(function (paddingBottom) {\n    root.style.paddingBottom = paddingBottom;\n  });\n  layoutFolder.add(config, 'paddingLeft', 0, 50).onChange(function (paddingLeft) {\n    root.style.paddingLeft = paddingLeft;\n  });\n  layoutFolder.add(config, 'appendChild').name('appendChild');\n  layoutFolder.add(config, 'removeChild').name('removeChild');\n});"},{"relativePath":"plugins/demo/yoga-text.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/yoga-text.js","order":8,"filename":"yoga-text.js","title":{"zh":"使用 Yoga 排版引擎 - 文字排版","en":"Use Yoga layout engine - text"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*IH1fSJN9fsMAAAAAAAAAAAAAARQnAQ","source":"import { Canvas, CanvasEvent, Rect, Text, Group, Circle } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin as PluginYoga } from '@antv/g-plugin-yoga';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst canvasRenderer = new CanvasRenderer();\nconst plugin = new PluginYoga();\ncanvasRenderer.registerPlugin(plugin);\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst root = new Rect({\n  id: 'root',\n  style: {\n    fill: '#C6E5FF',\n    width: 500,\n    height: 300,\n    x: 50,\n    y: 50,\n    display: 'flex',\n    flexDirection: 'column',\n    padding: [10, 10, 10, 10],\n  },\n});\ncanvas.appendChild(root);\n\nconst topPanel = new Rect({\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    height: 60,\n    padding: [10, 10, 10, 10],\n    marginBottom: 10,\n  },\n});\ntopPanel.appendChild(\n  new Text({\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 24,\n      fill: '#1890FF',\n      text: '1',\n    },\n  }),\n);\nconst bottomPanel = new Group({\n  style: {\n    display: 'flex',\n    width: '100%',\n    flexGrow: 1,\n  },\n});\nconst leftPanel = new Rect({\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    display: 'flex',\n    height: '100%',\n    flexGrow: 1,\n    marginRight: 10,\n    padding: [10, 10, 10, 10],\n  },\n});\nconst leftPanelText = new Text({\n  style: {\n    fontFamily: 'PingFang SC',\n    fontSize: 32,\n    fill: '#1890FF',\n    text: '这是测试文字，这是测试文字，这是测试文字，这是测试文字',\n    wordWrap: true,\n    width: '100%',\n  },\n});\nleftPanel.appendChild(leftPanelText);\nconst rightPanel = new Group({\n  style: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: 100,\n    height: '100%',\n  },\n});\nconst node1 = new Rect({\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    height: 100,\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n});\nnode1.appendChild(\n  new Text({\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2',\n    },\n  }),\n);\nconst node2 = new Rect({\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: '100%',\n    display: 'flex',\n    flexGrow: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\nnode2.appendChild(\n  new Text({\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '3',\n    },\n  }),\n);\nconst circle = new Circle({\n  style: {\n    r: 20,\n    fill: '#1890FF',\n    marginTop: 10,\n  },\n});\n\nroot.appendChild(topPanel);\nroot.appendChild(bottomPanel);\nbottomPanel.appendChild(leftPanel);\nbottomPanel.appendChild(rightPanel);\nrightPanel.appendChild(node1);\nrightPanel.appendChild(node2);\nrightPanel.appendChild(circle);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\n\nconst layoutConfig = {\n  width: 500,\n  height: 300,\n};\nconst layoutFolder = gui.addFolder(\"Container's Layout\");\nlayoutFolder.add(layoutConfig, 'width', 100, 600).onChange((width) => {\n  root.style.width = width;\n});\nlayoutFolder.add(layoutConfig, 'height', 200, 500).onChange((height) => {\n  root.style.height = height;\n});\n\nconst leftConfig = {\n  'width(percent)': 100,\n};\nconst leftFolder = gui.addFolder(\"LeftPanel's Layout\");\nleftFolder.add(leftConfig, 'width(percent)', 0, 100).onChange((width) => {\n  leftPanelText.style.width = `${width}%`;\n});\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-plugin-yoga\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-plugin-yoga\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gPluginYoga, global.lilGui, global.stats);\n    global.yogaText = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gPluginYoga, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var plugin = new _gPluginYoga.Plugin();\n  canvasRenderer.registerPlugin(plugin);\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var root = new _g.Rect({\n    id: 'root',\n    style: {\n      fill: '#C6E5FF',\n      width: 500,\n      height: 300,\n      x: 50,\n      y: 50,\n      display: 'flex',\n      flexDirection: 'column',\n      padding: [10, 10, 10, 10]\n    }\n  });\n  canvas.appendChild(root);\n  var topPanel = new _g.Rect({\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: 60,\n      padding: [10, 10, 10, 10],\n      marginBottom: 10\n    }\n  });\n  topPanel.appendChild(new _g.Text({\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 24,\n      fill: '#1890FF',\n      text: '1'\n    }\n  }));\n  var bottomPanel = new _g.Group({\n    style: {\n      display: 'flex',\n      width: '100%',\n      flexGrow: 1\n    }\n  });\n  var leftPanel = new _g.Rect({\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      display: 'flex',\n      height: '100%',\n      flexGrow: 1,\n      marginRight: 10,\n      padding: [10, 10, 10, 10]\n    }\n  });\n  var leftPanelText = new _g.Text({\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '这是测试文字，这是测试文字，这是测试文字，这是测试文字',\n      wordWrap: true,\n      width: '100%'\n    }\n  });\n  leftPanel.appendChild(leftPanelText);\n  var rightPanel = new _g.Group({\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      width: 100,\n      height: '100%'\n    }\n  });\n  var node1 = new _g.Rect({\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      height: 100,\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginBottom: 10\n    }\n  });\n  node1.appendChild(new _g.Text({\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2'\n    }\n  }));\n  var node2 = new _g.Rect({\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: '100%',\n      display: 'flex',\n      flexGrow: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  });\n  node2.appendChild(new _g.Text({\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '3'\n    }\n  }));\n  var circle = new _g.Circle({\n    style: {\n      r: 20,\n      fill: '#1890FF',\n      marginTop: 10\n    }\n  });\n  root.appendChild(topPanel);\n  root.appendChild(bottomPanel);\n  bottomPanel.appendChild(leftPanel);\n  bottomPanel.appendChild(rightPanel);\n  rightPanel.appendChild(node1);\n  rightPanel.appendChild(node2);\n  rightPanel.appendChild(circle); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var layoutConfig = {\n    width: 500,\n    height: 300\n  };\n  var layoutFolder = gui.addFolder(\"Container's Layout\");\n  layoutFolder.add(layoutConfig, 'width', 100, 600).onChange(function (width) {\n    root.style.width = width;\n  });\n  layoutFolder.add(layoutConfig, 'height', 200, 500).onChange(function (height) {\n    root.style.height = height;\n  });\n  var leftConfig = {\n    'width(percent)': 100\n  };\n  var leftFolder = gui.addFolder(\"LeftPanel's Layout\");\n  leftFolder.add(leftConfig, 'width(percent)', 0, 100).onChange(function (width) {\n    leftPanelText.style.width = \"\".concat(width, \"%\");\n  });\n});"},{"relativePath":"plugins/demo/yoga-container.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/plugins/demo/yoga-container.js","order":5,"filename":"yoga-container.js","title":{"zh":"使用 Yoga 排版引擎 - 容器配置","en":"Use Yoga layout engine - container"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*B_DmQ6lzHcIAAAAAAAAAAAAAARQnAQ","source":"import { Canvas, CanvasEvent, Rect, Text } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport { Plugin as PluginYoga } from '@antv/g-plugin-yoga';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\nconst plugin = new PluginYoga();\n\ncanvasRenderer.registerPlugin(plugin);\nwebglRenderer.registerPlugin(plugin);\nsvgRenderer.registerPlugin(plugin);\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// you can use Group if you want this container invisible\nconst root = new Rect({\n  id: 'root',\n  style: {\n    fill: '#C6E5FF',\n    width: 500,\n    height: 300,\n    display: 'flex',\n    justifyContent: 'center',\n    x: 50,\n    y: 50,\n  },\n});\ncanvas.appendChild(root);\n\nconst node1 = new Rect({\n  id: 'node1',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    // alignSelf: 'center'\n  },\n});\nnode1.appendChild(\n  new Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1',\n    },\n  }),\n);\nconst node2 = new Rect({\n  id: 'node2',\n  style: {\n    fill: 'white',\n    stroke: 'grey',\n    lineWidth: 1,\n    opacity: 0.8,\n    width: 100,\n    height: 100,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\nnode2.appendChild(\n  new Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2',\n    },\n  }),\n);\nroot.appendChild(node1);\nroot.appendChild(node2);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst layoutFolder = gui.addFolder('Layout');\nconst flexFolder = gui.addFolder('Flex');\nconst config = {\n  flexDirection: 'row',\n  flexWrap: 'no-wrap',\n  justifyContent: 'center',\n  alignItems: 'stretch',\n  alignContent: 'flex-start',\n  width: 500,\n  height: 300,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  'paddingTop(percent)': 0,\n  'paddingRight(percent)': 0,\n  'paddingBottom(percent)': 0,\n  'paddingLeft(percent)': 0,\n  appendChild: () => {\n    const num = root.children.length;\n    const id = num + 1;\n    const rect = new Rect({\n      id: `node${id}`,\n      style: {\n        fill: 'white',\n        stroke: 'grey',\n        lineWidth: 1,\n        opacity: 0.8,\n        width: 100,\n        height: 100,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n    });\n    const text = new Text({\n      id: `node${id}-text`,\n      style: {\n        fontFamily: 'PingFang SC',\n        fontSize: 32,\n        fill: '#1890FF',\n        text: `${id}`,\n      },\n    });\n    rect.appendChild(text);\n    root.appendChild(rect);\n  },\n  removeChild: () => {\n    const num = root.children.length;\n    if (num) {\n      root.removeChild(root.children[num - 1]);\n    }\n  },\n};\nflexFolder\n  .add(config, 'flexDirection', ['row', 'column', 'row-reverse', 'column-reverse'])\n  .onChange((flexDirection) => {\n    root.style.flexDirection = flexDirection;\n  });\nflexFolder.add(config, 'flexWrap', ['wrap', 'no-wrap', 'wrap-reverse']).onChange((flexWrap) => {\n  root.style.flexWrap = flexWrap;\n});\nlayoutFolder\n  .add(config, 'justifyContent', [\n    'flex-start',\n    'flex-end',\n    'center',\n    'space-between',\n    'space-around',\n    'space-evenly',\n  ])\n  .onChange((justifyContent) => {\n    root.style.justifyContent = justifyContent;\n  });\nlayoutFolder\n  .add(config, 'alignItems', [\n    'stretch',\n    'auto',\n    'baseline',\n    'center',\n    'flex-start',\n    'flex-end',\n    'space-between',\n    'space-around',\n  ])\n  .onChange((alignItems) => {\n    root.style.alignItems = alignItems;\n  });\nlayoutFolder\n  .add(config, 'alignContent', [\n    'stretch',\n    'center',\n    'flex-start',\n    'flex-end',\n    'space-between',\n    'space-around',\n  ])\n  .onChange((alignContent) => {\n    root.style.alignContent = alignContent;\n  });\nlayoutFolder.add(config, 'width', 200, 600).onChange((width) => {\n  root.style.width = width;\n});\nlayoutFolder.add(config, 'height', 200, 500).onChange((height) => {\n  root.style.height = height;\n});\nlayoutFolder.add(config, 'paddingTop', 0, 50).onChange((paddingTop) => {\n  root.style.paddingTop = paddingTop;\n});\nlayoutFolder.add(config, 'paddingRight', 0, 50).onChange((paddingRight) => {\n  root.style.paddingRight = paddingRight;\n});\nlayoutFolder.add(config, 'paddingBottom', 0, 50).onChange((paddingBottom) => {\n  root.style.paddingBottom = paddingBottom;\n});\nlayoutFolder.add(config, 'paddingLeft', 0, 50).onChange((paddingLeft) => {\n  root.style.paddingLeft = paddingLeft;\n});\nlayoutFolder.add(config, 'paddingTop(percent)', 0, 100).onChange((paddingTop) => {\n  root.style.paddingTop = `${paddingTop}%`;\n});\nlayoutFolder.add(config, 'paddingRight(percent)', 0, 100).onChange((paddingRight) => {\n  root.style.paddingRight = `${paddingRight}%`;\n});\nlayoutFolder.add(config, 'paddingBottom(percent)', 0, 100).onChange((paddingBottom) => {\n  root.style.paddingBottom = `${paddingBottom}%`;\n});\nlayoutFolder.add(config, 'paddingLeft(percent)', 0, 100).onChange((paddingLeft) => {\n  root.style.paddingLeft = `${paddingLeft}%`;\n});\nlayoutFolder.add(config, 'appendChild').name('appendChild');\nlayoutFolder.add(config, 'removeChild').name('removeChild');\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"@antv/g-plugin-yoga\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"@antv/g-plugin-yoga\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.gPluginYoga, global.lilGui, global.stats);\n    global.yogaContainer = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, _gPluginYoga, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer();\n  var plugin = new _gPluginYoga.Plugin();\n  canvasRenderer.registerPlugin(plugin);\n  webglRenderer.registerPlugin(plugin);\n  svgRenderer.registerPlugin(plugin);\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // you can use Group if you want this container invisible\n\n  var root = new _g.Rect({\n    id: 'root',\n    style: {\n      fill: '#C6E5FF',\n      width: 500,\n      height: 300,\n      display: 'flex',\n      justifyContent: 'center',\n      x: 50,\n      y: 50\n    }\n  });\n  canvas.appendChild(root);\n  var node1 = new _g.Rect({\n    id: 'node1',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center' // alignSelf: 'center'\n\n    }\n  });\n  node1.appendChild(new _g.Text({\n    id: 'node1-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '1'\n    }\n  }));\n  var node2 = new _g.Rect({\n    id: 'node2',\n    style: {\n      fill: 'white',\n      stroke: 'grey',\n      lineWidth: 1,\n      opacity: 0.8,\n      width: 100,\n      height: 100,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  });\n  node2.appendChild(new _g.Text({\n    id: 'node2-text',\n    style: {\n      fontFamily: 'PingFang SC',\n      fontSize: 32,\n      fill: '#1890FF',\n      text: '2'\n    }\n  }));\n  root.appendChild(node1);\n  root.appendChild(node2); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var layoutFolder = gui.addFolder('Layout');\n  var flexFolder = gui.addFolder('Flex');\n  var config = {\n    flexDirection: 'row',\n    flexWrap: 'no-wrap',\n    justifyContent: 'center',\n    alignItems: 'stretch',\n    alignContent: 'flex-start',\n    width: 500,\n    height: 300,\n    paddingTop: 0,\n    paddingRight: 0,\n    paddingBottom: 0,\n    paddingLeft: 0,\n    'paddingTop(percent)': 0,\n    'paddingRight(percent)': 0,\n    'paddingBottom(percent)': 0,\n    'paddingLeft(percent)': 0,\n    appendChild: function appendChild() {\n      var num = root.children.length;\n      var id = num + 1;\n      var rect = new _g.Rect({\n        id: \"node\".concat(id),\n        style: {\n          fill: 'white',\n          stroke: 'grey',\n          lineWidth: 1,\n          opacity: 0.8,\n          width: 100,\n          height: 100,\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        }\n      });\n      var text = new _g.Text({\n        id: \"node\".concat(id, \"-text\"),\n        style: {\n          fontFamily: 'PingFang SC',\n          fontSize: 32,\n          fill: '#1890FF',\n          text: \"\".concat(id)\n        }\n      });\n      rect.appendChild(text);\n      root.appendChild(rect);\n    },\n    removeChild: function removeChild() {\n      var num = root.children.length;\n\n      if (num) {\n        root.removeChild(root.children[num - 1]);\n      }\n    }\n  };\n  flexFolder.add(config, 'flexDirection', ['row', 'column', 'row-reverse', 'column-reverse']).onChange(function (flexDirection) {\n    root.style.flexDirection = flexDirection;\n  });\n  flexFolder.add(config, 'flexWrap', ['wrap', 'no-wrap', 'wrap-reverse']).onChange(function (flexWrap) {\n    root.style.flexWrap = flexWrap;\n  });\n  layoutFolder.add(config, 'justifyContent', ['flex-start', 'flex-end', 'center', 'space-between', 'space-around', 'space-evenly']).onChange(function (justifyContent) {\n    root.style.justifyContent = justifyContent;\n  });\n  layoutFolder.add(config, 'alignItems', ['stretch', 'auto', 'baseline', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around']).onChange(function (alignItems) {\n    root.style.alignItems = alignItems;\n  });\n  layoutFolder.add(config, 'alignContent', ['stretch', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around']).onChange(function (alignContent) {\n    root.style.alignContent = alignContent;\n  });\n  layoutFolder.add(config, 'width', 200, 600).onChange(function (width) {\n    root.style.width = width;\n  });\n  layoutFolder.add(config, 'height', 200, 500).onChange(function (height) {\n    root.style.height = height;\n  });\n  layoutFolder.add(config, 'paddingTop', 0, 50).onChange(function (paddingTop) {\n    root.style.paddingTop = paddingTop;\n  });\n  layoutFolder.add(config, 'paddingRight', 0, 50).onChange(function (paddingRight) {\n    root.style.paddingRight = paddingRight;\n  });\n  layoutFolder.add(config, 'paddingBottom', 0, 50).onChange(function (paddingBottom) {\n    root.style.paddingBottom = paddingBottom;\n  });\n  layoutFolder.add(config, 'paddingLeft', 0, 50).onChange(function (paddingLeft) {\n    root.style.paddingLeft = paddingLeft;\n  });\n  layoutFolder.add(config, 'paddingTop(percent)', 0, 100).onChange(function (paddingTop) {\n    root.style.paddingTop = \"\".concat(paddingTop, \"%\");\n  });\n  layoutFolder.add(config, 'paddingRight(percent)', 0, 100).onChange(function (paddingRight) {\n    root.style.paddingRight = \"\".concat(paddingRight, \"%\");\n  });\n  layoutFolder.add(config, 'paddingBottom(percent)', 0, 100).onChange(function (paddingBottom) {\n    root.style.paddingBottom = \"\".concat(paddingBottom, \"%\");\n  });\n  layoutFolder.add(config, 'paddingLeft(percent)', 0, 100).onChange(function (paddingLeft) {\n    root.style.paddingLeft = \"\".concat(paddingLeft, \"%\");\n  });\n  layoutFolder.add(config, 'appendChild').name('appendChild');\n  layoutFolder.add(config, 'removeChild').name('removeChild');\n});"},{"relativePath":"perf/demo/canvas-dirty-rectangle.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/perf/demo/canvas-dirty-rectangle.js","order":2,"filename":"canvas-dirty-rectangle.js","title":{"zh":"脏矩形渲染(Canvas)","en":"Rendering with dirty rectangle(Canvas)"},"source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nfor (let i = 0; i < 1000; i++) {\n  const circle = new Circle({\n    style: {\n      x: Math.random() * 600,\n      y: Math.random() * 500,\n      r: 20 + Math.random() * 10,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n    },\n  });\n\n  canvas.appendChild(circle);\n\n  circle.on('mouseenter', () => {\n    circle.attr('fill', '#2FC25B');\n  });\n\n  circle.on('mouseleave', () => {\n    circle.attr('fill', '#1890FF');\n  });\n}\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nlet currentRenderer = canvasRenderer;\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  currentRenderer =\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer;\n  canvas.setRenderer(currentRenderer);\n});\nrendererFolder.open();\n\nconst folder0 = gui.addFolder('dirty rectangle');\nconst dirtyRectangleConfig = {\n  enable: true,\n};\nfolder0.add(dirtyRectangleConfig, 'enable').onChange((enable) => {\n  currentRenderer.setConfig({\n    enableDirtyRectangleRendering: enable,\n  });\n});\nfolder0.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.canvasDirtyRectangle = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n\n  var _loop = function _loop(i) {\n    var circle = new _g.Circle({\n      style: {\n        x: Math.random() * 600,\n        y: Math.random() * 500,\n        r: 20 + Math.random() * 10,\n        fill: '#1890FF',\n        stroke: '#F04864',\n        lineWidth: 4\n      }\n    });\n    canvas.appendChild(circle);\n    circle.on('mouseenter', function () {\n      circle.attr('fill', '#2FC25B');\n    });\n    circle.on('mouseleave', function () {\n      circle.attr('fill', '#1890FF');\n    });\n  };\n\n  for (var i = 0; i < 1000; i++) {\n    _loop(i);\n  } // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var currentRenderer = canvasRenderer;\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    currentRenderer = renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer;\n    canvas.setRenderer(currentRenderer);\n  });\n  rendererFolder.open();\n  var folder0 = gui.addFolder('dirty rectangle');\n  var dirtyRectangleConfig = {\n    enable: true\n  };\n  folder0.add(dirtyRectangleConfig, 'enable').onChange(function (enable) {\n    currentRenderer.setConfig({\n      enableDirtyRectangleRendering: enable\n    });\n  });\n  folder0.open();\n});"},{"relativePath":"perf/demo/culling.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/perf/demo/culling.js","order":1,"filename":"culling.js","title":{"zh":"视口剔除","en":"Viewport culling"},"source":"import { Rect, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 500,\n  height: 500,\n  renderer: canvasRenderer,\n});\nconst camera = canvas.getCamera();\ncamera.setZoom(0.1);\n\nconst rect = new Rect({\n  style: {\n    x: 250,\n    y: 250,\n    width: 2000,\n    height: 2000,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\nconst culledRect = new Rect({\n  style: {\n    x: 250 - 2500,\n    y: 250 - 2500,\n    width: 2000,\n    height: 2000,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\ncanvas.appendChild(rect);\ncanvas.appendChild(culledRect);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst cameraFolder = gui.addFolder('camera actions');\nconst cameraConfig = {\n  panX: 0,\n  panY: 0,\n  zoom: 0.1,\n  roll: 0,\n};\nconst printVisibility = () => {\n  console.log(\"rect1's visibility:\", rect.isVisible() ? 'visible' : 'hidden');\n  console.log(\"rect2's visibility:\", culledRect.isVisible() ? 'visible' : 'hidden');\n};\n\nconst origin = camera.getPosition();\ncameraFolder.add(cameraConfig, 'panX', -3000, 3000).onChange((panX) => {\n  const current = camera.getPosition();\n  camera.pan(origin[0] + panX - current[0], 0);\n  printVisibility();\n});\ncameraFolder.add(cameraConfig, 'panY', -3000, 3000).onChange((panY) => {\n  const current = camera.getPosition();\n  camera.pan(0, origin[1] + panY - current[1]);\n  printVisibility();\n});\ncameraFolder.add(cameraConfig, 'roll', -90, 90).onChange((roll) => {\n  camera.rotate(0, 0, roll);\n  printVisibility();\n});\ncameraFolder.add(cameraConfig, 'zoom', 0, 1).onChange((zoom) => {\n  camera.setZoom(zoom);\n  printVisibility();\n});\ncameraFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.culling = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 500,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var camera = canvas.getCamera();\n  camera.setZoom(0.1);\n  var rect = new _g.Rect({\n    style: {\n      x: 250,\n      y: 250,\n      width: 2000,\n      height: 2000,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var culledRect = new _g.Rect({\n    style: {\n      x: 250 - 2500,\n      y: 250 - 2500,\n      width: 2000,\n      height: 2000,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  canvas.appendChild(rect);\n  canvas.appendChild(culledRect); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var cameraFolder = gui.addFolder('camera actions');\n  var cameraConfig = {\n    panX: 0,\n    panY: 0,\n    zoom: 0.1,\n    roll: 0\n  };\n\n  var printVisibility = function printVisibility() {\n    console.log(\"rect1's visibility:\", rect.isVisible() ? 'visible' : 'hidden');\n    console.log(\"rect2's visibility:\", culledRect.isVisible() ? 'visible' : 'hidden');\n  };\n\n  var origin = camera.getPosition();\n  cameraFolder.add(cameraConfig, 'panX', -3000, 3000).onChange(function (panX) {\n    var current = camera.getPosition();\n    camera.pan(origin[0] + panX - current[0], 0);\n    printVisibility();\n  });\n  cameraFolder.add(cameraConfig, 'panY', -3000, 3000).onChange(function (panY) {\n    var current = camera.getPosition();\n    camera.pan(0, origin[1] + panY - current[1]);\n    printVisibility();\n  });\n  cameraFolder.add(cameraConfig, 'roll', -90, 90).onChange(function (roll) {\n    camera.rotate(0, 0, roll);\n    printVisibility();\n  });\n  cameraFolder.add(cameraConfig, 'zoom', 0, 1).onChange(function (zoom) {\n    camera.setZoom(zoom);\n    printVisibility();\n  });\n  cameraFolder.open();\n});"},{"relativePath":"perf/demo/images.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/perf/demo/images.js","order":6,"filename":"images.js","title":{"zh":"大量图片","en":"Instanced Image"},"source":"import { Image, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: webglRenderer,\n});\n\nfor (let i = 0; i < 1000; i++) {\n  const image = new Image({\n    style: {\n      x: Math.random() * 600,\n      y: Math.random() * 500,\n      width: 100 + Math.random() * 100,\n      height: 100 + Math.random() * 100,\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8eoKRbfOwgAAAAAAAAAAAABkARQnAQ',\n    },\n  });\n  canvas.appendChild(image);\n}\nfor (let i = 0; i < 1000; i++) {\n  const image = new Image({\n    style: {\n      x: Math.random() * 600,\n      y: Math.random() * 500,\n      width: 100 + Math.random() * 100,\n      height: 100 + Math.random() * 100,\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n    },\n  });\n  canvas.appendChild(image);\n}\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\n\nconst camera = canvas.getCamera();\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n\n  // manipulate camera instead of the root of canvas\n  camera.rotate(0, 0, 1);\n});\n\n// update Camera's zoom\n// @see https://github.com/mrdoob/three.js/blob/master/examples/jsm/controls/OrbitControls.js\nconst minZoom = 0;\nconst maxZoom = Infinity;\ncanvas\n  .getContextService()\n  .getDomElement() // g-canvas/webgl 为 <canvas>，g-svg 为 <svg>\n  .addEventListener(\n    'wheel',\n    (e) => {\n      e.preventDefault();\n      let zoom;\n      if (e.deltaY < 0) {\n        zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() / 0.95));\n      } else {\n        zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() * 0.95));\n      }\n      camera.setZoom(zoom);\n    },\n    { passive: false },\n  );\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'webgl',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.images = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: webglRenderer\n  });\n\n  for (var i = 0; i < 1000; i++) {\n    var image = new _g.Image({\n      style: {\n        x: Math.random() * 600,\n        y: Math.random() * 500,\n        width: 100 + Math.random() * 100,\n        height: 100 + Math.random() * 100,\n        img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8eoKRbfOwgAAAAAAAAAAAABkARQnAQ'\n      }\n    });\n    canvas.appendChild(image);\n  }\n\n  for (var _i = 0; _i < 1000; _i++) {\n    var _image = new _g.Image({\n      style: {\n        x: Math.random() * 600,\n        y: Math.random() * 500,\n        width: 100 + Math.random() * 100,\n        height: 100 + Math.random() * 100,\n        img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n      }\n    });\n\n    canvas.appendChild(_image);\n  } // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  var camera = canvas.getCamera();\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    } // manipulate camera instead of the root of canvas\n\n\n    camera.rotate(0, 0, 1);\n  }); // update Camera's zoom\n  // @see https://github.com/mrdoob/three.js/blob/master/examples/jsm/controls/OrbitControls.js\n\n  var minZoom = 0;\n  var maxZoom = Infinity;\n  canvas.getContextService().getDomElement() // g-canvas/webgl 为 <canvas>，g-svg 为 <svg>\n  .addEventListener('wheel', function (e) {\n    e.preventDefault();\n    var zoom;\n\n    if (e.deltaY < 0) {\n      zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() / 0.95));\n    } else {\n      zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() * 0.95));\n    }\n\n    camera.setZoom(zoom);\n  }, {\n    passive: false\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'webgl'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"perf/demo/nodes-5w.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/perf/demo/nodes-5w.js","order":5,"filename":"nodes-5w.js","title":{"zh":"5.5w 节点","en":"5.5w nodes"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*dwS2Rb3mq5IAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Line, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\nimport Hammer from 'hammerjs';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// ported from G6 @see https://g6.antv.vision/zh/examples/performance/perf#moreData\n\nconst mapNodeSize = (nodes, propertyName, visualRange) => {\n  let minp = 9999999999;\n  let maxp = -9999999999;\n  nodes.forEach((node) => {\n    node[propertyName] = Math.pow(node[propertyName], 1 / 3);\n    minp = node[propertyName] < minp ? node[propertyName] : minp;\n    maxp = node[propertyName] > maxp ? node[propertyName] : maxp;\n  });\n  const rangepLength = maxp - minp;\n  const rangevLength = visualRange[1] - visualRange[0];\n  nodes.forEach((node) => {\n    node.size = ((node[propertyName] - minp) / rangepLength) * rangevLength + visualRange[0];\n  });\n};\n\nfetch('https://gw.alipayobjects.com/os/bmw-prod/f1565312-d537-4231-adf5-81cb1cd3a0e8.json')\n  .then((res) => res.json())\n  .then((data) => {\n    data.nodes.forEach((node) => {\n      node.degree = 0;\n      data.edges.forEach((edge) => {\n        if (edge.source === node.id || edge.target === node.id) {\n          node.degree++;\n        }\n      });\n    });\n    mapNodeSize(data.nodes, 'degree', [1, 15]);\n\n    data.edges.forEach(({ source, target }) => {\n      const startPoint = data.nodes.find((node) => node.id === source);\n      const endPoint = data.nodes.find((node) => node.id === target);\n\n      if (startPoint && endPoint) {\n        const line = new Line({\n          style: {\n            x1: startPoint.x,\n            y1: startPoint.y,\n            x2: endPoint.x,\n            y2: endPoint.y,\n            stroke: '#1890FF',\n            lineWidth: 0.3,\n          },\n        });\n        canvas.appendChild(line);\n      }\n    });\n\n    data.nodes.forEach(({ size, x, y }) => {\n      const circle = new Circle({\n        style: {\n          x,\n          y,\n          fill: '#C6E5FF',\n          stroke: '#5B8FF9',\n          r: size,\n          lineWidth: 1,\n        },\n      });\n      canvas.appendChild(circle);\n    });\n  });\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: webglRenderer,\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\n\nconst camera = canvas.getCamera();\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n\n  // manipulate camera instead of the root of canvas\n  camera.rotate(0, 0, 1);\n});\n\n// handle mouse wheel event\nconst bindWheelHandler = () => {\n  // update Camera's zoom\n  // @see https://github.com/mrdoob/three.js/blob/master/examples/jsm/controls/OrbitControls.js\n  const minZoom = 0;\n  const maxZoom = Infinity;\n  canvas\n    .getContextService()\n    .getDomElement() // g-canvas/webgl 为 <canvas>，g-svg 为 <svg>\n    .addEventListener(\n      'wheel',\n      (e) => {\n        e.preventDefault();\n        let zoom;\n        if (e.deltaY < 0) {\n          zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() / 0.95));\n        } else {\n          zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() * 0.95));\n        }\n        camera.setZoom(zoom);\n      },\n      { passive: false },\n    );\n};\n\n// use hammer.js\nconst hammer = new Hammer(canvas.document);\nhammer.on('pan', (ev) => {\n  camera.pan(\n    -ev.deltaX / Math.pow(2, camera.getZoom()),\n    -ev.deltaY / Math.pow(2, camera.getZoom()),\n  );\n});\n\nbindWheelHandler();\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'webgl',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n  bindWheelHandler();\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\", \"hammerjs\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"), require(\"hammerjs\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats, global.hammerjs);\n    global.nodes5w = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats, _hammerjs) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n  _hammerjs = _interopRequireDefault(_hammerjs);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // ported from G6 @see https://g6.antv.vision/zh/examples/performance/perf#moreData\n\n  var mapNodeSize = function mapNodeSize(nodes, propertyName, visualRange) {\n    var minp = 9999999999;\n    var maxp = -9999999999;\n    nodes.forEach(function (node) {\n      node[propertyName] = Math.pow(node[propertyName], 1 / 3);\n      minp = node[propertyName] < minp ? node[propertyName] : minp;\n      maxp = node[propertyName] > maxp ? node[propertyName] : maxp;\n    });\n    var rangepLength = maxp - minp;\n    var rangevLength = visualRange[1] - visualRange[0];\n    nodes.forEach(function (node) {\n      node.size = (node[propertyName] - minp) / rangepLength * rangevLength + visualRange[0];\n    });\n  };\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/f1565312-d537-4231-adf5-81cb1cd3a0e8.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    data.nodes.forEach(function (node) {\n      node.degree = 0;\n      data.edges.forEach(function (edge) {\n        if (edge.source === node.id || edge.target === node.id) {\n          node.degree++;\n        }\n      });\n    });\n    mapNodeSize(data.nodes, 'degree', [1, 15]);\n    data.edges.forEach(function (_ref) {\n      var source = _ref.source,\n          target = _ref.target;\n      var startPoint = data.nodes.find(function (node) {\n        return node.id === source;\n      });\n      var endPoint = data.nodes.find(function (node) {\n        return node.id === target;\n      });\n\n      if (startPoint && endPoint) {\n        var line = new _g.Line({\n          style: {\n            x1: startPoint.x,\n            y1: startPoint.y,\n            x2: endPoint.x,\n            y2: endPoint.y,\n            stroke: '#1890FF',\n            lineWidth: 0.3\n          }\n        });\n        canvas.appendChild(line);\n      }\n    });\n    data.nodes.forEach(function (_ref2) {\n      var size = _ref2.size,\n          x = _ref2.x,\n          y = _ref2.y;\n      var circle = new _g.Circle({\n        style: {\n          x: x,\n          y: y,\n          fill: '#C6E5FF',\n          stroke: '#5B8FF9',\n          r: size,\n          lineWidth: 1\n        }\n      });\n      canvas.appendChild(circle);\n    });\n  }); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: webglRenderer\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  var camera = canvas.getCamera();\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    } // manipulate camera instead of the root of canvas\n\n\n    camera.rotate(0, 0, 1);\n  }); // handle mouse wheel event\n\n  var bindWheelHandler = function bindWheelHandler() {\n    // update Camera's zoom\n    // @see https://github.com/mrdoob/three.js/blob/master/examples/jsm/controls/OrbitControls.js\n    var minZoom = 0;\n    var maxZoom = Infinity;\n    canvas.getContextService().getDomElement() // g-canvas/webgl 为 <canvas>，g-svg 为 <svg>\n    .addEventListener('wheel', function (e) {\n      e.preventDefault();\n      var zoom;\n\n      if (e.deltaY < 0) {\n        zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() / 0.95));\n      } else {\n        zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() * 0.95));\n      }\n\n      camera.setZoom(zoom);\n    }, {\n      passive: false\n    });\n  }; // use hammer.js\n\n\n  var hammer = new _hammerjs.default(canvas.document);\n  hammer.on('pan', function (ev) {\n    camera.pan(-ev.deltaX / Math.pow(2, camera.getZoom()), -ev.deltaY / Math.pow(2, camera.getZoom()));\n  });\n  bindWheelHandler(); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'webgl'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n    bindWheelHandler();\n  });\n  rendererFolder.open();\n});"},{"relativePath":"perf/demo/redraw.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/perf/demo/redraw.js","order":3,"filename":"redraw.js","title":{"zh":"移动大量节点","en":"Move nodes"},"source":"import { Canvas, Circle, Group } from '@antv/g';\nimport { Renderer } from '@antv/g-canvas';\nimport Stats from 'stats.js';\n\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: new Renderer(),\n});\n\nconst group = new Group();\ncanvas.appendChild(group);\n\nfor (let i = 0; i < 1000; i++) {\n  const circle = new Circle({\n    style: {\n      x: Math.random() * 600,\n      y: Math.random() * 500,\n      r: 20 + Math.random() * 10,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      cursor: 'pointer',\n    },\n  });\n  group.appendChild(circle);\n\n  circle.on('mouseenter', () => {\n    circle.attr('fill', '#2FC25B');\n  });\n\n  circle.on('mouseleave', () => {\n    circle.attr('fill', '#1890FF');\n  });\n}\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\n\nlet t = 0;\nconst spin = () => {\n  console.log(canvas.getStats());\n  if (stats) {\n    stats.update();\n  }\n  group.translate(t < 20 ? 5 : -5);\n  if (t > 40) {\n    t = 0;\n  }\n  t++;\n  window.requestAnimationFrame(spin);\n};\n\nspin();\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.stats);\n    global.redraw = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _stats) {\n  \"use strict\";\n\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: new _gCanvas.Renderer()\n  });\n  var group = new _g.Group();\n  canvas.appendChild(group);\n\n  var _loop = function _loop(i) {\n    var circle = new _g.Circle({\n      style: {\n        x: Math.random() * 600,\n        y: Math.random() * 500,\n        r: 20 + Math.random() * 10,\n        fill: '#1890FF',\n        stroke: '#F04864',\n        lineWidth: 4,\n        cursor: 'pointer'\n      }\n    });\n    group.appendChild(circle);\n    circle.on('mouseenter', function () {\n      circle.attr('fill', '#2FC25B');\n    });\n    circle.on('mouseleave', function () {\n      circle.attr('fill', '#1890FF');\n    });\n  };\n\n  for (var i = 0; i < 1000; i++) {\n    _loop(i);\n  } // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  var t = 0;\n\n  var spin = function spin() {\n    console.log(canvas.getStats());\n\n    if (stats) {\n      stats.update();\n    }\n\n    group.translate(t < 20 ? 5 : -5);\n\n    if (t > 40) {\n      t = 0;\n    }\n\n    t++;\n    window.requestAnimationFrame(spin);\n  };\n\n  spin();\n});"},{"relativePath":"perf/demo/texts.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/perf/demo/texts.js","order":7,"filename":"texts.js","title":{"zh":"大量文本","en":"Instanced Text"},"source":"import { Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: webglRenderer,\n});\n\nfor (let i = 0; i < 100; i++) {\n  const text = new Text({\n    style: {\n      x: Math.random() * 600,\n      y: Math.random() * 500,\n      fontFamily: 'PingFang SC',\n      text: '测试文本' + i,\n      fontSize: 50 + Math.random() * 10,\n      fill: i % 2 === 0 ? '#1890FF' : 'red',\n    },\n  });\n  canvas.appendChild(text);\n}\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\n\nconst camera = canvas.getCamera();\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n\n  // manipulate camera instead of the root of canvas\n  camera.rotate(0, 0, 1);\n});\n\n// update Camera's zoom\n// @see https://github.com/mrdoob/three.js/blob/master/examples/jsm/controls/OrbitControls.js\nconst minZoom = 0;\nconst maxZoom = Infinity;\ncanvas\n  .getContextService()\n  .getDomElement() // g-canvas/webgl 为 <canvas>，g-svg 为 <svg>\n  .addEventListener(\n    'wheel',\n    (e) => {\n      e.preventDefault();\n      let zoom;\n      if (e.deltaY < 0) {\n        zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() / 0.95));\n      } else {\n        zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() * 0.95));\n      }\n      camera.setZoom(zoom);\n    },\n    { passive: false },\n  );\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'webgl',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.texts = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: webglRenderer\n  });\n\n  for (var i = 0; i < 100; i++) {\n    var text = new _g.Text({\n      style: {\n        x: Math.random() * 600,\n        y: Math.random() * 500,\n        fontFamily: 'PingFang SC',\n        text: '测试文本' + i,\n        fontSize: 50 + Math.random() * 10,\n        fill: i % 2 === 0 ? '#1890FF' : 'red'\n      }\n    });\n    canvas.appendChild(text);\n  } // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  var camera = canvas.getCamera();\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    } // manipulate camera instead of the root of canvas\n\n\n    camera.rotate(0, 0, 1);\n  }); // update Camera's zoom\n  // @see https://github.com/mrdoob/three.js/blob/master/examples/jsm/controls/OrbitControls.js\n\n  var minZoom = 0;\n  var maxZoom = Infinity;\n  canvas.getContextService().getDomElement() // g-canvas/webgl 为 <canvas>，g-svg 为 <svg>\n  .addEventListener('wheel', function (e) {\n    e.preventDefault();\n    var zoom;\n\n    if (e.deltaY < 0) {\n      zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() / 0.95));\n    } else {\n      zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() * 0.95));\n    }\n\n    camera.setZoom(zoom);\n  }, {\n    passive: false\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'webgl'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"perf/demo/nodes-8k.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/perf/demo/nodes-8k.js","order":4,"filename":"nodes-8k.js","title":{"zh":"8k 节点","en":"8k nodes"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*D-57RohPWVgAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Line, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\nimport Hammer from 'hammerjs';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// ported from G6 @see https://g6.antv.vision/zh/examples/performance/perf#eva\n\nconst mapNodeSize = (nodes, propertyName, visualRange) => {\n  let minp = 9999999999;\n  let maxp = -9999999999;\n  nodes.forEach((node) => {\n    node[propertyName] = Math.pow(node[propertyName], 1 / 3);\n    minp = node[propertyName] < minp ? node[propertyName] : minp;\n    maxp = node[propertyName] > maxp ? node[propertyName] : maxp;\n  });\n  const rangepLength = maxp - minp;\n  const rangevLength = visualRange[1] - visualRange[0];\n  nodes.forEach((node) => {\n    node.size = ((node[propertyName] - minp) / rangepLength) * rangevLength + visualRange[0];\n  });\n};\n\nfetch('https://gw.alipayobjects.com/os/basement_prod/0b9730ff-0850-46ff-84d0-1d4afecd43e6.json')\n  .then((res) => res.json())\n  .then((data) => {\n    data.nodes.forEach((node) => {\n      node.label = node.olabel;\n      node.degree = 0;\n      data.edges.forEach((edge) => {\n        if (edge.source === node.id || edge.target === node.id) {\n          node.degree++;\n        }\n      });\n    });\n    mapNodeSize(data.nodes, 'degree', [1, 15]);\n\n    /**\n     * Draw edges\n     */\n    data.edges.forEach(({ startPoint, endPoint }) => {\n      const line = new Line({\n        style: {\n          x1: startPoint.x * 10,\n          y1: startPoint.y * 10,\n          x2: endPoint.x * 10,\n          y2: endPoint.y * 10,\n          stroke: '#1890FF',\n          lineWidth: 3,\n        },\n      });\n\n      canvas.appendChild(line);\n    });\n\n    /**\n     * Draw nodes\n     */\n    data.nodes.forEach(({ size, x, y, label }) => {\n      const circle = new Circle({\n        style: {\n          x: x * 10,\n          y: y * 10,\n          fill: '#C6E5FF',\n          stroke: '#5B8FF9',\n          r: size * 10,\n          lineWidth: 1,\n        },\n      });\n      canvas.appendChild(circle);\n\n      const text = new Text({\n        style: {\n          text: label,\n          fontSize: 12,\n          fontFamily: 'PingFang SC',\n          fill: '#1890FF',\n        },\n      });\n      circle.appendChild(text);\n\n      circle.addEventListener('mouseenter', (e) => {\n        circle.style.fill = '#2FC25B';\n      });\n\n      circle.addEventListener('mouseleave', (e) => {\n        circle.style.fill = '#C6E5FF';\n      });\n    });\n  });\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: webglRenderer,\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\n\nconst camera = canvas.getCamera();\ncamera.pan(1000, 800);\ncamera.setZoom(0.05);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n  console.log(canvas.getStats());\n\n  // manipulate camera instead of the root of canvas\n  camera.rotate(0, 0, 0.1);\n});\n\n// handle mouse wheel event\nconst bindWheelHandler = () => {\n  // update Camera's zoom\n  // @see https://github.com/mrdoob/three.js/blob/master/examples/jsm/controls/OrbitControls.js\n  const minZoom = 0;\n  const maxZoom = Infinity;\n  canvas\n    .getContextService()\n    .getDomElement() // g-canvas/webgl 为 <canvas>，g-svg 为 <svg>\n    .addEventListener(\n      'wheel',\n      (e) => {\n        e.preventDefault();\n        let zoom;\n        if (e.deltaY < 0) {\n          zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() / 0.95));\n        } else {\n          zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() * 0.95));\n        }\n        camera.setZoom(zoom);\n      },\n      { passive: false },\n    );\n};\n\n// use hammer.js\nconst hammer = new Hammer(canvas);\nhammer.on('pan', (ev) => {\n  camera.pan(\n    -ev.deltaX / Math.pow(2, camera.getZoom()),\n    -ev.deltaY / Math.pow(2, camera.getZoom()),\n  );\n});\n\nbindWheelHandler();\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'webgl',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n  bindWheelHandler();\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\", \"hammerjs\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"), require(\"hammerjs\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats, global.hammerjs);\n    global.nodes8k = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats, _hammerjs) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n  _hammerjs = _interopRequireDefault(_hammerjs);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // ported from G6 @see https://g6.antv.vision/zh/examples/performance/perf#eva\n\n  var mapNodeSize = function mapNodeSize(nodes, propertyName, visualRange) {\n    var minp = 9999999999;\n    var maxp = -9999999999;\n    nodes.forEach(function (node) {\n      node[propertyName] = Math.pow(node[propertyName], 1 / 3);\n      minp = node[propertyName] < minp ? node[propertyName] : minp;\n      maxp = node[propertyName] > maxp ? node[propertyName] : maxp;\n    });\n    var rangepLength = maxp - minp;\n    var rangevLength = visualRange[1] - visualRange[0];\n    nodes.forEach(function (node) {\n      node.size = (node[propertyName] - minp) / rangepLength * rangevLength + visualRange[0];\n    });\n  };\n\n  fetch('https://gw.alipayobjects.com/os/basement_prod/0b9730ff-0850-46ff-84d0-1d4afecd43e6.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    data.nodes.forEach(function (node) {\n      node.label = node.olabel;\n      node.degree = 0;\n      data.edges.forEach(function (edge) {\n        if (edge.source === node.id || edge.target === node.id) {\n          node.degree++;\n        }\n      });\n    });\n    mapNodeSize(data.nodes, 'degree', [1, 15]);\n    /**\n     * Draw edges\n     */\n\n    data.edges.forEach(function (_ref) {\n      var startPoint = _ref.startPoint,\n          endPoint = _ref.endPoint;\n      var line = new _g.Line({\n        style: {\n          x1: startPoint.x * 10,\n          y1: startPoint.y * 10,\n          x2: endPoint.x * 10,\n          y2: endPoint.y * 10,\n          stroke: '#1890FF',\n          lineWidth: 3\n        }\n      });\n      canvas.appendChild(line);\n    });\n    /**\n     * Draw nodes\n     */\n\n    data.nodes.forEach(function (_ref2) {\n      var size = _ref2.size,\n          x = _ref2.x,\n          y = _ref2.y,\n          label = _ref2.label;\n      var circle = new _g.Circle({\n        style: {\n          x: x * 10,\n          y: y * 10,\n          fill: '#C6E5FF',\n          stroke: '#5B8FF9',\n          r: size * 10,\n          lineWidth: 1\n        }\n      });\n      canvas.appendChild(circle);\n      var text = new _g.Text({\n        style: {\n          text: label,\n          fontSize: 12,\n          fontFamily: 'PingFang SC',\n          fill: '#1890FF'\n        }\n      });\n      circle.appendChild(text);\n      circle.addEventListener('mouseenter', function (e) {\n        circle.style.fill = '#2FC25B';\n      });\n      circle.addEventListener('mouseleave', function (e) {\n        circle.style.fill = '#C6E5FF';\n      });\n    });\n  }); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: webglRenderer\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  var camera = canvas.getCamera();\n  camera.pan(1000, 800);\n  camera.setZoom(0.05);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n\n    console.log(canvas.getStats()); // manipulate camera instead of the root of canvas\n\n    camera.rotate(0, 0, 0.1);\n  }); // handle mouse wheel event\n\n  var bindWheelHandler = function bindWheelHandler() {\n    // update Camera's zoom\n    // @see https://github.com/mrdoob/three.js/blob/master/examples/jsm/controls/OrbitControls.js\n    var minZoom = 0;\n    var maxZoom = Infinity;\n    canvas.getContextService().getDomElement() // g-canvas/webgl 为 <canvas>，g-svg 为 <svg>\n    .addEventListener('wheel', function (e) {\n      e.preventDefault();\n      var zoom;\n\n      if (e.deltaY < 0) {\n        zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() / 0.95));\n      } else {\n        zoom = Math.max(minZoom, Math.min(maxZoom, camera.getZoom() * 0.95));\n      }\n\n      camera.setZoom(zoom);\n    }, {\n      passive: false\n    });\n  }; // use hammer.js\n\n\n  var hammer = new _hammerjs.default(canvas);\n  hammer.on('pan', function (ev) {\n    camera.pan(-ev.deltaX / Math.pow(2, camera.getZoom()), -ev.deltaY / Math.pow(2, camera.getZoom()));\n  });\n  bindWheelHandler(); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'webgl'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n    bindWheelHandler();\n  });\n  rendererFolder.open();\n});"},{"relativePath":"perf/demo/vs-g4.0.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/perf/demo/vs-g4.0.js","order":0,"filename":"vs-g4.0.js","title":{"zh":"与 G 4.0 对比","en":"Compared with G 4.0"},"source":"import { Circle, Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\n * compared with G 4.0 ～20FPS\n * @see https://codesandbox.io/s/g-canvas-particles-2w-jyiie?file=/src/index.tsx\n */\n\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nlet nodesNum = 2000;\nfor (let i = 0; i < nodesNum; i++) {\n  canvas.appendChild(\n    new Circle({\n      attrs: {\n        fill: '#C6E5FF',\n        stroke: '#5B8FF9',\n        r: 2,\n        x: Math.random() * 600,\n        y: Math.random() * 500,\n        lineWidth: 0.3,\n      },\n    }),\n  );\n}\n\nconst camera = canvas.getCamera();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on(CanvasEvent.AFTER_RENDER, () => {\n  if (stats) {\n    stats.update();\n  }\n\n  camera.rotate(0, 0, 1);\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.vsG40 = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * compared with G 4.0 ～20FPS\n   * @see https://codesandbox.io/s/g-canvas-particles-2w-jyiie?file=/src/index.tsx\n   */\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var nodesNum = 2000;\n\n  for (var i = 0; i < nodesNum; i++) {\n    canvas.appendChild(new _g.Circle({\n      attrs: {\n        fill: '#C6E5FF',\n        stroke: '#5B8FF9',\n        r: 2,\n        x: Math.random() * 600,\n        y: Math.random() * 500,\n        lineWidth: 0.3\n      }\n    }));\n  }\n\n  var camera = canvas.getCamera(); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on(_g.CanvasEvent.AFTER_RENDER, function () {\n    if (stats) {\n      stats.update();\n    }\n\n    camera.rotate(0, 0, 1);\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"guide/demo/chapter2.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/guide/demo/chapter2.js","order":0,"filename":"chapter2.js","title":{"zh":"基础教程第二节：使用渲染器","en":"Guide chapter2: use renderer"},"source":"import { Circle, Line, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst node1 = new Circle({\n  style: {\n    r: 40,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst text1 = new Text({\n  style: {\n    text: 'Node1', // 文本内容\n    fontFamily: 'Avenir', // 字体\n    fontSize: 22, // 字号\n    fill: '#fff', // 文本颜色\n    textAlign: 'center', // 水平居中\n    textBaseline: 'middle', // 垂直居中\n  },\n});\nnode1.appendChild(text1);\nnode1.setPosition(200, 200);\n\nconst node2 = new Circle({\n  style: {\n    r: 40,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst text2 = new Text({\n  style: {\n    text: 'Node2', // 文本内容\n    fontFamily: 'Avenir', // 字体\n    fontSize: 22, // 字号\n    fill: '#fff', // 文本颜色\n    textAlign: 'center', // 水平居中\n    textBaseline: 'middle', // 垂直居中\n  },\n});\nnode2.appendChild(text2);\nnode2.setPosition(400, 200);\n\nconst edge = new Line({\n  style: {\n    x1: 200,\n    y1: 200,\n    x2: 400,\n    y2: 200,\n    stroke: '#1890FF',\n    lineWidth: 2,\n  },\n});\n\ncanvas.appendChild(edge);\ncanvas.appendChild(node1);\ncanvas.appendChild(node2);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas);\n    global.chapter2 = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas) {\n  \"use strict\";\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var node1 = new _g.Circle({\n    style: {\n      r: 40,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var text1 = new _g.Text({\n    style: {\n      text: 'Node1',\n      // 文本内容\n      fontFamily: 'Avenir',\n      // 字体\n      fontSize: 22,\n      // 字号\n      fill: '#fff',\n      // 文本颜色\n      textAlign: 'center',\n      // 水平居中\n      textBaseline: 'middle' // 垂直居中\n\n    }\n  });\n  node1.appendChild(text1);\n  node1.setPosition(200, 200);\n  var node2 = new _g.Circle({\n    style: {\n      r: 40,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var text2 = new _g.Text({\n    style: {\n      text: 'Node2',\n      // 文本内容\n      fontFamily: 'Avenir',\n      // 字体\n      fontSize: 22,\n      // 字号\n      fill: '#fff',\n      // 文本颜色\n      textAlign: 'center',\n      // 水平居中\n      textBaseline: 'middle' // 垂直居中\n\n    }\n  });\n  node2.appendChild(text2);\n  node2.setPosition(400, 200);\n  var edge = new _g.Line({\n    style: {\n      x1: 200,\n      y1: 200,\n      x2: 400,\n      y2: 200,\n      stroke: '#1890FF',\n      lineWidth: 2\n    }\n  });\n  canvas.appendChild(edge);\n  canvas.appendChild(node1);\n  canvas.appendChild(node2);\n});"},{"relativePath":"guide/demo/chapter3.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/guide/demo/chapter3.js","order":1,"filename":"chapter3.js","title":{"zh":"基础教程第三节：添加交互","en":"Guide chapter3: interaction"},"source":"import { Circle, Line, Text, Canvas } from '@antv/g';\nimport { Renderer } from '@antv/g-canvas';\nimport interact from 'interactjs';\n\n// 创建 Canvas2D 渲染器\nconst canvasRenderer = new Renderer();\n\n// 创建画布\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// 创建节点1\nconst node1 = new Circle({\n  style: {\n    r: 40,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    cursor: 'pointer',\n  },\n});\nconst text1 = new Text({\n  style: {\n    text: 'Node1', // 文本内容\n    fontFamily: 'Avenir', // 字体\n    fontSize: 22, // 字号\n    fill: '#fff', // 文本颜色\n    textAlign: 'center', // 水平居中\n    textBaseline: 'middle', // 垂直居中\n  },\n});\nnode1.appendChild(text1);\nnode1.setPosition(200, 200);\n\n// 创建节点2\nconst node2 = new Circle({\n  style: {\n    r: 40,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst text2 = new Text({\n  style: {\n    text: 'Node2', // 文本内容\n    fontFamily: 'Avenir', // 字体\n    fontSize: 22, // 字号\n    fill: '#fff', // 文本颜色\n    textAlign: 'center', // 水平居中\n    textBaseline: 'middle', // 垂直居中\n  },\n});\nnode2.appendChild(text2);\nnode2.setPosition(400, 200);\n\n// 创建边\nconst edge = new Line({\n  style: {\n    x1: 200,\n    y1: 200,\n    x2: 400,\n    y2: 200,\n    stroke: '#1890FF',\n    lineWidth: 2,\n  },\n});\n\n// 向画布中添加图形\ncanvas.appendChild(edge);\ncanvas.appendChild(node1);\ncanvas.appendChild(node2);\n\n// 为节点1添加交互，鼠标悬停改变颜色\nnode1.addEventListener('mouseenter', () => {\n  node1.style.fill = 'red';\n});\nnode1.addEventListener('mouseleave', () => {\n  node1.style.fill = '#1890FF';\n});\n\n// 使用 interact.js 实现拖拽\ninteract(node1, {\n  // 直接传入节点1\n  context: canvas.document, // 传入上下文\n}).draggable({\n  onmove: function (event) {\n    // interact.js 告诉我们的偏移量\n    const { dx, dy } = event;\n    // 改变节点1位置\n    node1.translateLocal(dx, dy);\n    // 获取节点1位置\n    const [nx, ny] = node1.getLocalPosition();\n    // 改变边的端点位置\n    edge.style.x1 = nx;\n    edge.style.y1 = ny;\n  },\n});\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"interactjs\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"interactjs\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.interactjs);\n    global.chapter3 = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _interactjs) {\n  \"use strict\";\n\n  _interactjs = _interopRequireDefault(_interactjs);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  // 创建 Canvas2D 渲染器\n  var canvasRenderer = new _gCanvas.Renderer(); // 创建画布\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // 创建节点1\n\n  var node1 = new _g.Circle({\n    style: {\n      r: 40,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      cursor: 'pointer'\n    }\n  });\n  var text1 = new _g.Text({\n    style: {\n      text: 'Node1',\n      // 文本内容\n      fontFamily: 'Avenir',\n      // 字体\n      fontSize: 22,\n      // 字号\n      fill: '#fff',\n      // 文本颜色\n      textAlign: 'center',\n      // 水平居中\n      textBaseline: 'middle' // 垂直居中\n\n    }\n  });\n  node1.appendChild(text1);\n  node1.setPosition(200, 200); // 创建节点2\n\n  var node2 = new _g.Circle({\n    style: {\n      r: 40,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var text2 = new _g.Text({\n    style: {\n      text: 'Node2',\n      // 文本内容\n      fontFamily: 'Avenir',\n      // 字体\n      fontSize: 22,\n      // 字号\n      fill: '#fff',\n      // 文本颜色\n      textAlign: 'center',\n      // 水平居中\n      textBaseline: 'middle' // 垂直居中\n\n    }\n  });\n  node2.appendChild(text2);\n  node2.setPosition(400, 200); // 创建边\n\n  var edge = new _g.Line({\n    style: {\n      x1: 200,\n      y1: 200,\n      x2: 400,\n      y2: 200,\n      stroke: '#1890FF',\n      lineWidth: 2\n    }\n  }); // 向画布中添加图形\n\n  canvas.appendChild(edge);\n  canvas.appendChild(node1);\n  canvas.appendChild(node2); // 为节点1添加交互，鼠标悬停改变颜色\n\n  node1.addEventListener('mouseenter', function () {\n    node1.style.fill = 'red';\n  });\n  node1.addEventListener('mouseleave', function () {\n    node1.style.fill = '#1890FF';\n  }); // 使用 interact.js 实现拖拽\n\n  (0, _interactjs.default)(node1, {\n    // 直接传入节点1\n    context: canvas.document // 传入上下文\n\n  }).draggable({\n    onmove: function onmove(event) {\n      // interact.js 告诉我们的偏移量\n      var dx = event.dx,\n          dy = event.dy; // 改变节点1位置\n\n      node1.translateLocal(dx, dy); // 获取节点1位置\n\n      var _node1$getLocalPositi = node1.getLocalPosition(),\n          _node1$getLocalPositi2 = _slicedToArray(_node1$getLocalPositi, 2),\n          nx = _node1$getLocalPositi2[0],\n          ny = _node1$getLocalPositi2[1]; // 改变边的端点位置\n\n\n      edge.style.x1 = nx;\n      edge.style.y1 = ny;\n    }\n  });\n});"},{"relativePath":"gpgpu/demo/bellman-ford.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/gpgpu/demo/bellman-ford.js","order":2,"filename":"bellman-ford.js","title":{"zh":"Bellman-Ford 最短路径算法","en":"Bellman-Ford SSSP"},"source":"import { Algorithm } from '@antv/g6';\nimport { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { Plugin, Kernel, BufferUsage } from '@antv/g-plugin-gpgpu';\n\n/**\n * SSSP(Bellman-Ford) ported from CUDA\n * @see https://www.lewuathe.com/illustration-of-distributed-bellman-ford-algorithm.html\n * @see https://github.com/sengorajkumar/gpu_graph_algorithms\n *\n * compared with G6:\n * @see https://g6.antv.vision/zh/docs/api/Algorithm#findshortestpathgraphdata-start-end-directed-weightpropertyname\n */\n\n/**\n * use Compressed Sparse Row (CSR) for adjacency list\n */\n// datasource: https://github.com/sengorajkumar/gpu_graph_algorithms/blob/master/input/simple.gr_E.csv\nconst V = [0, 1, 2, 3, 4];\nconst E = [1, 2, 2, 3, 4, 3, 4, 1, 3];\nconst I = [0, 2, 5, 7, 8, 9];\nconst W = [9, 4, 10, 2, 3, 2, 11, 2, 2];\nconst BLOCK_SIZE = 1;\nconst BLOCKS = 5;\n\nconst CANVAS_SIZE = 1;\nconst MAX_DISTANCE = 10000;\n\nconst $wrapper = document.getElementById('container');\nconst $text = document.createElement('div');\n$text.textContent = 'Please open the devtools, the shortest paths will be printed in console.';\n$wrapper.appendChild($text);\n\n// use WebGPU\nconst renderer = new Renderer({ targets: ['webgpu'] });\nrenderer.registerPlugin(new Plugin());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: $wrapper,\n  width: CANVAS_SIZE,\n  height: CANVAS_SIZE,\n  renderer,\n});\n\ncanvas.addEventListener(CanvasEvent.READY, () => {\n  const device = renderer.getDevice();\n  const kernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<i32>;\n};\nstruct AtomicBuffer {\n  data: array<atomic<i32>>;\n};\n\n@group(0) @binding(0) var<storage, read> d_in_E : Buffer;\n@group(0) @binding(1) var<storage, read> d_in_I : Buffer;\n@group(0) @binding(2) var<storage, read> d_in_W : Buffer;\n@group(0) @binding(3) var<storage, read> d_out_D : Buffer;\n@group(0) @binding(4) var<storage, read_write> d_out_Di : AtomicBuffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    for (var j = d_in_I.data[index]; j < d_in_I.data[index + 1u]; j = j + 1) {\n      var w = d_in_W.data[j];\n      var du = d_out_D.data[index];\n      var dv = d_out_D.data[d_in_E.data[j]];\n      var newDist = du + w;\n      if (du == ${MAX_DISTANCE}) {\n        newDist = ${MAX_DISTANCE};\n      }\n\n      if (newDist < dv) {\n        atomicMin(&d_out_Di.data[d_in_E.data[j]], newDist);\n      }\n    }\n  }\n}`,\n  });\n\n  const updateDistanceKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<i32>;\n};\n\n@group(0) @binding(0) var<storage, read_write> d_out_D : Buffer;\n@group(0) @binding(1) var<storage, read_write> d_out_Di : Buffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    if (d_out_D.data[index] > d_out_Di.data[index]) {\n      d_out_D.data[index] = d_out_Di.data[index];\n    }\n    d_out_Di.data[index] = d_out_D.data[index];\n  }\n}\n    `,\n  });\n\n  const updatePredKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<i32>;\n};\nstruct AtomicBuffer {\n  data: array<atomic<i32>>;\n};\n\n@group(0) @binding(0) var<storage, read> d_in_V : Buffer;\n@group(0) @binding(1) var<storage, read> d_in_E : Buffer;\n@group(0) @binding(2) var<storage, read> d_in_I : Buffer;\n@group(0) @binding(3) var<storage, read> d_in_W : Buffer;\n@group(0) @binding(4) var<storage, read> d_out_D : Buffer;\n@group(0) @binding(5) var<storage, read_write> d_out_P : AtomicBuffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    for (var j = d_in_I.data[index]; j < d_in_I.data[index + 1u]; j = j + 1) {\n      var u = d_in_V.data[index];\n      var w = d_in_W.data[j];\n\n      var dis_u = d_out_D.data[index];\n      var dis_v = d_out_D.data[d_in_E.data[j]];\n      if (dis_v == dis_u + w) {\n        atomicMin(&d_out_P.data[d_in_E.data[j]], u);\n      }\n    }\n  }\n}    \n    `,\n  });\n\n  calcShortestPath(device, kernel, updateDistanceKernel, updatePredKernel);\n});\n\nconst calcShortestPath = async (device, relaxKernel, updateDistanceKernel, updatePredKernel) => {\n  const VBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(V),\n  });\n  const EBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(E),\n  });\n  const IBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(I),\n  });\n  const WBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(W),\n  });\n  const DOutBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Int32Array([0, ...new Array(V.length - 1).fill(MAX_DISTANCE)]),\n  });\n  const DiOutBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Int32Array([0, ...new Array(V.length - 1).fill(MAX_DISTANCE)]),\n  });\n  const POutBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Int32Array([0, ...new Array(V.length - 1).fill(MAX_DISTANCE)]),\n  });\n  const readback = device.createReadback();\n\n  relaxKernel.setBinding(0, EBuffer);\n  relaxKernel.setBinding(1, IBuffer);\n  relaxKernel.setBinding(2, WBuffer);\n  relaxKernel.setBinding(3, DOutBuffer);\n  relaxKernel.setBinding(4, DiOutBuffer);\n\n  updateDistanceKernel.setBinding(0, DOutBuffer);\n  updateDistanceKernel.setBinding(1, DiOutBuffer);\n\n  updatePredKernel.setBinding(0, VBuffer);\n  updatePredKernel.setBinding(1, EBuffer);\n  updatePredKernel.setBinding(2, IBuffer);\n  updatePredKernel.setBinding(3, WBuffer);\n  updatePredKernel.setBinding(4, DOutBuffer);\n  updatePredKernel.setBinding(5, POutBuffer);\n\n  const startTime = window.performance.now();\n\n  for (let i = 1; i < V.length; i++) {\n    relaxKernel.dispatch(1, 1);\n    updateDistanceKernel.dispatch(1, 1);\n  }\n  updatePredKernel.dispatch(1, 1);\n\n  // result\n  const out = await readback.readBuffer(DiOutBuffer);\n  const predecessor = await readback.readBuffer(POutBuffer);\n\n  const labels = ['A', 'B', 'C', 'D', 'E'];\n  for (let i = 0; i < V.length; i++) {\n    console.log(\n      `from ${labels[0]} to ${labels[i]} = ${out[i]}, predecessor = ${labels[predecessor[i]]}`,\n    );\n  }\n\n  console.log(`GPU Time Elapsed: ${window.performance.now() - startTime}ms`);\n};\n\nconst { findShortestPath } = Algorithm;\nconst data = {\n  nodes: [\n    {\n      id: 'A',\n      label: 'A',\n    },\n    {\n      id: 'B',\n      label: 'B',\n    },\n    {\n      id: 'C',\n      label: 'C',\n    },\n    {\n      id: 'D',\n      label: 'D',\n    },\n    {\n      id: 'E',\n      label: 'E',\n    },\n  ],\n  edges: [\n    {\n      source: 'A',\n      target: 'B',\n      weight: 9,\n    },\n    {\n      source: 'A',\n      target: 'C',\n      weight: 4,\n    },\n    {\n      source: 'B',\n      target: 'C',\n      weight: 10,\n    },\n    {\n      source: 'B',\n      target: 'D',\n      weight: 2,\n    },\n    {\n      source: 'B',\n      target: 'E',\n      weight: 3,\n    },\n    {\n      source: 'C',\n      target: 'D',\n      weight: 2,\n    },\n    {\n      source: 'C',\n      target: 'E',\n      weight: 11,\n    },\n    {\n      source: 'D',\n      target: 'B',\n      weight: 2,\n    },\n    {\n      source: 'E',\n      target: 'D',\n      weight: 2,\n    },\n  ],\n};\n\nconst startTime = window.performance.now();\nfor (let i = 0; i < data.nodes.length; i++) {\n  const { length, path, allPath } = findShortestPath(data, 'A', data.nodes[i].id, true, 'weight');\n  console.log(`from A to ${data.nodes[i].id} = ${length}: `, path);\n}\nconsole.log(`CPU Time Elapsed: ${window.performance.now() - startTime}ms`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g6\", \"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-gpgpu\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g6\"), require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-gpgpu\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g6, global.g, global.gWebgl, global.gPluginGpgpu);\n    global.bellmanFord = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _g2, _gWebgl, _gPluginGpgpu) {\n  \"use strict\";\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  /**\n   * SSSP(Bellman-Ford) ported from CUDA\n   * @see https://www.lewuathe.com/illustration-of-distributed-bellman-ford-algorithm.html\n   * @see https://github.com/sengorajkumar/gpu_graph_algorithms\n   *\n   * compared with G6:\n   * @see https://g6.antv.vision/zh/docs/api/Algorithm#findshortestpathgraphdata-start-end-directed-weightpropertyname\n   */\n\n  /**\n   * use Compressed Sparse Row (CSR) for adjacency list\n   */\n  // datasource: https://github.com/sengorajkumar/gpu_graph_algorithms/blob/master/input/simple.gr_E.csv\n  var V = [0, 1, 2, 3, 4];\n  var E = [1, 2, 2, 3, 4, 3, 4, 1, 3];\n  var I = [0, 2, 5, 7, 8, 9];\n  var W = [9, 4, 10, 2, 3, 2, 11, 2, 2];\n  var BLOCK_SIZE = 1;\n  var BLOCKS = 5;\n  var CANVAS_SIZE = 1;\n  var MAX_DISTANCE = 10000;\n  var $wrapper = document.getElementById('container');\n  var $text = document.createElement('div');\n  $text.textContent = 'Please open the devtools, the shortest paths will be printed in console.';\n  $wrapper.appendChild($text); // use WebGPU\n\n  var renderer = new _gWebgl.Renderer({\n    targets: ['webgpu']\n  });\n  renderer.registerPlugin(new _gPluginGpgpu.Plugin()); // create a canvas\n\n  var canvas = new _g2.Canvas({\n    container: $wrapper,\n    width: CANVAS_SIZE,\n    height: CANVAS_SIZE,\n    renderer: renderer\n  });\n  canvas.addEventListener(_g2.CanvasEvent.READY, function () {\n    var device = renderer.getDevice();\n    var kernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<i32>;\\n};\\nstruct AtomicBuffer {\\n  data: array<atomic<i32>>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> d_in_E : Buffer;\\n@group(0) @binding(1) var<storage, read> d_in_I : Buffer;\\n@group(0) @binding(2) var<storage, read> d_in_W : Buffer;\\n@group(0) @binding(3) var<storage, read> d_out_D : Buffer;\\n@group(0) @binding(4) var<storage, read_write> d_out_Di : AtomicBuffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    for (var j = d_in_I.data[index]; j < d_in_I.data[index + 1u]; j = j + 1) {\\n      var w = d_in_W.data[j];\\n      var du = d_out_D.data[index];\\n      var dv = d_out_D.data[d_in_E.data[j]];\\n      var newDist = du + w;\\n      if (du == \").concat(MAX_DISTANCE, \") {\\n        newDist = \").concat(MAX_DISTANCE, \";\\n      }\\n\\n      if (newDist < dv) {\\n        atomicMin(&d_out_Di.data[d_in_E.data[j]], newDist);\\n      }\\n    }\\n  }\\n}\")\n    });\n    var updateDistanceKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<i32>;\\n};\\n\\n@group(0) @binding(0) var<storage, read_write> d_out_D : Buffer;\\n@group(0) @binding(1) var<storage, read_write> d_out_Di : Buffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    if (d_out_D.data[index] > d_out_Di.data[index]) {\\n      d_out_D.data[index] = d_out_Di.data[index];\\n    }\\n    d_out_Di.data[index] = d_out_D.data[index];\\n  }\\n}\\n    \")\n    });\n    var updatePredKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<i32>;\\n};\\nstruct AtomicBuffer {\\n  data: array<atomic<i32>>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> d_in_V : Buffer;\\n@group(0) @binding(1) var<storage, read> d_in_E : Buffer;\\n@group(0) @binding(2) var<storage, read> d_in_I : Buffer;\\n@group(0) @binding(3) var<storage, read> d_in_W : Buffer;\\n@group(0) @binding(4) var<storage, read> d_out_D : Buffer;\\n@group(0) @binding(5) var<storage, read_write> d_out_P : AtomicBuffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    for (var j = d_in_I.data[index]; j < d_in_I.data[index + 1u]; j = j + 1) {\\n      var u = d_in_V.data[index];\\n      var w = d_in_W.data[j];\\n\\n      var dis_u = d_out_D.data[index];\\n      var dis_v = d_out_D.data[d_in_E.data[j]];\\n      if (dis_v == dis_u + w) {\\n        atomicMin(&d_out_P.data[d_in_E.data[j]], u);\\n      }\\n    }\\n  }\\n}    \\n    \")\n    });\n    calcShortestPath(device, kernel, updateDistanceKernel, updatePredKernel);\n  });\n\n  var calcShortestPath = async function calcShortestPath(device, relaxKernel, updateDistanceKernel, updatePredKernel) {\n    var VBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(V)\n    });\n    var EBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(E)\n    });\n    var IBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(I)\n    });\n    var WBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(W)\n    });\n    var DOutBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Int32Array([0].concat(_toConsumableArray(new Array(V.length - 1).fill(MAX_DISTANCE))))\n    });\n    var DiOutBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Int32Array([0].concat(_toConsumableArray(new Array(V.length - 1).fill(MAX_DISTANCE))))\n    });\n    var POutBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Int32Array([0].concat(_toConsumableArray(new Array(V.length - 1).fill(MAX_DISTANCE))))\n    });\n    var readback = device.createReadback();\n    relaxKernel.setBinding(0, EBuffer);\n    relaxKernel.setBinding(1, IBuffer);\n    relaxKernel.setBinding(2, WBuffer);\n    relaxKernel.setBinding(3, DOutBuffer);\n    relaxKernel.setBinding(4, DiOutBuffer);\n    updateDistanceKernel.setBinding(0, DOutBuffer);\n    updateDistanceKernel.setBinding(1, DiOutBuffer);\n    updatePredKernel.setBinding(0, VBuffer);\n    updatePredKernel.setBinding(1, EBuffer);\n    updatePredKernel.setBinding(2, IBuffer);\n    updatePredKernel.setBinding(3, WBuffer);\n    updatePredKernel.setBinding(4, DOutBuffer);\n    updatePredKernel.setBinding(5, POutBuffer);\n    var startTime = window.performance.now();\n\n    for (var i = 1; i < V.length; i++) {\n      relaxKernel.dispatch(1, 1);\n      updateDistanceKernel.dispatch(1, 1);\n    }\n\n    updatePredKernel.dispatch(1, 1); // result\n\n    var out = await readback.readBuffer(DiOutBuffer);\n    var predecessor = await readback.readBuffer(POutBuffer);\n    var labels = ['A', 'B', 'C', 'D', 'E'];\n\n    for (var _i = 0; _i < V.length; _i++) {\n      console.log(\"from \".concat(labels[0], \" to \").concat(labels[_i], \" = \").concat(out[_i], \", predecessor = \").concat(labels[predecessor[_i]]));\n    }\n\n    console.log(\"GPU Time Elapsed: \".concat(window.performance.now() - startTime, \"ms\"));\n  };\n\n  var findShortestPath = _g.Algorithm.findShortestPath;\n  var data = {\n    nodes: [{\n      id: 'A',\n      label: 'A'\n    }, {\n      id: 'B',\n      label: 'B'\n    }, {\n      id: 'C',\n      label: 'C'\n    }, {\n      id: 'D',\n      label: 'D'\n    }, {\n      id: 'E',\n      label: 'E'\n    }],\n    edges: [{\n      source: 'A',\n      target: 'B',\n      weight: 9\n    }, {\n      source: 'A',\n      target: 'C',\n      weight: 4\n    }, {\n      source: 'B',\n      target: 'C',\n      weight: 10\n    }, {\n      source: 'B',\n      target: 'D',\n      weight: 2\n    }, {\n      source: 'B',\n      target: 'E',\n      weight: 3\n    }, {\n      source: 'C',\n      target: 'D',\n      weight: 2\n    }, {\n      source: 'C',\n      target: 'E',\n      weight: 11\n    }, {\n      source: 'D',\n      target: 'B',\n      weight: 2\n    }, {\n      source: 'E',\n      target: 'D',\n      weight: 2\n    }]\n  };\n  var startTime = window.performance.now();\n\n  for (var i = 0; i < data.nodes.length; i++) {\n    var _findShortestPath = findShortestPath(data, 'A', data.nodes[i].id, true, 'weight'),\n        length = _findShortestPath.length,\n        path = _findShortestPath.path,\n        allPath = _findShortestPath.allPath;\n\n    console.log(\"from A to \".concat(data.nodes[i].id, \" = \").concat(length, \": \"), path);\n  }\n\n  console.log(\"CPU Time Elapsed: \".concat(window.performance.now() - startTime, \"ms\"));\n});"},{"relativePath":"gpgpu/demo/bellman-ford-big-dataset.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/gpgpu/demo/bellman-ford-big-dataset.js","order":3,"filename":"bellman-ford-big-dataset.js","title":{"zh":"Bellman-Ford 最短路径算法（1k 节点 5k 边）","en":"Bellman-Ford SSSP(1k vertices & 5k edges)"},"source":"import { Algorithm } from '@antv/g6';\nimport { Canvas } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { Plugin, Kernel, BufferUsage } from '@antv/g-plugin-gpgpu';\n\n/**\n * SSSP(Bellman-Ford) ported from CUDA,\n * find all shortest paths started from Node 0\n * @see https://www.lewuathe.com/illustration-of-distributed-bellman-ford-algorithm.html\n * @see https://github.com/sengorajkumar/gpu_graph_algorithms\n *\n * compared with G6:\n * @see https://g6.antv.vision/zh/docs/api/Algorithm#findshortestpathgraphdata-start-end-directed-weightpropertyname\n *\n * dataset: 1k vertices & 5k edges\n * @see https://github.com/sengorajkumar/gpu_graph_algorithms/tree/master/input\n */\n\nconst $wrapper = document.getElementById('container');\n(async () => {\n  // load & parse CSV datasets, which use Compressed Sparse Row (CSR) for adjacency list\n  const [V, E, From, To, I, W] = await Promise.all(\n    [\n      'https://gw.alipayobjects.com/os/bmw-prod/0272cae4-5ae0-4fbd-93f9-2b6a8e640a24.csv',\n      'https://gw.alipayobjects.com/os/bmw-prod/e8b24b84-3cc4-4a73-b213-7edf4467e03a.csv',\n      'https://gw.alipayobjects.com/os/bmw-prod/cba4ec3d-4eca-4f85-ae54-faeee0fa708a.csv',\n      'https://gw.alipayobjects.com/os/bmw-prod/8582d1ca-9fe6-4afb-8364-df6ccc619594.csv',\n      'https://gw.alipayobjects.com/os/bmw-prod/d84981b4-edcf-4df5-b672-45b0000fc5da.csv',\n      'https://gw.alipayobjects.com/os/bmw-prod/eb455fa7-73ac-43fe-bc5e-d5e6c3a1fb77.csv',\n    ].map(async (url, i) => {\n      const res = await fetch(url);\n      // adjust index for V, E, From and To\n      return (await res.text()).split(',').map((v) => Number(v.trim()) - (i <= 3 ? 1 : 0));\n    }),\n  );\n\n  // use G6's `findShortestPath` method\n  let startTime = window.performance.now();\n  let paths = calculateInCPU(V, From, To, W);\n  showResult('CPU', startTime, window.performance.now(), paths);\n\n  // use Compute Shader with WebGPU\n  startTime = window.performance.now();\n  paths = await calculateInGPU(V, E, I, W);\n  showResult('GPU', startTime, window.performance.now(), paths);\n})();\n\n// calculate with G6's SSSP in CPU\nconst calculateInCPU = (V, From, To, W) => {\n  const { findShortestPath } = Algorithm;\n  const data = {\n    nodes: V.map((v) => ({\n      id: `${v}`,\n      label: `${v}`,\n    })),\n    edges: From.map((from, i) => ({\n      source: `${from}`,\n      target: `${To[i]}`,\n      weight: W[i],\n    })),\n  };\n\n  const paths = [];\n  for (let i = 0; i < data.nodes.length; i++) {\n    // use SSSP for Node 0\n    const { length, path } = findShortestPath(data, '0', data.nodes[i].id, true, 'weight');\n    paths.push({\n      to: data.nodes[i].id,\n      length,\n      path,\n    });\n  }\n  return paths;\n};\n\n// we use 3 kernels\nconst calculateInGPU = async (V, E, I, W) => {\n  // The total number of workgroup invocations (4096) exceeds the maximum allowed (256).\n  const BLOCK_SIZE = 1;\n  const BLOCKS = 256;\n  const CANVAS_SIZE = 1;\n  const MAX_DISTANCE = 1000000;\n\n  // use WebGPU\n  const renderer = new Renderer({ targets: ['webgpu'] });\n  renderer.registerPlugin(new Plugin());\n\n  // create a canvas\n  const canvas = new Canvas({\n    container: $wrapper,\n    width: CANVAS_SIZE,\n    height: CANVAS_SIZE,\n    renderer,\n  });\n\n  // wait for canvas' services ready\n  await canvas.ready;\n  const device = renderer.getDevice();\n  const relaxKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<i32>;\n};\nstruct AtomicBuffer {\n  data: array<atomic<i32>>;\n};\n\n@group(0) @binding(0) var<storage, read> d_in_E : Buffer;\n@group(0) @binding(1) var<storage, read> d_in_I : Buffer;\n@group(0) @binding(2) var<storage, read> d_in_W : Buffer;\n@group(0) @binding(3) var<storage, read> d_out_D : Buffer;\n@group(0) @binding(4) var<storage, read_write> d_out_Di : AtomicBuffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    for (var j = d_in_I.data[index]; j < d_in_I.data[index + 1u]; j = j + 1) {\n      var w = d_in_W.data[j];\n      var du = d_out_D.data[index];\n      var dv = d_out_D.data[d_in_E.data[j]];\n      var newDist = du + w;\n      if (du == ${MAX_DISTANCE}) {\n        newDist = ${MAX_DISTANCE};\n      }\n\n      if (newDist < dv) {\n        atomicMin(&d_out_Di.data[d_in_E.data[j]], newDist);\n      }\n    }\n  }\n}`,\n  });\n\n  const updateDistanceKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<i32>;\n};\n\n@group(0) @binding(0) var<storage, read_write> d_out_D : Buffer;\n@group(0) @binding(1) var<storage, read_write> d_out_Di : Buffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    if (d_out_D.data[index] > d_out_Di.data[index]) {\n      d_out_D.data[index] = d_out_Di.data[index];\n    }\n    d_out_Di.data[index] = d_out_D.data[index];\n  }\n}\n    `,\n  });\n\n  const updatePredKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<i32>;\n};\nstruct AtomicBuffer {\n  data: array<atomic<i32>>;\n};\n\n@group(0) @binding(0) var<storage, read> d_in_V : Buffer;\n@group(0) @binding(1) var<storage, read> d_in_E : Buffer;\n@group(0) @binding(2) var<storage, read> d_in_I : Buffer;\n@group(0) @binding(3) var<storage, read> d_in_W : Buffer;\n@group(0) @binding(4) var<storage, read> d_out_D : Buffer;\n@group(0) @binding(5) var<storage, read_write> d_out_P : AtomicBuffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    for (var j = d_in_I.data[index]; j < d_in_I.data[index + 1u]; j = j + 1) {\n      var u = d_in_V.data[index];\n      var w = d_in_W.data[j];\n\n      var dis_u = d_out_D.data[index];\n      var dis_v = d_out_D.data[d_in_E.data[j]];\n      if (dis_v == dis_u + w) {\n        atomicMin(&d_out_P.data[d_in_E.data[j]], u);\n      }\n    }\n  }\n}    \n    `,\n  });\n\n  const VBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(V),\n  });\n  const EBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(E),\n  });\n  const IBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(I),\n  });\n  const WBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(W),\n  });\n  const DOutBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    // since we want to find all paths for Node 0, set the first element to 0\n    viewOrSize: new Int32Array([0, ...new Array(V.length - 1).fill(MAX_DISTANCE)]),\n  });\n  const DiOutBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Int32Array([0, ...new Array(V.length - 1).fill(MAX_DISTANCE)]),\n  });\n\n  // store predecessors\n  const POutBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Int32Array([0, ...new Array(V.length - 1).fill(MAX_DISTANCE)]),\n  });\n  const readback = device.createReadback();\n\n  relaxKernel.setBinding(0, EBuffer);\n  relaxKernel.setBinding(1, IBuffer);\n  relaxKernel.setBinding(2, WBuffer);\n  relaxKernel.setBinding(3, DOutBuffer);\n  relaxKernel.setBinding(4, DiOutBuffer);\n\n  updateDistanceKernel.setBinding(0, DOutBuffer);\n  updateDistanceKernel.setBinding(1, DiOutBuffer);\n\n  updatePredKernel.setBinding(0, VBuffer);\n  updatePredKernel.setBinding(1, EBuffer);\n  updatePredKernel.setBinding(2, IBuffer);\n  updatePredKernel.setBinding(3, WBuffer);\n  updatePredKernel.setBinding(4, DOutBuffer);\n  updatePredKernel.setBinding(5, POutBuffer);\n\n  const grids = Math.ceil(V.length / (BLOCKS * BLOCK_SIZE));\n  for (let i = 1; i < V.length; i++) {\n    relaxKernel.dispatch(grids, 1);\n    updateDistanceKernel.dispatch(grids, 1);\n  }\n  updatePredKernel.dispatch(grids, 1);\n\n  const out = await readback.readBuffer(DiOutBuffer);\n  const predecessor = await readback.readBuffer(POutBuffer);\n\n  return Array.from(out).map((length, i) => ({\n    to: V[i],\n    length,\n    predecessor: V[predecessor[i]],\n  }));\n};\n\nconst $text = document.createElement('div');\n$text.textContent = 'Please open the devtools, the shortest paths will be printed in console.';\n$wrapper.appendChild($text);\n\nconst showResult = (label, startTime, endTime, paths) => {\n  const $cpu = document.createElement('div');\n  $cpu.textContent = `${label} Time Elapsed: ${Number.parseFloat(endTime - startTime).toFixed(\n    2,\n  )}ms`;\n  $wrapper.appendChild($cpu);\n  // print top nodes\n  console.log(paths);\n};\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g6\", \"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-gpgpu\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g6\"), require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-gpgpu\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g6, global.g, global.gWebgl, global.gPluginGpgpu);\n    global.bellmanFordBigDataset = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _g2, _gWebgl, _gPluginGpgpu) {\n  \"use strict\";\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  /**\n   * SSSP(Bellman-Ford) ported from CUDA,\n   * find all shortest paths started from Node 0\n   * @see https://www.lewuathe.com/illustration-of-distributed-bellman-ford-algorithm.html\n   * @see https://github.com/sengorajkumar/gpu_graph_algorithms\n   *\n   * compared with G6:\n   * @see https://g6.antv.vision/zh/docs/api/Algorithm#findshortestpathgraphdata-start-end-directed-weightpropertyname\n   *\n   * dataset: 1k vertices & 5k edges\n   * @see https://github.com/sengorajkumar/gpu_graph_algorithms/tree/master/input\n   */\n  var $wrapper = document.getElementById('container');\n\n  (async function () {\n    // load & parse CSV datasets, which use Compressed Sparse Row (CSR) for adjacency list\n    var _await$Promise$all = await Promise.all(['https://gw.alipayobjects.com/os/bmw-prod/0272cae4-5ae0-4fbd-93f9-2b6a8e640a24.csv', 'https://gw.alipayobjects.com/os/bmw-prod/e8b24b84-3cc4-4a73-b213-7edf4467e03a.csv', 'https://gw.alipayobjects.com/os/bmw-prod/cba4ec3d-4eca-4f85-ae54-faeee0fa708a.csv', 'https://gw.alipayobjects.com/os/bmw-prod/8582d1ca-9fe6-4afb-8364-df6ccc619594.csv', 'https://gw.alipayobjects.com/os/bmw-prod/d84981b4-edcf-4df5-b672-45b0000fc5da.csv', 'https://gw.alipayobjects.com/os/bmw-prod/eb455fa7-73ac-43fe-bc5e-d5e6c3a1fb77.csv'].map(async function (url, i) {\n      var res = await fetch(url); // adjust index for V, E, From and To\n\n      // adjust index for V, E, From and To\n      return (await res.text()).split(',').map(function (v) {\n        return Number(v.trim()) - (i <= 3 ? 1 : 0);\n      });\n    })),\n        _await$Promise$all2 = _slicedToArray(_await$Promise$all, 6),\n        V = _await$Promise$all2[0],\n        E = _await$Promise$all2[1],\n        From = _await$Promise$all2[2],\n        To = _await$Promise$all2[3],\n        I = _await$Promise$all2[4],\n        W = _await$Promise$all2[5]; // use G6's `findShortestPath` method\n\n\n    var startTime = window.performance.now();\n    var paths = calculateInCPU(V, From, To, W);\n    showResult('CPU', startTime, window.performance.now(), paths); // use Compute Shader with WebGPU\n\n    startTime = window.performance.now();\n    paths = await calculateInGPU(V, E, I, W);\n    showResult('GPU', startTime, window.performance.now(), paths);\n  })(); // calculate with G6's SSSP in CPU\n\n\n  var calculateInCPU = function calculateInCPU(V, From, To, W) {\n    var findShortestPath = _g.Algorithm.findShortestPath;\n    var data = {\n      nodes: V.map(function (v) {\n        return {\n          id: \"\".concat(v),\n          label: \"\".concat(v)\n        };\n      }),\n      edges: From.map(function (from, i) {\n        return {\n          source: \"\".concat(from),\n          target: \"\".concat(To[i]),\n          weight: W[i]\n        };\n      })\n    };\n    var paths = [];\n\n    for (var i = 0; i < data.nodes.length; i++) {\n      // use SSSP for Node 0\n      var _findShortestPath = findShortestPath(data, '0', data.nodes[i].id, true, 'weight'),\n          length = _findShortestPath.length,\n          path = _findShortestPath.path;\n\n      paths.push({\n        to: data.nodes[i].id,\n        length: length,\n        path: path\n      });\n    }\n\n    return paths;\n  }; // we use 3 kernels\n\n\n  var calculateInGPU = async function calculateInGPU(V, E, I, W) {\n    // The total number of workgroup invocations (4096) exceeds the maximum allowed (256).\n    var BLOCK_SIZE = 1;\n    var BLOCKS = 256;\n    var CANVAS_SIZE = 1;\n    var MAX_DISTANCE = 1000000; // use WebGPU\n\n    var renderer = new _gWebgl.Renderer({\n      targets: ['webgpu']\n    });\n    renderer.registerPlugin(new _gPluginGpgpu.Plugin()); // create a canvas\n\n    var canvas = new _g2.Canvas({\n      container: $wrapper,\n      width: CANVAS_SIZE,\n      height: CANVAS_SIZE,\n      renderer: renderer\n    }); // wait for canvas' services ready\n\n    await canvas.ready;\n    var device = renderer.getDevice();\n    var relaxKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<i32>;\\n};\\nstruct AtomicBuffer {\\n  data: array<atomic<i32>>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> d_in_E : Buffer;\\n@group(0) @binding(1) var<storage, read> d_in_I : Buffer;\\n@group(0) @binding(2) var<storage, read> d_in_W : Buffer;\\n@group(0) @binding(3) var<storage, read> d_out_D : Buffer;\\n@group(0) @binding(4) var<storage, read_write> d_out_Di : AtomicBuffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    for (var j = d_in_I.data[index]; j < d_in_I.data[index + 1u]; j = j + 1) {\\n      var w = d_in_W.data[j];\\n      var du = d_out_D.data[index];\\n      var dv = d_out_D.data[d_in_E.data[j]];\\n      var newDist = du + w;\\n      if (du == \").concat(MAX_DISTANCE, \") {\\n        newDist = \").concat(MAX_DISTANCE, \";\\n      }\\n\\n      if (newDist < dv) {\\n        atomicMin(&d_out_Di.data[d_in_E.data[j]], newDist);\\n      }\\n    }\\n  }\\n}\")\n    });\n    var updateDistanceKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<i32>;\\n};\\n\\n@group(0) @binding(0) var<storage, read_write> d_out_D : Buffer;\\n@group(0) @binding(1) var<storage, read_write> d_out_Di : Buffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    if (d_out_D.data[index] > d_out_Di.data[index]) {\\n      d_out_D.data[index] = d_out_Di.data[index];\\n    }\\n    d_out_Di.data[index] = d_out_D.data[index];\\n  }\\n}\\n    \")\n    });\n    var updatePredKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<i32>;\\n};\\nstruct AtomicBuffer {\\n  data: array<atomic<i32>>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> d_in_V : Buffer;\\n@group(0) @binding(1) var<storage, read> d_in_E : Buffer;\\n@group(0) @binding(2) var<storage, read> d_in_I : Buffer;\\n@group(0) @binding(3) var<storage, read> d_in_W : Buffer;\\n@group(0) @binding(4) var<storage, read> d_out_D : Buffer;\\n@group(0) @binding(5) var<storage, read_write> d_out_P : AtomicBuffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    for (var j = d_in_I.data[index]; j < d_in_I.data[index + 1u]; j = j + 1) {\\n      var u = d_in_V.data[index];\\n      var w = d_in_W.data[j];\\n\\n      var dis_u = d_out_D.data[index];\\n      var dis_v = d_out_D.data[d_in_E.data[j]];\\n      if (dis_v == dis_u + w) {\\n        atomicMin(&d_out_P.data[d_in_E.data[j]], u);\\n      }\\n    }\\n  }\\n}    \\n    \")\n    });\n    var VBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(V)\n    });\n    var EBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(E)\n    });\n    var IBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(I)\n    });\n    var WBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(W)\n    });\n    var DOutBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      // since we want to find all paths for Node 0, set the first element to 0\n      viewOrSize: new Int32Array([0].concat(_toConsumableArray(new Array(V.length - 1).fill(MAX_DISTANCE))))\n    });\n    var DiOutBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Int32Array([0].concat(_toConsumableArray(new Array(V.length - 1).fill(MAX_DISTANCE))))\n    }); // store predecessors\n\n    var POutBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Int32Array([0].concat(_toConsumableArray(new Array(V.length - 1).fill(MAX_DISTANCE))))\n    });\n    var readback = device.createReadback();\n    relaxKernel.setBinding(0, EBuffer);\n    relaxKernel.setBinding(1, IBuffer);\n    relaxKernel.setBinding(2, WBuffer);\n    relaxKernel.setBinding(3, DOutBuffer);\n    relaxKernel.setBinding(4, DiOutBuffer);\n    updateDistanceKernel.setBinding(0, DOutBuffer);\n    updateDistanceKernel.setBinding(1, DiOutBuffer);\n    updatePredKernel.setBinding(0, VBuffer);\n    updatePredKernel.setBinding(1, EBuffer);\n    updatePredKernel.setBinding(2, IBuffer);\n    updatePredKernel.setBinding(3, WBuffer);\n    updatePredKernel.setBinding(4, DOutBuffer);\n    updatePredKernel.setBinding(5, POutBuffer);\n    var grids = Math.ceil(V.length / (BLOCKS * BLOCK_SIZE));\n\n    for (var i = 1; i < V.length; i++) {\n      relaxKernel.dispatch(grids, 1);\n      updateDistanceKernel.dispatch(grids, 1);\n    }\n\n    updatePredKernel.dispatch(grids, 1);\n    var out = await readback.readBuffer(DiOutBuffer);\n    var predecessor = await readback.readBuffer(POutBuffer);\n    return Array.from(out).map(function (length, i) {\n      return {\n        to: V[i],\n        length: length,\n        predecessor: V[predecessor[i]]\n      };\n    });\n  };\n\n  var $text = document.createElement('div');\n  $text.textContent = 'Please open the devtools, the shortest paths will be printed in console.';\n  $wrapper.appendChild($text);\n\n  var showResult = function showResult(label, startTime, endTime, paths) {\n    var $cpu = document.createElement('div');\n    $cpu.textContent = \"\".concat(label, \" Time Elapsed: \").concat(Number.parseFloat(endTime - startTime).toFixed(2), \"ms\");\n    $wrapper.appendChild($cpu); // print top nodes\n\n    console.log(paths);\n  };\n});"},{"relativePath":"gpgpu/demo/compute-shader-test.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/gpgpu/demo/compute-shader-test.js","order":7,"filename":"compute-shader-test.js","title":{"zh":"Compute Shader 测试","en":"Compute Shader"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { Plugin, Kernel, BufferUsage } from '@antv/g-plugin-gpgpu';\n\n/**\n * ported from Tint\n * @see https://dawn.googlesource.com/tint/+/f9d19719fd500668e1f74d98e881073baeaf03ff/test/intrinsics/gen/atomicSub/051100.wgsl\n */\n\nconst CANVAS_SIZE = 1;\nconst $canvas = document.createElement('canvas');\n\n// use WebGPU\nconst renderer = new Renderer({ targets: ['webgpu'] });\nrenderer.registerPlugin(new Plugin());\n\n// create a canvas\nconst canvas = new Canvas({\n  canvas: $canvas,\n  width: CANVAS_SIZE,\n  height: CANVAS_SIZE,\n  renderer,\n});\n\ncanvas.addEventListener(CanvasEvent.READY, () => {\n  const device = renderer.getDevice();\n\n  const kernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<i32>;\n};\nstruct AtomicBuffer {\n  data: array<atomic<i32>>;\n};\nstruct Params {\n  k: i32;\n  center: vec2<i32>;\n};\n\n@binding(0) @group(0) var<storage, read_write> input : Buffer;\n@binding(1) @group(0) var<storage, read_write> output : AtomicBuffer;\n@binding(2) @group(0) var<uniform> params : Params;\n\n@stage(compute) @workgroup_size(8, 8)\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index >= u32(4)) {\n    return;\n  }\n\n  input.data[index] = input.data[index] + params.k;\n\n  atomicSub(&output.data[index], 1);\n}`,\n  });\n\n  const inputBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Int32Array([1, 2, 3, 4]),\n  });\n  const outputBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Int32Array([0, 0, 0, 0]),\n  });\n  const uniformBuffer = device.createBuffer({\n    usage: BufferUsage.UNIFORM | BufferUsage.COPY_DST,\n    viewOrSize: new Int32Array([1, 0, 0, 0]),\n  });\n  const readback = device.createReadback();\n\n  kernel.setBinding(0, inputBuffer);\n  kernel.setBinding(1, outputBuffer);\n  kernel.setBinding(2, uniformBuffer);\n\n  for (let i = 0; i < 100; i++) {\n    uniformBuffer.setSubData(0, new Int32Array([2, 0, 0, 0]));\n    kernel.dispatch(1, 1);\n\n    uniformBuffer.setSubData(0, new Int32Array([-2, 0, 0, 0]));\n    kernel.dispatch(1, 1);\n  }\n\n  (async () => {\n    const input = await readback.readBuffer(inputBuffer);\n    const output = await readback.readBuffer(outputBuffer);\n\n    console.log(input, output);\n  })();\n});\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-gpgpu\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-gpgpu\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPluginGpgpu);\n    global.computeShaderTest = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPluginGpgpu) {\n  \"use strict\";\n\n  /**\n   * ported from Tint\n   * @see https://dawn.googlesource.com/tint/+/f9d19719fd500668e1f74d98e881073baeaf03ff/test/intrinsics/gen/atomicSub/051100.wgsl\n   */\n  var CANVAS_SIZE = 1;\n  var $canvas = document.createElement('canvas'); // use WebGPU\n\n  var renderer = new _gWebgl.Renderer({\n    targets: ['webgpu']\n  });\n  renderer.registerPlugin(new _gPluginGpgpu.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    canvas: $canvas,\n    width: CANVAS_SIZE,\n    height: CANVAS_SIZE,\n    renderer: renderer\n  });\n  canvas.addEventListener(_g.CanvasEvent.READY, function () {\n    var device = renderer.getDevice();\n    var kernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<i32>;\\n};\\nstruct AtomicBuffer {\\n  data: array<atomic<i32>>;\\n};\\nstruct Params {\\n  k: i32;\\n  center: vec2<i32>;\\n};\\n\\n@binding(0) @group(0) var<storage, read_write> input : Buffer;\\n@binding(1) @group(0) var<storage, read_write> output : AtomicBuffer;\\n@binding(2) @group(0) var<uniform> params : Params;\\n\\n@stage(compute) @workgroup_size(8, 8)\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index >= u32(4)) {\\n    return;\\n  }\\n\\n  input.data[index] = input.data[index] + params.k;\\n\\n  atomicSub(&output.data[index], 1);\\n}\"\n    });\n    var inputBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Int32Array([1, 2, 3, 4])\n    });\n    var outputBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Int32Array([0, 0, 0, 0])\n    });\n    var uniformBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.UNIFORM | _gPluginGpgpu.BufferUsage.COPY_DST,\n      viewOrSize: new Int32Array([1, 0, 0, 0])\n    });\n    var readback = device.createReadback();\n    kernel.setBinding(0, inputBuffer);\n    kernel.setBinding(1, outputBuffer);\n    kernel.setBinding(2, uniformBuffer);\n\n    for (var i = 0; i < 100; i++) {\n      uniformBuffer.setSubData(0, new Int32Array([2, 0, 0, 0]));\n      kernel.dispatch(1, 1);\n      uniformBuffer.setSubData(0, new Int32Array([-2, 0, 0, 0]));\n      kernel.dispatch(1, 1);\n    }\n\n    (async function () {\n      var input = await readback.readBuffer(inputBuffer);\n      var output = await readback.readBuffer(outputBuffer);\n      console.log(input, output);\n    })();\n  });\n});"},{"relativePath":"gpgpu/demo/fruchterman.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/gpgpu/demo/fruchterman.js","order":6,"filename":"fruchterman.js","title":{"zh":"Fruchterman 布局算法","en":"Fruchterman Layout"},"source":"import { Canvas, Circle, Line } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { Plugin, Kernel, BufferUsage } from '@antv/g-plugin-gpgpu';\n\n/**\n * ported from https://nblintao.github.io/ParaGraphL/\n * speed up ~100x(100ms vs 30s) compared with G6 @see https://g6.antv.vision/zh/examples/net/furchtermanLayout#fruchtermanWebWorker\n *\n * rewrite with WGSL(WebGPU Shader Language),\n * use Compressed Sparse Row (CSR) for adjacency list\n */\n\nconst MAX_ITERATION = 1000;\nconst CANVAS_SIZE = 600;\n\n// use WebGPU\nconst renderer = new Renderer({ targets: ['webgpu'] });\nrenderer.registerPlugin(new Plugin());\n\n// create a canvas\nconst $wrapper = document.getElementById('container');\nconst $text = document.createElement('div');\n$text.textContent = 'Please open the devtools, the shortest paths will be printed in console.';\n$wrapper.appendChild($text);\n\nconst canvas = new Canvas({\n  container: $wrapper,\n  width: 1,\n  height: 1,\n  renderer,\n});\n\n(async () => {\n  await canvas.ready;\n\n  // @see https://g6.antv.vision/en/examples/net/forceDirected/#basicForceDirected\n  const data = await (\n    await fetch(\n      'https://gw.alipayobjects.com/os/basement_prod/7bacd7d1-4119-4ac1-8be3-4c4b9bcbc25f.json',\n    )\n  ).json();\n\n  let startTime = window.performance.now();\n\n  const center = [CANVAS_SIZE / 2, CANVAS_SIZE / 2];\n  // generate position of each node\n  const nodes = data.nodes.map((n) => ({\n    x: Math.random() * CANVAS_SIZE,\n    y: Math.random() * CANVAS_SIZE,\n    id: n.id,\n  }));\n  const nodeNum = nodes.length;\n  const [edges, indices, positions] = generateCSR(nodes, data.edges);\n\n  const area = CANVAS_SIZE * CANVAS_SIZE;\n  let maxDisplace = Math.sqrt(area) / 10;\n  const k2 = area / (nodes.length + 1);\n  const k = Math.sqrt(k2);\n\n  const device = renderer.getDevice();\n  const kernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<i32>;\n};\nstruct PositionBuffer {\n  data: array<vec2<f32>>;\n};\n@group(0) @binding(0) var<storage, read> edges : Buffer;\n@group(0) @binding(1) var<storage, read> indices : Buffer;\n@group(0) @binding(2) var<storage, read_write> positions : PositionBuffer;\n\nstruct Params {\n  vertexNum: f32;\n  k: f32;\n  k2: f32;\n  gravity: f32;\n  speed: f32;\n  maxDisplace: f32;\n  center: vec2<f32>;\n};\n@group(0) @binding(3) var<uniform> params : Params;\n\nfn calc_repulsive(i: u32, current_node: vec2<f32>) -> vec2<f32> {\n  var dx = 0.0;\n  var dy = 0.0;\n  for (var j = 0u; j < u32(params.vertexNum); j = j + 1u) {\n    if (i != j) {\n      var nextNode = positions.data[j];\n      var x_dist = current_node[0] - nextNode[0];\n      var y_dist = current_node[1] - nextNode[1];\n      var dist = sqrt(x_dist * x_dist + y_dist * y_dist) + 0.01;\n      if (dist > 0.0) {\n        var repulsiveF = params.k2 / dist;\n        dx = dx + x_dist / dist * repulsiveF;\n        dy = dy + y_dist / dist * repulsiveF;\n      }\n    }\n  }\n  return vec2<f32>(dx, dy);\n}\n\nfn calc_gravity(current_node: vec2<f32>) -> vec2<f32> {\n  var dx = 0.0;\n  var dy = 0.0;\n  var vx = current_node[0] - params.center[0];\n  var vy = current_node[1] - params.center[1];\n  var gf = 0.01 * params.k * params.gravity;\n  dx = gf * vx;\n  dy = gf * vy;\n\n  return vec2<f32>(dx, dy);\n}\n\nfn calc_attractive(i: u32, current_node: vec2<f32>) -> vec2<f32> {\n  var dx = 0.0;\n  var dy = 0.0;\n\n  for (var j = indices.data[i]; j < indices.data[i + 1u]; j = j + 1) {\n    var next_node = positions.data[edges.data[j]];\n    var x_dist = current_node[0] - next_node[0];\n    var y_dist = current_node[1] - next_node[1];\n    var dist = sqrt(x_dist * x_dist + y_dist * y_dist) + 0.01;\n    var attractiveF = dist * dist / params.k;\n    if (dist > 0.0) {\n      dx = dx - x_dist / dist * attractiveF;\n      dy = dy - y_dist / dist * attractiveF;\n    }\n  }\n\n  return vec2<f32>(dx, dy);\n}\n\n@stage(compute) @workgroup_size(1, 1)\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>,\n) {\n  var i = global_id.x;\n  if (i < u32(params.vertexNum)) {\n    var current_node = positions.data[i];\n    var dx = 0.0;\n    var dy = 0.0;\n\n    // repulsive\n    var repulsive = calc_repulsive(i, current_node);\n    dx = dx + repulsive[0];\n    dy = dy + repulsive[1];\n\n    // attractive\n    var attractive = calc_attractive(i, current_node);\n    dx = dx + attractive[0];\n    dy = dy + attractive[1];\n\n    // gravity\n    var gravity = calc_gravity(current_node);\n    dx = dx - gravity[0];\n    dy = dy - gravity[1];\n\n    // speed\n    dx = dx * params.speed;\n    dy = dy * params.speed;\n\n    // move\n    var dist_length = sqrt(dx * dx + dy * dy);\n    if (dist_length > 0.0) {\n      var limited_dist = min(params.maxDisplace * params.speed, dist_length);\n\n      positions.data[i] = vec2<f32>(\n        positions.data[i][0] + dx / dist_length * limited_dist,\n        positions.data[i][1] + dy / dist_length * limited_dist,\n      );\n    }\n  }\n}`,\n  });\n\n  const readback = device.createReadback();\n  const edgesBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(edges),\n  });\n  const indicesBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Int32Array(indices),\n  });\n  const positionsBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Float32Array(positions),\n  });\n  const paramBuffer = device.createBuffer({\n    usage: BufferUsage.UNIFORM | BufferUsage.COPY_DST | BufferUsage.COPY_SRC,\n    viewOrSize: new Float32Array([nodeNum, k, k2, 10, 0.1, maxDisplace, center[0], center[1]]),\n  });\n\n  kernel.setBinding(0, edgesBuffer);\n  kernel.setBinding(1, indicesBuffer);\n  kernel.setBinding(2, positionsBuffer);\n  kernel.setBinding(3, paramBuffer);\n\n  for (let i = 0; i < MAX_ITERATION; i++) {\n    kernel.dispatch(nodeNum, 1);\n\n    // update uniform\n    maxDisplace *= 0.99;\n    paramBuffer.setSubData(5 * 4, new Float32Array([maxDisplace]));\n  }\n\n  const result = await readback.readBuffer(positionsBuffer);\n\n  console.log(\n    `GPU Time Elapsed: ${Number.parseFloat(window.performance.now() - startTime).toFixed(2)}ms`,\n  );\n\n  renderCircles(edges, indices, result);\n})();\n\nconst generateCSR = (nodes, edges) => {\n  const resultEdges = [];\n  const indices = [];\n  const positions = [];\n  const nodeDict = [];\n  const mapIdPos = {}; // { A: 0, B: 1, C: 2 }\n  let i = 0;\n  for (i = 0; i < nodes.length; i++) {\n    const { id, x, y } = nodes[i];\n    mapIdPos[id] = i;\n    nodeDict.push([]);\n    positions.push(x, y);\n  }\n  for (i = 0; i < edges.length; i++) {\n    const e = edges[i];\n    nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n    nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n  }\n\n  for (i = 0; i < nodes.length; i++) {\n    const offset = resultEdges.length;\n    const dests = nodeDict[i];\n    const len = dests.length;\n    indices[i] = offset;\n    for (let j = 0; j < len; ++j) {\n      const dest = dests[j];\n      resultEdges.push(dest);\n    }\n  }\n\n  indices.push(resultEdges.length);\n\n  return [resultEdges, indices, positions];\n};\n\nfunction renderCircles(edges, indices, positions) {\n  const $canvasContainer = document.createElement('div');\n  $wrapper.appendChild($canvasContainer);\n\n  const renderer = new Renderer({ targets: ['webgl2', 'webgl1'] });\n  const canvas = new Canvas({\n    container: $canvasContainer,\n    width: CANVAS_SIZE,\n    height: CANVAS_SIZE,\n    renderer,\n  });\n\n  // draw edges\n  for (let i = 0; i < indices.length - 1; i++) {\n    const x1 = positions[i * 2];\n    const y1 = positions[i * 2 + 1];\n\n    for (let j = indices[i]; j < indices[i + 1]; j++) {\n      const x2 = positions[edges[j] * 2];\n      const y2 = positions[edges[j] * 2 + 1];\n      canvas.appendChild(\n        new Line({\n          style: {\n            x1,\n            y1,\n            x2,\n            y2,\n            stroke: '#1890FF',\n            lineWidth: 1,\n          },\n        }),\n      );\n    }\n  }\n\n  // draw nodes\n  for (let i = 0; i < positions.length; i += 2) {\n    const x = positions[i];\n    const y = positions[i + 1];\n\n    canvas.appendChild(\n      new Circle({\n        style: {\n          x,\n          y,\n          r: 5,\n          fill: 'red',\n          stroke: 'blue',\n          lineWidth: 2,\n        },\n      }),\n    );\n  }\n}\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-gpgpu\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-gpgpu\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPluginGpgpu);\n    global.fruchterman = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPluginGpgpu) {\n  \"use strict\";\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  /**\n   * ported from https://nblintao.github.io/ParaGraphL/\n   * speed up ~100x(100ms vs 30s) compared with G6 @see https://g6.antv.vision/zh/examples/net/furchtermanLayout#fruchtermanWebWorker\n   *\n   * rewrite with WGSL(WebGPU Shader Language),\n   * use Compressed Sparse Row (CSR) for adjacency list\n   */\n  var MAX_ITERATION = 1000;\n  var CANVAS_SIZE = 600; // use WebGPU\n\n  var renderer = new _gWebgl.Renderer({\n    targets: ['webgpu']\n  });\n  renderer.registerPlugin(new _gPluginGpgpu.Plugin()); // create a canvas\n\n  var $wrapper = document.getElementById('container');\n  var $text = document.createElement('div');\n  $text.textContent = 'Please open the devtools, the shortest paths will be printed in console.';\n  $wrapper.appendChild($text);\n  var canvas = new _g.Canvas({\n    container: $wrapper,\n    width: 1,\n    height: 1,\n    renderer: renderer\n  });\n\n  (async function () {\n    await canvas.ready; // @see https://g6.antv.vision/en/examples/net/forceDirected/#basicForceDirected\n\n    var data = await (await fetch('https://gw.alipayobjects.com/os/basement_prod/7bacd7d1-4119-4ac1-8be3-4c4b9bcbc25f.json')).json();\n    var startTime = window.performance.now();\n    var center = [CANVAS_SIZE / 2, CANVAS_SIZE / 2]; // generate position of each node\n\n    var nodes = data.nodes.map(function (n) {\n      return {\n        x: Math.random() * CANVAS_SIZE,\n        y: Math.random() * CANVAS_SIZE,\n        id: n.id\n      };\n    });\n    var nodeNum = nodes.length;\n\n    var _generateCSR = generateCSR(nodes, data.edges),\n        _generateCSR2 = _slicedToArray(_generateCSR, 3),\n        edges = _generateCSR2[0],\n        indices = _generateCSR2[1],\n        positions = _generateCSR2[2];\n\n    var area = CANVAS_SIZE * CANVAS_SIZE;\n    var maxDisplace = Math.sqrt(area) / 10;\n    var k2 = area / (nodes.length + 1);\n    var k = Math.sqrt(k2);\n    var device = renderer.getDevice();\n    var kernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<i32>;\\n};\\nstruct PositionBuffer {\\n  data: array<vec2<f32>>;\\n};\\n@group(0) @binding(0) var<storage, read> edges : Buffer;\\n@group(0) @binding(1) var<storage, read> indices : Buffer;\\n@group(0) @binding(2) var<storage, read_write> positions : PositionBuffer;\\n\\nstruct Params {\\n  vertexNum: f32;\\n  k: f32;\\n  k2: f32;\\n  gravity: f32;\\n  speed: f32;\\n  maxDisplace: f32;\\n  center: vec2<f32>;\\n};\\n@group(0) @binding(3) var<uniform> params : Params;\\n\\nfn calc_repulsive(i: u32, current_node: vec2<f32>) -> vec2<f32> {\\n  var dx = 0.0;\\n  var dy = 0.0;\\n  for (var j = 0u; j < u32(params.vertexNum); j = j + 1u) {\\n    if (i != j) {\\n      var nextNode = positions.data[j];\\n      var x_dist = current_node[0] - nextNode[0];\\n      var y_dist = current_node[1] - nextNode[1];\\n      var dist = sqrt(x_dist * x_dist + y_dist * y_dist) + 0.01;\\n      if (dist > 0.0) {\\n        var repulsiveF = params.k2 / dist;\\n        dx = dx + x_dist / dist * repulsiveF;\\n        dy = dy + y_dist / dist * repulsiveF;\\n      }\\n    }\\n  }\\n  return vec2<f32>(dx, dy);\\n}\\n\\nfn calc_gravity(current_node: vec2<f32>) -> vec2<f32> {\\n  var dx = 0.0;\\n  var dy = 0.0;\\n  var vx = current_node[0] - params.center[0];\\n  var vy = current_node[1] - params.center[1];\\n  var gf = 0.01 * params.k * params.gravity;\\n  dx = gf * vx;\\n  dy = gf * vy;\\n\\n  return vec2<f32>(dx, dy);\\n}\\n\\nfn calc_attractive(i: u32, current_node: vec2<f32>) -> vec2<f32> {\\n  var dx = 0.0;\\n  var dy = 0.0;\\n\\n  for (var j = indices.data[i]; j < indices.data[i + 1u]; j = j + 1) {\\n    var next_node = positions.data[edges.data[j]];\\n    var x_dist = current_node[0] - next_node[0];\\n    var y_dist = current_node[1] - next_node[1];\\n    var dist = sqrt(x_dist * x_dist + y_dist * y_dist) + 0.01;\\n    var attractiveF = dist * dist / params.k;\\n    if (dist > 0.0) {\\n      dx = dx - x_dist / dist * attractiveF;\\n      dy = dy - y_dist / dist * attractiveF;\\n    }\\n  }\\n\\n  return vec2<f32>(dx, dy);\\n}\\n\\n@stage(compute) @workgroup_size(1, 1)\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>,\\n) {\\n  var i = global_id.x;\\n  if (i < u32(params.vertexNum)) {\\n    var current_node = positions.data[i];\\n    var dx = 0.0;\\n    var dy = 0.0;\\n\\n    // repulsive\\n    var repulsive = calc_repulsive(i, current_node);\\n    dx = dx + repulsive[0];\\n    dy = dy + repulsive[1];\\n\\n    // attractive\\n    var attractive = calc_attractive(i, current_node);\\n    dx = dx + attractive[0];\\n    dy = dy + attractive[1];\\n\\n    // gravity\\n    var gravity = calc_gravity(current_node);\\n    dx = dx - gravity[0];\\n    dy = dy - gravity[1];\\n\\n    // speed\\n    dx = dx * params.speed;\\n    dy = dy * params.speed;\\n\\n    // move\\n    var dist_length = sqrt(dx * dx + dy * dy);\\n    if (dist_length > 0.0) {\\n      var limited_dist = min(params.maxDisplace * params.speed, dist_length);\\n\\n      positions.data[i] = vec2<f32>(\\n        positions.data[i][0] + dx / dist_length * limited_dist,\\n        positions.data[i][1] + dy / dist_length * limited_dist,\\n      );\\n    }\\n  }\\n}\"\n    });\n    var readback = device.createReadback();\n    var edgesBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(edges)\n    });\n    var indicesBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Int32Array(indices)\n    });\n    var positionsBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Float32Array(positions)\n    });\n    var paramBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.UNIFORM | _gPluginGpgpu.BufferUsage.COPY_DST | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Float32Array([nodeNum, k, k2, 10, 0.1, maxDisplace, center[0], center[1]])\n    });\n    kernel.setBinding(0, edgesBuffer);\n    kernel.setBinding(1, indicesBuffer);\n    kernel.setBinding(2, positionsBuffer);\n    kernel.setBinding(3, paramBuffer);\n\n    for (var i = 0; i < MAX_ITERATION; i++) {\n      kernel.dispatch(nodeNum, 1); // update uniform\n\n      maxDisplace *= 0.99;\n      paramBuffer.setSubData(5 * 4, new Float32Array([maxDisplace]));\n    }\n\n    var result = await readback.readBuffer(positionsBuffer);\n    console.log(\"GPU Time Elapsed: \".concat(Number.parseFloat(window.performance.now() - startTime).toFixed(2), \"ms\"));\n    renderCircles(edges, indices, result);\n  })();\n\n  var generateCSR = function generateCSR(nodes, edges) {\n    var resultEdges = [];\n    var indices = [];\n    var positions = [];\n    var nodeDict = [];\n    var mapIdPos = {}; // { A: 0, B: 1, C: 2 }\n\n    var i = 0;\n\n    for (i = 0; i < nodes.length; i++) {\n      var _nodes$i = nodes[i],\n          id = _nodes$i.id,\n          x = _nodes$i.x,\n          y = _nodes$i.y;\n      mapIdPos[id] = i;\n      nodeDict.push([]);\n      positions.push(x, y);\n    }\n\n    for (i = 0; i < edges.length; i++) {\n      var e = edges[i];\n      nodeDict[mapIdPos[e.source]].push(mapIdPos[e.target]);\n      nodeDict[mapIdPos[e.target]].push(mapIdPos[e.source]);\n    }\n\n    for (i = 0; i < nodes.length; i++) {\n      var offset = resultEdges.length;\n      var dests = nodeDict[i];\n      var len = dests.length;\n      indices[i] = offset;\n\n      for (var j = 0; j < len; ++j) {\n        var dest = dests[j];\n        resultEdges.push(dest);\n      }\n    }\n\n    indices.push(resultEdges.length);\n    return [resultEdges, indices, positions];\n  };\n\n  function renderCircles(edges, indices, positions) {\n    var $canvasContainer = document.createElement('div');\n    $wrapper.appendChild($canvasContainer);\n    var renderer = new _gWebgl.Renderer({\n      targets: ['webgl2', 'webgl1']\n    });\n    var canvas = new _g.Canvas({\n      container: $canvasContainer,\n      width: CANVAS_SIZE,\n      height: CANVAS_SIZE,\n      renderer: renderer\n    }); // draw edges\n\n    for (var i = 0; i < indices.length - 1; i++) {\n      var x1 = positions[i * 2];\n      var y1 = positions[i * 2 + 1];\n\n      for (var j = indices[i]; j < indices[i + 1]; j++) {\n        var x2 = positions[edges[j] * 2];\n        var y2 = positions[edges[j] * 2 + 1];\n        canvas.appendChild(new _g.Line({\n          style: {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            stroke: '#1890FF',\n            lineWidth: 1\n          }\n        }));\n      }\n    } // draw nodes\n\n\n    for (var _i2 = 0; _i2 < positions.length; _i2 += 2) {\n      var x = positions[_i2];\n      var y = positions[_i2 + 1];\n      canvas.appendChild(new _g.Circle({\n        style: {\n          x: x,\n          y: y,\n          r: 5,\n          fill: 'red',\n          stroke: 'blue',\n          lineWidth: 2\n        }\n      }));\n    }\n  }\n});"},{"relativePath":"gpgpu/demo/matrix-multiplication.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/gpgpu/demo/matrix-multiplication.js","order":0,"filename":"matrix-multiplication.js","title":{"zh":"矩阵乘法","en":"Matrix multiplication"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { Plugin, Kernel, BufferUsage } from '@antv/g-plugin-gpgpu';\nimport * as lil from 'lil-gui';\n\n/**\n * ported from https://web.dev/gpu-compute/\n *\n * should run under WebGPU-supported browsers such as Chrome 94+\n */\n\nconst WORKGROUP_SIZE_X = 8;\nconst WORKGROUP_SIZE_Y = 8;\n\n// use WebGPU\nconst renderer = new Renderer({ targets: ['webgpu'] });\nrenderer.registerPlugin(new Plugin());\n\n// create a canvas\nconst $wrapper = document.getElementById('container');\nconst canvas = new Canvas({\n  container: $wrapper,\n  width: 1,\n  height: 1,\n  renderer,\n});\n\ncanvas.addEventListener(CanvasEvent.READY, () => {\n  const device = renderer.getDevice();\n\n  const kernel = new Kernel(device, {\n    computeShader: `\n  struct Matrix {\n    size : vec2<f32>;\n    numbers: array<f32>;\n  };\n  \n  @group(0) @binding(0) var<storage, read> firstMatrix : Matrix;\n  @group(0) @binding(1) var<storage, read> secondMatrix : Matrix;\n  @group(0) @binding(2) var<storage, write> resultMatrix : Matrix;\n  \n  @stage(compute) @workgroup_size(${WORKGROUP_SIZE_X}, ${WORKGROUP_SIZE_Y})\n  fn main(\n    @builtin(global_invocation_id) global_id : vec3<u32>\n  ) {\n    // Guard against out-of-bounds work group sizes\n    if (global_id.x >= u32(firstMatrix.size.x) || global_id.y >= u32(secondMatrix.size.y)) {\n      return;\n    }\n  \n    resultMatrix.size = vec2<f32>(firstMatrix.size.x, secondMatrix.size.y);\n  \n    let resultCell = vec2<u32>(global_id.x, global_id.y);\n    var result = 0.0;\n    for (var i = 0u; i < u32(firstMatrix.size.y); i = i + 1u) {\n      let a = i + resultCell.x * u32(firstMatrix.size.y);\n      let b = resultCell.y + i * u32(secondMatrix.size.y);\n      result = result + firstMatrix.numbers[a] * secondMatrix.numbers[b];\n    }\n  \n    let index = resultCell.y + resultCell.x * u32(secondMatrix.size.y);\n    resultMatrix.numbers[index] = result;\n  }`,\n  });\n\n  calc(\n    kernel,\n    device,\n    new Float32Array([2 /* rows */, 4 /* columns */, 1, 2, 3, 4, 5, 6, 7, 8]),\n    new Float32Array([4 /* rows */, 2 /* columns */, 1, 2, 3, 4, 5, 6, 7, 8]),\n  );\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n  const folder = gui.addFolder('matrix size');\n  const config = {\n    size: 32,\n  };\n  folder.add(config, 'size', [32, 64, 128, 256, 512, 1024]).onChange((size) => {\n    const first = new Float32Array([size, size].concat(new Array(size * size).fill(Math.random())));\n    const second = new Float32Array(\n      [size, size].concat(new Array(size * size).fill(Math.random())),\n    );\n    calc(kernel, device, first, second);\n  });\n  folder.open();\n});\n\nconst cpuMultiplication = (firstMatrix, secondMatrix, $div) => {\n  const startTime = window.performance.now();\n\n  const x = firstMatrix[0];\n  const z = firstMatrix[1];\n  const y = secondMatrix[1];\n\n  const resultMatrix = new Float32Array(firstMatrix[0] * secondMatrix[1]);\n\n  let productRow = Array.apply(null, new Array(y)).map(Number.prototype.valueOf, 0);\n  let product = new Array(x);\n  for (let p = 0; p < x; p++) {\n    product[p] = productRow.slice();\n  }\n  for (let i = 0; i < x; i++) {\n    for (let j = 0; j < y; j++) {\n      for (let k = 0; k < z; k++) {\n        product[i][j] += firstMatrix[i * x + k] * secondMatrix[k * y + j];\n      }\n    }\n  }\n\n  const elapsed = window.performance.now() - startTime;\n  setCPUTimeElapsed(elapsed, $div);\n\n  return elapsed;\n};\n\nconst gpuMultiplication = async (kernel, device, firstMatrix, secondMatrix, $div) => {\n  let startTime = window.performance.now();\n  const x = Math.ceil(firstMatrix[0] / WORKGROUP_SIZE_X); // X dimension of the grid of workgroups to dispatch.\n  const y = Math.ceil(secondMatrix[1] / WORKGROUP_SIZE_Y); // Y dimension of the grid of workgroups to dispatch.\n  const resultMatrixBufferSize = 2 + firstMatrix[0] * secondMatrix[1];\n  const resultMatrix = new Float32Array(resultMatrixBufferSize);\n\n  const firstMatrixBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: firstMatrix,\n  });\n  const secondMatrixBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: secondMatrix,\n  });\n  const resultBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: resultMatrix,\n  });\n  const readback = device.createReadback();\n\n  kernel.setBinding(0, firstMatrixBuffer);\n  kernel.setBinding(1, secondMatrixBuffer);\n  kernel.setBinding(2, resultBuffer);\n  kernel.dispatch(x, y);\n\n  await readback.readBuffer(resultBuffer);\n  const elapsed = window.performance.now() - startTime;\n\n  setGPUTimeElapsed(elapsed, $div);\n\n  // output\n  console.log(resultMatrix);\n  return elapsed;\n};\n\nconst calc = async (kernel, device, firstMatrix, secondMatrix) => {\n  const $div = document.createElement('div');\n  $div.textContent = `Matrix size: ${firstMatrix[0]} * ${firstMatrix[1]}`;\n  $wrapper.appendChild($div);\n\n  const cpuTimeElapsed = cpuMultiplication(firstMatrix, secondMatrix, $div);\n  const gpuTimeElapsed = await gpuMultiplication(kernel, device, firstMatrix, secondMatrix, $div);\n  const speedUp = Number.parseFloat(cpuTimeElapsed / gpuTimeElapsed).toFixed(1);\n\n  const $speedUp = document.createElement('div');\n  $speedUp.textContent = `SpeedUp: ${speedUp}x`;\n  $speedUp.style = 'font-weight: bold; margin-bottom: 16px;';\n  $wrapper.appendChild($speedUp);\n};\n\nconst setCPUTimeElapsed = (time, $div) => {\n  const $cpu = document.createElement('div');\n  $cpu.textContent = `CPU Time Elapsed: ${Number.parseFloat(time).toFixed(2)}ms`;\n  $div.appendChild($cpu);\n};\nconst setGPUTimeElapsed = (time, $div) => {\n  const $gpu = document.createElement('div');\n  $gpu.textContent = `GPU Time Elapsed: ${Number.parseFloat(time).toFixed(2)}ms`;\n  $div.appendChild($gpu);\n};\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-gpgpu\", \"lil-gui\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-gpgpu\"), require(\"lil-gui\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPluginGpgpu, global.lilGui);\n    global.matrixMultiplication = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPluginGpgpu, lil) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * ported from https://web.dev/gpu-compute/\n   *\n   * should run under WebGPU-supported browsers such as Chrome 94+\n   */\n  var WORKGROUP_SIZE_X = 8;\n  var WORKGROUP_SIZE_Y = 8; // use WebGPU\n\n  var renderer = new _gWebgl.Renderer({\n    targets: ['webgpu']\n  });\n  renderer.registerPlugin(new _gPluginGpgpu.Plugin()); // create a canvas\n\n  var $wrapper = document.getElementById('container');\n  var canvas = new _g.Canvas({\n    container: $wrapper,\n    width: 1,\n    height: 1,\n    renderer: renderer\n  });\n  canvas.addEventListener(_g.CanvasEvent.READY, function () {\n    var device = renderer.getDevice();\n    var kernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\n  struct Matrix {\\n    size : vec2<f32>;\\n    numbers: array<f32>;\\n  };\\n  \\n  @group(0) @binding(0) var<storage, read> firstMatrix : Matrix;\\n  @group(0) @binding(1) var<storage, read> secondMatrix : Matrix;\\n  @group(0) @binding(2) var<storage, write> resultMatrix : Matrix;\\n  \\n  @stage(compute) @workgroup_size(\".concat(WORKGROUP_SIZE_X, \", \").concat(WORKGROUP_SIZE_Y, \")\\n  fn main(\\n    @builtin(global_invocation_id) global_id : vec3<u32>\\n  ) {\\n    // Guard against out-of-bounds work group sizes\\n    if (global_id.x >= u32(firstMatrix.size.x) || global_id.y >= u32(secondMatrix.size.y)) {\\n      return;\\n    }\\n  \\n    resultMatrix.size = vec2<f32>(firstMatrix.size.x, secondMatrix.size.y);\\n  \\n    let resultCell = vec2<u32>(global_id.x, global_id.y);\\n    var result = 0.0;\\n    for (var i = 0u; i < u32(firstMatrix.size.y); i = i + 1u) {\\n      let a = i + resultCell.x * u32(firstMatrix.size.y);\\n      let b = resultCell.y + i * u32(secondMatrix.size.y);\\n      result = result + firstMatrix.numbers[a] * secondMatrix.numbers[b];\\n    }\\n  \\n    let index = resultCell.y + resultCell.x * u32(secondMatrix.size.y);\\n    resultMatrix.numbers[index] = result;\\n  }\")\n    });\n    calc(kernel, device, new Float32Array([2\n    /* rows */\n    , 4\n    /* columns */\n    , 1, 2, 3, 4, 5, 6, 7, 8]), new Float32Array([4\n    /* rows */\n    , 2\n    /* columns */\n    , 1, 2, 3, 4, 5, 6, 7, 8])); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n    var folder = gui.addFolder('matrix size');\n    var config = {\n      size: 32\n    };\n    folder.add(config, 'size', [32, 64, 128, 256, 512, 1024]).onChange(function (size) {\n      var first = new Float32Array([size, size].concat(new Array(size * size).fill(Math.random())));\n      var second = new Float32Array([size, size].concat(new Array(size * size).fill(Math.random())));\n      calc(kernel, device, first, second);\n    });\n    folder.open();\n  });\n\n  var cpuMultiplication = function cpuMultiplication(firstMatrix, secondMatrix, $div) {\n    var startTime = window.performance.now();\n    var x = firstMatrix[0];\n    var z = firstMatrix[1];\n    var y = secondMatrix[1];\n    var resultMatrix = new Float32Array(firstMatrix[0] * secondMatrix[1]);\n    var productRow = Array.apply(null, new Array(y)).map(Number.prototype.valueOf, 0);\n    var product = new Array(x);\n\n    for (var p = 0; p < x; p++) {\n      product[p] = productRow.slice();\n    }\n\n    for (var i = 0; i < x; i++) {\n      for (var j = 0; j < y; j++) {\n        for (var k = 0; k < z; k++) {\n          product[i][j] += firstMatrix[i * x + k] * secondMatrix[k * y + j];\n        }\n      }\n    }\n\n    var elapsed = window.performance.now() - startTime;\n    setCPUTimeElapsed(elapsed, $div);\n    return elapsed;\n  };\n\n  var gpuMultiplication = async function gpuMultiplication(kernel, device, firstMatrix, secondMatrix, $div) {\n    var startTime = window.performance.now();\n    var x = Math.ceil(firstMatrix[0] / WORKGROUP_SIZE_X); // X dimension of the grid of workgroups to dispatch.\n\n    var y = Math.ceil(secondMatrix[1] / WORKGROUP_SIZE_Y); // Y dimension of the grid of workgroups to dispatch.\n\n    var resultMatrixBufferSize = 2 + firstMatrix[0] * secondMatrix[1];\n    var resultMatrix = new Float32Array(resultMatrixBufferSize);\n    var firstMatrixBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: firstMatrix\n    });\n    var secondMatrixBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: secondMatrix\n    });\n    var resultBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: resultMatrix\n    });\n    var readback = device.createReadback();\n    kernel.setBinding(0, firstMatrixBuffer);\n    kernel.setBinding(1, secondMatrixBuffer);\n    kernel.setBinding(2, resultBuffer);\n    kernel.dispatch(x, y);\n    await readback.readBuffer(resultBuffer);\n    var elapsed = window.performance.now() - startTime;\n    setGPUTimeElapsed(elapsed, $div); // output\n\n    console.log(resultMatrix);\n    return elapsed;\n  };\n\n  var calc = async function calc(kernel, device, firstMatrix, secondMatrix) {\n    var $div = document.createElement('div');\n    $div.textContent = \"Matrix size: \".concat(firstMatrix[0], \" * \").concat(firstMatrix[1]);\n    $wrapper.appendChild($div);\n    var cpuTimeElapsed = cpuMultiplication(firstMatrix, secondMatrix, $div);\n    var gpuTimeElapsed = await gpuMultiplication(kernel, device, firstMatrix, secondMatrix, $div);\n    var speedUp = Number.parseFloat(cpuTimeElapsed / gpuTimeElapsed).toFixed(1);\n    var $speedUp = document.createElement('div');\n    $speedUp.textContent = \"SpeedUp: \".concat(speedUp, \"x\");\n    $speedUp.style = 'font-weight: bold; margin-bottom: 16px;';\n    $wrapper.appendChild($speedUp);\n  };\n\n  var setCPUTimeElapsed = function setCPUTimeElapsed(time, $div) {\n    var $cpu = document.createElement('div');\n    $cpu.textContent = \"CPU Time Elapsed: \".concat(Number.parseFloat(time).toFixed(2), \"ms\");\n    $div.appendChild($cpu);\n  };\n\n  var setGPUTimeElapsed = function setGPUTimeElapsed(time, $div) {\n    var $gpu = document.createElement('div');\n    $gpu.textContent = \"GPU Time Elapsed: \".concat(Number.parseFloat(time).toFixed(2), \"ms\");\n    $div.appendChild($gpu);\n  };\n});"},{"relativePath":"gpgpu/demo/pagerank-big-dataset.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/gpgpu/demo/pagerank-big-dataset.js","order":5,"filename":"pagerank-big-dataset.js","title":{"zh":"Pagerank 算法（1k 节点 50w 边）","en":"Pagerank(1k vertices & 50w edges)"},"source":"import { Algorithm } from '@antv/g6';\nimport { Canvas } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { Plugin, Kernel, BufferUsage } from '@antv/g-plugin-gpgpu';\n\n/**\n * Pagerank with power method, ported from CUDA\n * @see https://github.com/princeofpython/PageRank-with-CUDA/blob/main/parallel.cu\n *\n * compared with G6:\n * @see https://g6.antv.vision/zh/docs/api/Algorithm#pagerank\n *\n * dataset: 1k vertices & 50w edges\n * @see https://github.com/sengorajkumar/gpu_graph_algorithms/tree/master/input\n */\n\nconst $wrapper = document.getElementById('container');\n(async () => {\n  // load & parse TXT datasets\n  const res = await fetch(\n    'https://gw.alipayobjects.com/os/bmw-prod/b2e21724-d8b7-415d-9fea-9b41b21410b8.txt',\n  );\n  const text = await res.text();\n  let V = [];\n  const From = [];\n  const To = [];\n  text.split('\\n').forEach((line, i) => {\n    if (i === 0) {\n      const [vertices] = line.split(' ');\n      V = new Array(Number(vertices)).fill(undefined).map((_, i) => i);\n    } else {\n      const [from, to] = line.split(' ');\n      From.push(Number(from));\n      To.push(Number(to));\n    }\n  });\n\n  // use G6's `pagerank` method\n  let startTime = window.performance.now();\n  let topNodes = calculateInCPU(V, From, To);\n  showResult('CPU', startTime, window.performance.now(), topNodes);\n\n  // use Compute Shader with WebGPU\n  startTime = window.performance.now();\n  topNodes = await calculateInGPU(V, From, To);\n  showResult('GPU', startTime, window.performance.now(), topNodes);\n})();\n\n// calculate with G6's pagerank in CPU\nconst calculateInCPU = (V, From, To) => {\n  const { pageRank } = Algorithm;\n  const data = {\n    nodes: V.map((v) => ({\n      id: `${v}`,\n      label: `${v}`,\n    })),\n    edges: From.map((from, i) => ({\n      source: `${from}`,\n      target: `${To[i]}`,\n    })),\n  };\n\n  const result = pageRank(data);\n  return Object.keys(result)\n    .map((key) => ({ id: Number(key), value: result[key] }))\n    .sort((a, b) => b.value - a.value);\n};\n\n// we use 3 kernels\nconst calculateInGPU = async (V, From, To) => {\n  // The total number of workgroup invocations (4096) exceeds the maximum allowed (256).\n  const BLOCK_SIZE = 1;\n  const BLOCKS = 256;\n  const CANVAS_SIZE = 1;\n  const d = 0.85;\n  const eps = 0.000001;\n  let maxIteration = 1000;\n\n  // use WebGPU\n  const renderer = new Renderer({ targets: ['webgpu'] });\n  renderer.registerPlugin(new Plugin());\n\n  // create a canvas\n  const canvas = new Canvas({\n    container: $wrapper,\n    width: CANVAS_SIZE,\n    height: CANVAS_SIZE,\n    renderer,\n  });\n\n  // wait for canvas' services ready\n  await canvas.ready;\n\n  const device = renderer.getDevice();\n  const n = V.length;\n  const graph = new Float32Array(new Array(n * n).fill((1 - d) / n));\n  const r = new Float32Array(new Array(n).fill(1 / n));\n\n  From.forEach((from, i) => {\n    graph[To[i] * n + from] += d * 1.0;\n  });\n\n  for (let j = 0; j < n; j++) {\n    let sum = 0.0;\n\n    for (let i = 0; i < n; ++i) {\n      sum += graph[i * n + j];\n    }\n\n    for (let i = 0; i < n; ++i) {\n      if (sum != 0.0) {\n        graph[i * n + j] /= sum;\n      } else {\n        graph[i * n + j] = 1 / n;\n      }\n    }\n  }\n\n  const storeKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<f32>;\n};\n\n@group(0) @binding(0) var<storage, read> r : Buffer;\n@group(0) @binding(1) var<storage, write> r_last : Buffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    r_last.data[index] = r.data[index];\n  }\n}`,\n  });\n\n  const matmulKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<f32>;\n};\n\n@group(0) @binding(0) var<storage, read> graph : Buffer;\n@group(0) @binding(1) var<storage, read_write> r : Buffer;\n@group(0) @binding(2) var<storage, read> r_last : Buffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    var sum = 0.0;\n    for (var i = 0u; i < ${V.length}u; i = i + 1u) {\n      sum = sum + r_last.data[i] * graph.data[index * ${V.length}u + i];\n    }\n    r.data[index] = sum;\n  }\n}\n    `,\n  });\n\n  const rankDiffKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<f32>;\n};\n\n@group(0) @binding(0) var<storage, read> r : Buffer;\n@group(0) @binding(1) var<storage, read_write> r_last : Buffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    r_last.data[index] = abs(r_last.data[index] - r.data[index]);\n  }\n}    \n    `,\n  });\n\n  const rBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Float32Array(r),\n  });\n  const rLastBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Float32Array(n),\n  });\n  const graphBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Float32Array(graph),\n  });\n\n  const readback = device.createReadback();\n\n  storeKernel.setBinding(0, rBuffer);\n  storeKernel.setBinding(1, rLastBuffer);\n\n  matmulKernel.setBinding(0, graphBuffer);\n  matmulKernel.setBinding(1, rBuffer);\n  matmulKernel.setBinding(2, rLastBuffer);\n\n  rankDiffKernel.setBinding(0, rBuffer);\n  rankDiffKernel.setBinding(1, rLastBuffer);\n\n  const grids = Math.ceil(V.length / (BLOCKS * BLOCK_SIZE));\n\n  while (maxIteration--) {\n    storeKernel.dispatch(grids, 1);\n    matmulKernel.dispatch(grids, 1);\n    rankDiffKernel.dispatch(grids, 1);\n\n    const last = await readback.readBuffer(rLastBuffer);\n    const result = last.reduce((prev, cur) => prev + cur, 0);\n    if (result < eps) {\n      const out = await readback.readBuffer(rBuffer);\n\n      return Array.from(out)\n        .map((value, id) => ({ id, value }))\n        .sort((a, b) => b.value - a.value);\n    }\n  }\n};\n\nconst $text = document.createElement('div');\n$text.textContent = 'Please open the devtools, the top nodes will be printed in console.';\n$wrapper.appendChild($text);\n\nconst showResult = (label, startTime, endTime, topNodes) => {\n  const $cpu = document.createElement('div');\n  $cpu.textContent = `${label} Time Elapsed: ${Number.parseFloat(endTime - startTime).toFixed(\n    2,\n  )}ms`;\n  $wrapper.appendChild($cpu);\n  // print top nodes\n  console.log(topNodes);\n};\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g6\", \"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-gpgpu\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g6\"), require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-gpgpu\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g6, global.g, global.gWebgl, global.gPluginGpgpu);\n    global.pagerankBigDataset = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _g2, _gWebgl, _gPluginGpgpu) {\n  \"use strict\";\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  /**\n   * Pagerank with power method, ported from CUDA\n   * @see https://github.com/princeofpython/PageRank-with-CUDA/blob/main/parallel.cu\n   *\n   * compared with G6:\n   * @see https://g6.antv.vision/zh/docs/api/Algorithm#pagerank\n   *\n   * dataset: 1k vertices & 50w edges\n   * @see https://github.com/sengorajkumar/gpu_graph_algorithms/tree/master/input\n   */\n  var $wrapper = document.getElementById('container');\n\n  (async function () {\n    // load & parse TXT datasets\n    var res = await fetch('https://gw.alipayobjects.com/os/bmw-prod/b2e21724-d8b7-415d-9fea-9b41b21410b8.txt');\n    var text = await res.text();\n    var V = [];\n    var From = [];\n    var To = [];\n    text.split('\\n').forEach(function (line, i) {\n      if (i === 0) {\n        var _line$split = line.split(' '),\n            _line$split2 = _slicedToArray(_line$split, 1),\n            vertices = _line$split2[0];\n\n        V = new Array(Number(vertices)).fill(undefined).map(function (_, i) {\n          return i;\n        });\n      } else {\n        var _line$split3 = line.split(' '),\n            _line$split4 = _slicedToArray(_line$split3, 2),\n            from = _line$split4[0],\n            to = _line$split4[1];\n\n        From.push(Number(from));\n        To.push(Number(to));\n      }\n    }); // use G6's `pagerank` method\n\n    var startTime = window.performance.now();\n    var topNodes = calculateInCPU(V, From, To);\n    showResult('CPU', startTime, window.performance.now(), topNodes); // use Compute Shader with WebGPU\n\n    startTime = window.performance.now();\n    topNodes = await calculateInGPU(V, From, To);\n    showResult('GPU', startTime, window.performance.now(), topNodes);\n  })(); // calculate with G6's pagerank in CPU\n\n\n  var calculateInCPU = function calculateInCPU(V, From, To) {\n    var pageRank = _g.Algorithm.pageRank;\n    var data = {\n      nodes: V.map(function (v) {\n        return {\n          id: \"\".concat(v),\n          label: \"\".concat(v)\n        };\n      }),\n      edges: From.map(function (from, i) {\n        return {\n          source: \"\".concat(from),\n          target: \"\".concat(To[i])\n        };\n      })\n    };\n    var result = pageRank(data);\n    return Object.keys(result).map(function (key) {\n      return {\n        id: Number(key),\n        value: result[key]\n      };\n    }).sort(function (a, b) {\n      return b.value - a.value;\n    });\n  }; // we use 3 kernels\n\n\n  var calculateInGPU = async function calculateInGPU(V, From, To) {\n    // The total number of workgroup invocations (4096) exceeds the maximum allowed (256).\n    var BLOCK_SIZE = 1;\n    var BLOCKS = 256;\n    var CANVAS_SIZE = 1;\n    var d = 0.85;\n    var eps = 0.000001;\n    var maxIteration = 1000; // use WebGPU\n\n    var renderer = new _gWebgl.Renderer({\n      targets: ['webgpu']\n    });\n    renderer.registerPlugin(new _gPluginGpgpu.Plugin()); // create a canvas\n\n    var canvas = new _g2.Canvas({\n      container: $wrapper,\n      width: CANVAS_SIZE,\n      height: CANVAS_SIZE,\n      renderer: renderer\n    }); // wait for canvas' services ready\n\n    await canvas.ready;\n    var device = renderer.getDevice();\n    var n = V.length;\n    var graph = new Float32Array(new Array(n * n).fill((1 - d) / n));\n    var r = new Float32Array(new Array(n).fill(1 / n));\n    From.forEach(function (from, i) {\n      graph[To[i] * n + from] += d * 1.0;\n    });\n\n    for (var j = 0; j < n; j++) {\n      var sum = 0.0;\n\n      for (var i = 0; i < n; ++i) {\n        sum += graph[i * n + j];\n      }\n\n      for (var _i2 = 0; _i2 < n; ++_i2) {\n        if (sum != 0.0) {\n          graph[_i2 * n + j] /= sum;\n        } else {\n          graph[_i2 * n + j] = 1 / n;\n        }\n      }\n    }\n\n    var storeKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<f32>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> r : Buffer;\\n@group(0) @binding(1) var<storage, write> r_last : Buffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    r_last.data[index] = r.data[index];\\n  }\\n}\")\n    });\n    var matmulKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<f32>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> graph : Buffer;\\n@group(0) @binding(1) var<storage, read_write> r : Buffer;\\n@group(0) @binding(2) var<storage, read> r_last : Buffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    var sum = 0.0;\\n    for (var i = 0u; i < \").concat(V.length, \"u; i = i + 1u) {\\n      sum = sum + r_last.data[i] * graph.data[index * \").concat(V.length, \"u + i];\\n    }\\n    r.data[index] = sum;\\n  }\\n}\\n    \")\n    });\n    var rankDiffKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<f32>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> r : Buffer;\\n@group(0) @binding(1) var<storage, read_write> r_last : Buffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    r_last.data[index] = abs(r_last.data[index] - r.data[index]);\\n  }\\n}    \\n    \")\n    });\n    var rBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Float32Array(r)\n    });\n    var rLastBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Float32Array(n)\n    });\n    var graphBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Float32Array(graph)\n    });\n    var readback = device.createReadback();\n    storeKernel.setBinding(0, rBuffer);\n    storeKernel.setBinding(1, rLastBuffer);\n    matmulKernel.setBinding(0, graphBuffer);\n    matmulKernel.setBinding(1, rBuffer);\n    matmulKernel.setBinding(2, rLastBuffer);\n    rankDiffKernel.setBinding(0, rBuffer);\n    rankDiffKernel.setBinding(1, rLastBuffer);\n    var grids = Math.ceil(V.length / (BLOCKS * BLOCK_SIZE));\n\n    while (maxIteration--) {\n      storeKernel.dispatch(grids, 1);\n      matmulKernel.dispatch(grids, 1);\n      rankDiffKernel.dispatch(grids, 1);\n      var last = await readback.readBuffer(rLastBuffer);\n      var result = last.reduce(function (prev, cur) {\n        return prev + cur;\n      }, 0);\n\n      if (result < eps) {\n        var out = await readback.readBuffer(rBuffer);\n        return Array.from(out).map(function (value, id) {\n          return {\n            id: id,\n            value: value\n          };\n        }).sort(function (a, b) {\n          return b.value - a.value;\n        });\n      }\n    }\n  };\n\n  var $text = document.createElement('div');\n  $text.textContent = 'Please open the devtools, the top nodes will be printed in console.';\n  $wrapper.appendChild($text);\n\n  var showResult = function showResult(label, startTime, endTime, topNodes) {\n    var $cpu = document.createElement('div');\n    $cpu.textContent = \"\".concat(label, \" Time Elapsed: \").concat(Number.parseFloat(endTime - startTime).toFixed(2), \"ms\");\n    $wrapper.appendChild($cpu); // print top nodes\n\n    console.log(topNodes);\n  };\n});"},{"relativePath":"gpgpu/demo/pagerank.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/gpgpu/demo/pagerank.js","order":4,"filename":"pagerank.js","title":{"zh":"Pagerank 算法","en":"Pagerank"},"source":"import { Algorithm } from '@antv/g6';\nimport { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { Plugin, Kernel, BufferUsage } from '@antv/g-plugin-gpgpu';\n\n/**\n * Pagerank with power method, ported from CUDA\n * @see https://github.com/princeofpython/PageRank-with-CUDA/blob/main/parallel.cu\n *\n * compared with G6:\n * @see https://g6.antv.vision/zh/docs/api/Algorithm#pagerank\n */\n\n/**\n * use Compressed Sparse Row (CSR) for adjacency list\n */\n// datasource: https://github.com/sengorajkumar/gpu_graph_algorithms/blob/master/input/simple.gr_E.csv\nconst V = [0, 1, 2, 3, 4];\nconst E = [1, 2, 2, 3, 4, 3, 4, 1, 3];\nconst I = [0, 2, 5, 7, 8, 10];\nconst W = [9, 4, 10, 2, 3, 2, 11, 2, 2];\nconst From = [0, 0, 1, 1, 1, 2, 2, 3, 4];\nconst To = [1, 2, 2, 3, 4, 3, 4, 1, 3];\nconst BLOCK_SIZE = 1;\nconst BLOCKS = 5;\n\nconst CANVAS_SIZE = 1;\n\nconst $wrapper = document.getElementById('container');\nconst $text = document.createElement('div');\n$text.textContent = 'Please open the devtools, the top nodes will be printed in console.';\n$wrapper.appendChild($text);\n\n// use WebGPU\nconst renderer = new Renderer({ targets: ['webgpu'] });\nrenderer.registerPlugin(new Plugin());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: $wrapper,\n  width: CANVAS_SIZE,\n  height: CANVAS_SIZE,\n  renderer,\n});\n\ncanvas.addEventListener(CanvasEvent.READY, () => {\n  const device = renderer.getDevice();\n  const storeKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<f32>;\n};\n\n@group(0) @binding(0) var<storage, read> r : Buffer;\n@group(0) @binding(1) var<storage, write> r_last : Buffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    r_last.data[index] = r.data[index];\n  }\n}`,\n  });\n\n  const matmulKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<f32>;\n};\n\n@group(0) @binding(0) var<storage, read> graph : Buffer;\n@group(0) @binding(1) var<storage, read_write> r : Buffer;\n@group(0) @binding(2) var<storage, read> r_last : Buffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    var sum = 0.0;\n    for (var i = 0u; i < ${V.length}u; i = i + 1u) {\n      sum = sum + r_last.data[i] * graph.data[index * ${V.length}u + i];\n    }\n    r.data[index] = sum;\n  }\n}\n    `,\n  });\n\n  const rankDiffKernel = new Kernel(device, {\n    computeShader: `\nstruct Buffer {\n  data: array<f32>;\n};\n\n@group(0) @binding(0) var<storage, read> r : Buffer;\n@group(0) @binding(1) var<storage, read_write> r_last : Buffer;\n\n@stage(compute) @workgroup_size(${BLOCKS}, ${BLOCK_SIZE})\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>\n) {\n  var index = global_id.x;\n  if (index < ${V.length}u) {\n    r_last.data[index] = abs(r_last.data[index] - r.data[index]);\n  }\n}    \n    `,\n  });\n\n  pageRankGPU(device, storeKernel, matmulKernel, rankDiffKernel);\n});\n\nconst pageRankGPU = async (device, storeKernel, matmulKernel, rankDiffKernel) => {\n  const d = 0.85;\n  const eps = 0.000001;\n  let maxIteration = 1000;\n  const n = V.length;\n  const graph = new Float32Array(new Array(n * n).fill((1 - d) / n));\n  const r = new Float32Array(new Array(n).fill(1 / n));\n\n  From.forEach((from, i) => {\n    graph[To[i] * n + from] += d * 1.0;\n  });\n\n  for (let j = 0; j < n; j++) {\n    let sum = 0.0;\n\n    for (let i = 0; i < n; ++i) {\n      sum += graph[i * n + j];\n    }\n\n    for (let i = 0; i < n; ++i) {\n      if (sum != 0.0) {\n        graph[i * n + j] /= sum;\n      } else {\n        graph[i * n + j] = 1 / n;\n      }\n    }\n  }\n\n  const rBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Float32Array(r),\n  });\n  const rLastBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: new Float32Array(n),\n  });\n  const graphBuffer = device.createBuffer({\n    usage: BufferUsage.STORAGE,\n    viewOrSize: new Float32Array(graph),\n  });\n\n  const readback = device.createReadback();\n\n  storeKernel.setBinding(0, rBuffer);\n  storeKernel.setBinding(1, rLastBuffer);\n\n  matmulKernel.setBinding(0, graphBuffer);\n  matmulKernel.setBinding(1, rBuffer);\n  matmulKernel.setBinding(2, rLastBuffer);\n\n  rankDiffKernel.setBinding(0, rBuffer);\n  rankDiffKernel.setBinding(1, rLastBuffer);\n\n  const startTime = window.performance.now();\n  while (maxIteration--) {\n    storeKernel.dispatch(1, 1);\n\n    matmulKernel.dispatch(1, 1);\n\n    rankDiffKernel.dispatch(1, 1);\n\n    const last = await readback.readBuffer(rLastBuffer);\n    const result = last.reduce((prev, cur) => prev + cur, 0);\n    if (result < eps) {\n      const out = await readback.readBuffer(rBuffer);\n      console.log(out);\n      break;\n    }\n  }\n\n  console.log(`GPU Time Elapsed: ${window.performance.now() - startTime}ms`);\n};\n\nconst { pageRank } = Algorithm;\nconst data = {\n  nodes: [\n    {\n      id: 'A',\n      label: 'A',\n    },\n    {\n      id: 'B',\n      label: 'B',\n    },\n    {\n      id: 'C',\n      label: 'C',\n    },\n    {\n      id: 'D',\n      label: 'D',\n    },\n    {\n      id: 'E',\n      label: 'E',\n    },\n  ],\n  edges: [\n    {\n      source: 'A',\n      target: 'B',\n    },\n    {\n      source: 'A',\n      target: 'C',\n    },\n    {\n      source: 'B',\n      target: 'C',\n    },\n    {\n      source: 'B',\n      target: 'D',\n    },\n    {\n      source: 'B',\n      target: 'E',\n    },\n    {\n      source: 'C',\n      target: 'D',\n    },\n    {\n      source: 'C',\n      target: 'E',\n    },\n    {\n      source: 'D',\n      target: 'B',\n    },\n    {\n      source: 'E',\n      target: 'D',\n    },\n  ],\n};\n\nconst startTime = window.performance.now();\nconst result = pageRank(data);\nconsole.log(result);\nconsole.log(`CPU Time Elapsed: ${window.performance.now() - startTime}ms`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g6\", \"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-gpgpu\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g6\"), require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-gpgpu\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g6, global.g, global.gWebgl, global.gPluginGpgpu);\n    global.pagerank = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _g2, _gWebgl, _gPluginGpgpu) {\n  \"use strict\";\n\n  /**\n   * Pagerank with power method, ported from CUDA\n   * @see https://github.com/princeofpython/PageRank-with-CUDA/blob/main/parallel.cu\n   *\n   * compared with G6:\n   * @see https://g6.antv.vision/zh/docs/api/Algorithm#pagerank\n   */\n\n  /**\n   * use Compressed Sparse Row (CSR) for adjacency list\n   */\n  // datasource: https://github.com/sengorajkumar/gpu_graph_algorithms/blob/master/input/simple.gr_E.csv\n  var V = [0, 1, 2, 3, 4];\n  var E = [1, 2, 2, 3, 4, 3, 4, 1, 3];\n  var I = [0, 2, 5, 7, 8, 10];\n  var W = [9, 4, 10, 2, 3, 2, 11, 2, 2];\n  var From = [0, 0, 1, 1, 1, 2, 2, 3, 4];\n  var To = [1, 2, 2, 3, 4, 3, 4, 1, 3];\n  var BLOCK_SIZE = 1;\n  var BLOCKS = 5;\n  var CANVAS_SIZE = 1;\n  var $wrapper = document.getElementById('container');\n  var $text = document.createElement('div');\n  $text.textContent = 'Please open the devtools, the top nodes will be printed in console.';\n  $wrapper.appendChild($text); // use WebGPU\n\n  var renderer = new _gWebgl.Renderer({\n    targets: ['webgpu']\n  });\n  renderer.registerPlugin(new _gPluginGpgpu.Plugin()); // create a canvas\n\n  var canvas = new _g2.Canvas({\n    container: $wrapper,\n    width: CANVAS_SIZE,\n    height: CANVAS_SIZE,\n    renderer: renderer\n  });\n  canvas.addEventListener(_g2.CanvasEvent.READY, function () {\n    var device = renderer.getDevice();\n    var storeKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<f32>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> r : Buffer;\\n@group(0) @binding(1) var<storage, write> r_last : Buffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    r_last.data[index] = r.data[index];\\n  }\\n}\")\n    });\n    var matmulKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<f32>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> graph : Buffer;\\n@group(0) @binding(1) var<storage, read_write> r : Buffer;\\n@group(0) @binding(2) var<storage, read> r_last : Buffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    var sum = 0.0;\\n    for (var i = 0u; i < \").concat(V.length, \"u; i = i + 1u) {\\n      sum = sum + r_last.data[i] * graph.data[index * \").concat(V.length, \"u + i];\\n    }\\n    r.data[index] = sum;\\n  }\\n}\\n    \")\n    });\n    var rankDiffKernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Buffer {\\n  data: array<f32>;\\n};\\n\\n@group(0) @binding(0) var<storage, read> r : Buffer;\\n@group(0) @binding(1) var<storage, read_write> r_last : Buffer;\\n\\n@stage(compute) @workgroup_size(\".concat(BLOCKS, \", \").concat(BLOCK_SIZE, \")\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>\\n) {\\n  var index = global_id.x;\\n  if (index < \").concat(V.length, \"u) {\\n    r_last.data[index] = abs(r_last.data[index] - r.data[index]);\\n  }\\n}    \\n    \")\n    });\n    pageRankGPU(device, storeKernel, matmulKernel, rankDiffKernel);\n  });\n\n  var pageRankGPU = async function pageRankGPU(device, storeKernel, matmulKernel, rankDiffKernel) {\n    var d = 0.85;\n    var eps = 0.000001;\n    var maxIteration = 1000;\n    var n = V.length;\n    var graph = new Float32Array(new Array(n * n).fill((1 - d) / n));\n    var r = new Float32Array(new Array(n).fill(1 / n));\n    From.forEach(function (from, i) {\n      graph[To[i] * n + from] += d * 1.0;\n    });\n\n    for (var j = 0; j < n; j++) {\n      var sum = 0.0;\n\n      for (var i = 0; i < n; ++i) {\n        sum += graph[i * n + j];\n      }\n\n      for (var _i = 0; _i < n; ++_i) {\n        if (sum != 0.0) {\n          graph[_i * n + j] /= sum;\n        } else {\n          graph[_i * n + j] = 1 / n;\n        }\n      }\n    }\n\n    var rBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Float32Array(r)\n    });\n    var rLastBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: new Float32Array(n)\n    });\n    var graphBuffer = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE,\n      viewOrSize: new Float32Array(graph)\n    });\n    var readback = device.createReadback();\n    storeKernel.setBinding(0, rBuffer);\n    storeKernel.setBinding(1, rLastBuffer);\n    matmulKernel.setBinding(0, graphBuffer);\n    matmulKernel.setBinding(1, rBuffer);\n    matmulKernel.setBinding(2, rLastBuffer);\n    rankDiffKernel.setBinding(0, rBuffer);\n    rankDiffKernel.setBinding(1, rLastBuffer);\n    var startTime = window.performance.now();\n\n    while (maxIteration--) {\n      storeKernel.dispatch(1, 1);\n      matmulKernel.dispatch(1, 1);\n      rankDiffKernel.dispatch(1, 1);\n      var last = await readback.readBuffer(rLastBuffer);\n\n      var _result = last.reduce(function (prev, cur) {\n        return prev + cur;\n      }, 0);\n\n      if (_result < eps) {\n        var out = await readback.readBuffer(rBuffer);\n        console.log(out);\n        break;\n      }\n    }\n\n    console.log(\"GPU Time Elapsed: \".concat(window.performance.now() - startTime, \"ms\"));\n  };\n\n  var pageRank = _g.Algorithm.pageRank;\n  var data = {\n    nodes: [{\n      id: 'A',\n      label: 'A'\n    }, {\n      id: 'B',\n      label: 'B'\n    }, {\n      id: 'C',\n      label: 'C'\n    }, {\n      id: 'D',\n      label: 'D'\n    }, {\n      id: 'E',\n      label: 'E'\n    }],\n    edges: [{\n      source: 'A',\n      target: 'B'\n    }, {\n      source: 'A',\n      target: 'C'\n    }, {\n      source: 'B',\n      target: 'C'\n    }, {\n      source: 'B',\n      target: 'D'\n    }, {\n      source: 'B',\n      target: 'E'\n    }, {\n      source: 'C',\n      target: 'D'\n    }, {\n      source: 'C',\n      target: 'E'\n    }, {\n      source: 'D',\n      target: 'B'\n    }, {\n      source: 'E',\n      target: 'D'\n    }]\n  };\n  var startTime = window.performance.now();\n  var result = pageRank(data);\n  console.log(result);\n  console.log(\"CPU Time Elapsed: \".concat(window.performance.now() - startTime, \"ms\"));\n});"},{"relativePath":"gpgpu/demo/webgpu-graph-pagerank.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/gpgpu/demo/webgpu-graph-pagerank.js","order":8,"filename":"webgpu-graph-pagerank.js","title":{"zh":"WebGPU Graph PageRank","en":"WebGPU Graph PageRank"},"source":"import { pageRank } from '@antv/webgpu-graph';\n\nconsole.log(pageRank);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/webgpu-graph\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/webgpu-graph\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.webgpuGraph);\n    global.webgpuGraphPagerank = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_webgpuGraph) {\n  \"use strict\";\n\n  console.log(_webgpuGraph.pageRank);\n});"},{"relativePath":"gpgpu/demo/reduce.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/gpgpu/demo/reduce.js","order":1,"filename":"reduce.js","title":{"zh":"Reduce Sum","en":"Reduce Sum"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { Plugin, Kernel, BufferUsage } from '@antv/g-plugin-gpgpu';\nimport * as lil from 'lil-gui';\n\n/**\n * ported from https://github.com/9ballsyndrome/WebGL_Compute_shader/blob/master/webgl-compute-bitonicSort/js/script.js\n */\n\nconst CANVAS_SIZE = 1;\n\n// use WebGPU\nconst renderer = new Renderer({ targets: ['webgpu'] });\nrenderer.registerPlugin(new Plugin());\n\n// create a canvas\nconst $wrapper = document.getElementById('container');\nconst canvas = new Canvas({\n  container: $wrapper,\n  width: CANVAS_SIZE,\n  height: CANVAS_SIZE,\n  renderer,\n});\n\nconst workgroupSize = 128;\n\ncanvas.addEventListener(CanvasEvent.READY, () => {\n  const device = renderer.getDevice();\n  const kernel = new Kernel(device, {\n    computeShader: `\nstruct Array {\n  size: u32;\n  data: array<f32>;\n};\n\n@group(0) @binding(0) var<storage, read_write> input : Array;\n\nvar<workgroup> shared : array<f32, ${workgroupSize}>;\n\n@stage(compute) @workgroup_size(${workgroupSize}, 1)\nfn main(\n  @builtin(global_invocation_id) global_id : vec3<u32>,\n  @builtin(local_invocation_id) local_id : vec3<u32>,\n  @builtin(workgroup_id) workgroup_id : vec3<u32>,\n) {\n  var tid = local_id.x;\n  // var i = global_id.x;\n\n  // version 4\n  var i = workgroup_id.x * ${workgroupSize}u * 2u + local_id.x;\n  shared[tid] = input.data[i] + input.data[i + ${workgroupSize}u];\n  // shared[tid] = input.data[i];\n  workgroupBarrier();\n\n  // version 5\n  // for (var s = ${workgroupSize}u / 2u; s > 32u; s = s >> 1u) {\n  // version 3\n  for (var s = ${workgroupSize}u / 2u; s > 0u; s = s >> 1u) {\n    if (tid < s) {\n      shared[tid] = shared[tid] + shared[tid + s];\n    }\n\n  // for (var s = 1u; s < ${workgroupSize}u; s = s * 2u) {\n    // version 1\n    // if (tid % (s * 2u) == 0u) {\n    //   shared[tid] = shared[tid] + shared[tid + s];\n    // }\n\n    // version 2\n    // var index = 2u * s * tid;\n    // if (index < ${workgroupSize}u) {\n    //   shared[index] = shared[index] + shared[index + s];\n    // }\n    \n    workgroupBarrier();\n  }\n\n  // if (tid < 32u) {\n  //   shared[tid] =\n  //     shared[tid + 32u]\n  //     + shared[tid + 16u]\n  //     + shared[tid + 8u]\n  //     + shared[tid + 4u]\n  //     + shared[tid + 2u]\n  //     + shared[tid + 1u];\n  // }\n\n  if (tid == 0u) {\n    input.data[workgroup_id.x] = shared[0u];\n  }\n}`,\n  });\n\n  calc(kernel, device, new Array(200).fill(1));\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n  const folder = gui.addFolder('array size');\n  const config = {\n    size: 32,\n  };\n  folder.add(config, 'size', [32, 1000, 10000, 100000, 1000000]).onChange((size) => {\n    calc(\n      kernel,\n      device,\n      new Array(Number(size)).fill(undefined).map(() => Math.random()),\n    );\n  });\n  folder.open();\n});\n\nconst cpuReduceSum = (array) => {\n  const startTime = window.performance.now();\n  console.log(array.reduce((prev, cur) => prev + cur, 0));\n  console.log(`CPU Time Elapsed: ${window.performance.now() - startTime}ms`);\n};\n\nconst gpuReduceSum = async (kernel, device, array) => {\n  const padding = array.concat(new Array(workgroupSize - (array.length % workgroupSize)).fill(0));\n\n  const input = new Float32Array(\n    [padding.length] // size\n      .concat(padding), // origin data\n  );\n\n  let startTime = window.performance.now();\n\n  const result = device.createBuffer({\n    usage: BufferUsage.STORAGE | BufferUsage.COPY_SRC,\n    viewOrSize: input,\n  });\n  const readback = device.createReadback();\n  kernel.setBinding(0, result);\n  kernel.dispatch(Math.ceil(array.length / workgroupSize), 1);\n\n  // result\n  await readback.readBuffer(result);\n\n  console.log(\n    input.slice(1, padding.length / workgroupSize + 1).reduce((prev, cur) => prev + cur, 0),\n  );\n  console.log(`GPU Time Elapsed: ${window.performance.now() - startTime}ms`);\n};\n\nconst calc = async (kernel, device, array) => {\n  cpuReduceSum(array);\n  gpuReduceSum(kernel, device, array);\n};\n\nconst $text = document.createElement('div');\n$text.textContent = 'Please open the devtools, the CPU & CPU time will be printed in console.';\n$wrapper.appendChild($text);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-gpgpu\", \"lil-gui\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-gpgpu\"), require(\"lil-gui\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPluginGpgpu, global.lilGui);\n    global.reduce = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPluginGpgpu, lil) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * ported from https://github.com/9ballsyndrome/WebGL_Compute_shader/blob/master/webgl-compute-bitonicSort/js/script.js\n   */\n  var CANVAS_SIZE = 1; // use WebGPU\n\n  var renderer = new _gWebgl.Renderer({\n    targets: ['webgpu']\n  });\n  renderer.registerPlugin(new _gPluginGpgpu.Plugin()); // create a canvas\n\n  var $wrapper = document.getElementById('container');\n  var canvas = new _g.Canvas({\n    container: $wrapper,\n    width: CANVAS_SIZE,\n    height: CANVAS_SIZE,\n    renderer: renderer\n  });\n  var workgroupSize = 128;\n  canvas.addEventListener(_g.CanvasEvent.READY, function () {\n    var device = renderer.getDevice();\n    var kernel = new _gPluginGpgpu.Kernel(device, {\n      computeShader: \"\\nstruct Array {\\n  size: u32;\\n  data: array<f32>;\\n};\\n\\n@group(0) @binding(0) var<storage, read_write> input : Array;\\n\\nvar<workgroup> shared : array<f32, \".concat(workgroupSize, \">;\\n\\n@stage(compute) @workgroup_size(\").concat(workgroupSize, \", 1)\\nfn main(\\n  @builtin(global_invocation_id) global_id : vec3<u32>,\\n  @builtin(local_invocation_id) local_id : vec3<u32>,\\n  @builtin(workgroup_id) workgroup_id : vec3<u32>,\\n) {\\n  var tid = local_id.x;\\n  // var i = global_id.x;\\n\\n  // version 4\\n  var i = workgroup_id.x * \").concat(workgroupSize, \"u * 2u + local_id.x;\\n  shared[tid] = input.data[i] + input.data[i + \").concat(workgroupSize, \"u];\\n  // shared[tid] = input.data[i];\\n  workgroupBarrier();\\n\\n  // version 5\\n  // for (var s = \").concat(workgroupSize, \"u / 2u; s > 32u; s = s >> 1u) {\\n  // version 3\\n  for (var s = \").concat(workgroupSize, \"u / 2u; s > 0u; s = s >> 1u) {\\n    if (tid < s) {\\n      shared[tid] = shared[tid] + shared[tid + s];\\n    }\\n\\n  // for (var s = 1u; s < \").concat(workgroupSize, \"u; s = s * 2u) {\\n    // version 1\\n    // if (tid % (s * 2u) == 0u) {\\n    //   shared[tid] = shared[tid] + shared[tid + s];\\n    // }\\n\\n    // version 2\\n    // var index = 2u * s * tid;\\n    // if (index < \").concat(workgroupSize, \"u) {\\n    //   shared[index] = shared[index] + shared[index + s];\\n    // }\\n    \\n    workgroupBarrier();\\n  }\\n\\n  // if (tid < 32u) {\\n  //   shared[tid] =\\n  //     shared[tid + 32u]\\n  //     + shared[tid + 16u]\\n  //     + shared[tid + 8u]\\n  //     + shared[tid + 4u]\\n  //     + shared[tid + 2u]\\n  //     + shared[tid + 1u];\\n  // }\\n\\n  if (tid == 0u) {\\n    input.data[workgroup_id.x] = shared[0u];\\n  }\\n}\")\n    });\n    calc(kernel, device, new Array(200).fill(1)); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n    var folder = gui.addFolder('array size');\n    var config = {\n      size: 32\n    };\n    folder.add(config, 'size', [32, 1000, 10000, 100000, 1000000]).onChange(function (size) {\n      calc(kernel, device, new Array(Number(size)).fill(undefined).map(function () {\n        return Math.random();\n      }));\n    });\n    folder.open();\n  });\n\n  var cpuReduceSum = function cpuReduceSum(array) {\n    var startTime = window.performance.now();\n    console.log(array.reduce(function (prev, cur) {\n      return prev + cur;\n    }, 0));\n    console.log(\"CPU Time Elapsed: \".concat(window.performance.now() - startTime, \"ms\"));\n  };\n\n  var gpuReduceSum = async function gpuReduceSum(kernel, device, array) {\n    var padding = array.concat(new Array(workgroupSize - array.length % workgroupSize).fill(0));\n    var input = new Float32Array([padding.length] // size\n    .concat(padding));\n    var startTime = window.performance.now();\n    var result = device.createBuffer({\n      usage: _gPluginGpgpu.BufferUsage.STORAGE | _gPluginGpgpu.BufferUsage.COPY_SRC,\n      viewOrSize: input\n    });\n    var readback = device.createReadback();\n    kernel.setBinding(0, result);\n    kernel.dispatch(Math.ceil(array.length / workgroupSize), 1); // result\n\n    await readback.readBuffer(result);\n    console.log(input.slice(1, padding.length / workgroupSize + 1).reduce(function (prev, cur) {\n      return prev + cur;\n    }, 0));\n    console.log(\"GPU Time Elapsed: \".concat(window.performance.now() - startTime, \"ms\"));\n  };\n\n  var calc = async function calc(kernel, device, array) {\n    cpuReduceSum(array);\n    gpuReduceSum(kernel, device, array);\n  };\n\n  var $text = document.createElement('div');\n  $text.textContent = 'Please open the devtools, the CPU & CPU time will be printed in console.';\n  $wrapper.appendChild($text);\n});"},{"relativePath":"event/demo/builtin.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/builtin.js","order":9,"filename":"builtin.js","title":{"zh":"内置场景图事件","en":"SceneGraph Events"},"source":"import { Circle, Text, Canvas, ElementEvent, MutationObserver } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\ncanvas.addEventListener(ElementEvent.INSERTED, (e) => {\n  console.log('inserted', e.target);\n});\ncanvas.addEventListener(ElementEvent.MOUNTED, (e) => {\n  console.log('mounted', e.target);\n});\ncanvas.addEventListener(ElementEvent.UNMOUNTED, (e) => {\n  console.log('unmounted', e.target);\n});\ncanvas.addEventListener(ElementEvent.REMOVED, (e) => {\n  console.log('removed', e.target);\n});\ncanvas.addEventListener(ElementEvent.DESTROY, (e) => {\n  console.log('destroyed', e.target);\n});\n\n// observe root node\nconst observer = new MutationObserver(() => {});\nobserver.observe(canvas.document.documentElement, { childList: true });\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst circleFolder = gui.addFolder('circle');\nlet circles = [];\nlet removed = [];\nlet counter = 0;\nconst circleConfig = {\n  insert: () => {\n    let id = counter++;\n    const circle = new Circle({\n      id,\n      style: {\n        r: 40,\n        fill: '#1890FF',\n        stroke: '#F04864',\n        lineWidth: 4,\n        cursor: 'pointer',\n      },\n    });\n    const text = new Text({\n      id: 'text',\n      style: {\n        fill: '#000',\n        text: '' + id,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      },\n    });\n    circle.appendChild(text);\n\n    circles.push(circle);\n    canvas.appendChild(circle);\n    circle.setPosition(300 + (circles.length - 1) * 20, 250);\n\n    const records = observer.takeRecords();\n    console.log(records);\n  },\n  remove: () => {\n    const circle = circles.pop();\n    if (circle) {\n      removed.push(circle);\n      // remove but don't destroy, can re-insert it later\n      circle.remove(false);\n    }\n  },\n  're-insert': () => {\n    const circle = removed.pop();\n    if (circle) {\n      circles.push(circle);\n      canvas.appendChild(circle);\n      const records = observer.takeRecords();\n      console.log(records);\n    }\n  },\n  destroy: () => {\n    const circle = circles.pop();\n    if (circle) {\n      circle.destroy();\n    }\n  },\n};\ncircleFolder.add(circleConfig, 'insert');\ncircleFolder.add(circleConfig, 'remove');\ncircleFolder.add(circleConfig, 're-insert');\ncircleFolder.add(circleConfig, 'destroy');\ncircleFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.builtin = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  canvas.addEventListener(_g.ElementEvent.INSERTED, function (e) {\n    console.log('inserted', e.target);\n  });\n  canvas.addEventListener(_g.ElementEvent.MOUNTED, function (e) {\n    console.log('mounted', e.target);\n  });\n  canvas.addEventListener(_g.ElementEvent.UNMOUNTED, function (e) {\n    console.log('unmounted', e.target);\n  });\n  canvas.addEventListener(_g.ElementEvent.REMOVED, function (e) {\n    console.log('removed', e.target);\n  });\n  canvas.addEventListener(_g.ElementEvent.DESTROY, function (e) {\n    console.log('destroyed', e.target);\n  }); // observe root node\n\n  var observer = new _g.MutationObserver(function () {});\n  observer.observe(canvas.document.documentElement, {\n    childList: true\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var circleFolder = gui.addFolder('circle');\n  var circles = [];\n  var removed = [];\n  var counter = 0;\n  var circleConfig = {\n    insert: function insert() {\n      var id = counter++;\n      var circle = new _g.Circle({\n        id: id,\n        style: {\n          r: 40,\n          fill: '#1890FF',\n          stroke: '#F04864',\n          lineWidth: 4,\n          cursor: 'pointer'\n        }\n      });\n      var text = new _g.Text({\n        id: 'text',\n        style: {\n          fill: '#000',\n          text: '' + id,\n          textAlign: 'center',\n          textBaseline: 'middle'\n        }\n      });\n      circle.appendChild(text);\n      circles.push(circle);\n      canvas.appendChild(circle);\n      circle.setPosition(300 + (circles.length - 1) * 20, 250);\n      var records = observer.takeRecords();\n      console.log(records);\n    },\n    remove: function remove() {\n      var circle = circles.pop();\n\n      if (circle) {\n        removed.push(circle); // remove but don't destroy, can re-insert it later\n\n        circle.remove(false);\n      }\n    },\n    're-insert': function reInsert() {\n      var circle = removed.pop();\n\n      if (circle) {\n        circles.push(circle);\n        canvas.appendChild(circle);\n        var records = observer.takeRecords();\n        console.log(records);\n      }\n    },\n    destroy: function destroy() {\n      var circle = circles.pop();\n\n      if (circle) {\n        circle.destroy();\n      }\n    }\n  };\n  circleFolder.add(circleConfig, 'insert');\n  circleFolder.add(circleConfig, 'remove');\n  circleFolder.add(circleConfig, 're-insert');\n  circleFolder.add(circleConfig, 'destroy');\n  circleFolder.open();\n});"},{"relativePath":"event/demo/circle.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/circle.js","order":2,"filename":"circle.js","title":{"zh":"单个圆拾取","en":"Single circle picking"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*xJB7TY68IVUAAAAAAAAAAABkARQnAQ","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// add a circle to canvas\nconst circle = new Circle({\n  style: {\n    x: 300,\n    y: 200,\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    cursor: 'pointer',\n  },\n});\n\ncanvas.appendChild(circle);\n\ncircle.addEventListener('mouseenter', () => {\n  circle.style.fill = '#2FC25B';\n});\n\ncircle.addEventListener('mouseleave', () => {\n  circle.style.fill = '#1890FF';\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst circleFolder = gui.addFolder('circle');\nconst circleConfig = {\n  interactive: true,\n  visible: true,\n};\ncircleFolder.add(circleConfig, 'visible').onChange((visible) => {\n  if (visible) {\n    circle.style.visibility = 'visible';\n    // circle.show();\n  } else {\n    circle.style.visibility = 'hidden';\n    // circle.hide();\n  }\n});\ncircleFolder.add(circleConfig, 'interactive').onChange((interactive) => {\n  circle.interactive = interactive;\n});\ncircleFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.circle = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // add a circle to canvas\n\n  var circle = new _g.Circle({\n    style: {\n      x: 300,\n      y: 200,\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      cursor: 'pointer'\n    }\n  });\n  canvas.appendChild(circle);\n  circle.addEventListener('mouseenter', function () {\n    circle.style.fill = '#2FC25B';\n  });\n  circle.addEventListener('mouseleave', function () {\n    circle.style.fill = '#1890FF';\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var circleFolder = gui.addFolder('circle');\n  var circleConfig = {\n    interactive: true,\n    visible: true\n  };\n  circleFolder.add(circleConfig, 'visible').onChange(function (visible) {\n    if (visible) {\n      circle.style.visibility = 'visible'; // circle.show();\n    } else {\n      circle.style.visibility = 'hidden'; // circle.hide();\n    }\n  });\n  circleFolder.add(circleConfig, 'interactive').onChange(function (interactive) {\n    circle.interactive = interactive;\n  });\n  circleFolder.open();\n});"},{"relativePath":"event/demo/circles.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/circles.js","order":3,"filename":"circles.js","title":{"zh":"多个圆拾取","en":"Multiple circle picking"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*dc0NTrzOwHYAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\nconst camera = canvas.getCamera();\n\nfor (let i = 0; i < 1000; i++) {\n  const circle = new Circle({\n    style: {\n      x: Math.random() * 600,\n      y: Math.random() * 500,\n      r: 20 + Math.random() * 10,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n    },\n  });\n\n  canvas.appendChild(circle);\n\n  circle.on('mouseenter', () => {\n    circle.attr('fill', '#2FC25B');\n  });\n\n  circle.on('mouseleave', () => {\n    circle.attr('fill', '#1890FF');\n  });\n}\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n\n  camera.rotate(0, 0, 0.1);\n\n  console.log(canvas.getStats());\n});\n\n// GUI\nlet currentRenderer = canvasRenderer;\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  currentRenderer =\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer;\n  canvas.setRenderer(currentRenderer);\n});\nrendererFolder.open();\n\nconst folder0 = gui.addFolder('dirty rectangle');\nconst dirtyRectangleConfig = {\n  enable: true,\n};\nfolder0.add(dirtyRectangleConfig, 'enable').onChange((enable) => {\n  currentRenderer.setConfig({\n    enableDirtyRectangleRendering: enable,\n  });\n});\nfolder0.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.circles = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var camera = canvas.getCamera();\n\n  var _loop = function _loop(i) {\n    var circle = new _g.Circle({\n      style: {\n        x: Math.random() * 600,\n        y: Math.random() * 500,\n        r: 20 + Math.random() * 10,\n        fill: '#1890FF',\n        stroke: '#F04864',\n        lineWidth: 4\n      }\n    });\n    canvas.appendChild(circle);\n    circle.on('mouseenter', function () {\n      circle.attr('fill', '#2FC25B');\n    });\n    circle.on('mouseleave', function () {\n      circle.attr('fill', '#1890FF');\n    });\n  };\n\n  for (var i = 0; i < 1000; i++) {\n    _loop(i);\n  } // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n\n    camera.rotate(0, 0, 0.1);\n    console.log(canvas.getStats());\n  }); // GUI\n\n  var currentRenderer = canvasRenderer;\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    currentRenderer = renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer;\n    canvas.setRenderer(currentRenderer);\n  });\n  rendererFolder.open();\n  var folder0 = gui.addFolder('dirty rectangle');\n  var dirtyRectangleConfig = {\n    enable: true\n  };\n  folder0.add(dirtyRectangleConfig, 'enable').onChange(function (enable) {\n    currentRenderer.setConfig({\n      enableDirtyRectangleRendering: enable\n    });\n  });\n  folder0.open();\n});"},{"relativePath":"event/demo/coordinates.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/coordinates.js","order":10,"filename":"coordinates.js","title":{"zh":"坐标系转换","en":"Coordinates"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*kPfcTKwZG90AAAAAAAAAAAAAARQnAQ","source":"import { Circle, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\nconst camera = canvas.getCamera();\n\n// add a circle to canvas\nconst circle = new Circle({\n  style: {\n    x: 300,\n    y: 200,\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    cursor: 'pointer',\n  },\n});\n\ncanvas.appendChild(circle);\n\ncircle.addEventListener('mouseenter', () => {\n  circle.style.fill = '#2FC25B';\n});\n\ncircle.addEventListener('mouseleave', () => {\n  circle.style.fill = '#1890FF';\n});\n\nconst clientText = new Text({\n  style: {\n    fill: '#000',\n    fontSize: 22,\n    text: 'Client: ',\n    textBaseline: 'middle',\n  },\n});\nclientText.setPosition(100, 80);\ncanvas.appendChild(clientText);\n\nconst canvasText = clientText.cloneNode();\ncanvasText.style.text = 'Canvas: ';\ncanvasText.setPosition(100, 110);\ncanvas.appendChild(canvasText);\n\nconst viewportText = clientText.cloneNode();\nviewportText.style.text = 'Viewport: ';\nviewportText.setPosition(100, 140);\ncanvas.appendChild(viewportText);\n\nconst screenText = clientText.cloneNode();\nscreenText.style.text = 'Screen: ';\nscreenText.setPosition(100, 20);\ncanvas.appendChild(screenText);\n\nconst pageText = clientText.cloneNode();\npageText.style.text = 'Page: ';\npageText.setPosition(100, 50);\ncanvas.appendChild(pageText);\n\ncanvas.addEventListener('mousemove', (e) => {\n  const screenX = e.screenX;\n  const screenY = e.screenY;\n  screenText.style.text = `Screen: ${screenX}, ${screenY}`;\n\n  const pageX = e.pageX;\n  const pageY = e.pageY;\n  pageText.style.text = `Page: ${pageX}, ${pageY}`;\n\n  const clientX = e.clientX;\n  const clientY = e.clientY;\n  clientText.style.text = `Client: ${clientX}, ${clientY}`;\n\n  const canvasX = e.canvasX;\n  const canvasY = e.canvasY;\n  canvasText.style.text = `Canvas: ${canvasX}, ${canvasY}`;\n\n  const viewportX = e.viewportX;\n  const viewportY = e.viewportY;\n  viewportText.style.text = `Viewport: ${viewportX}, ${viewportY}`;\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst cameraFolder = gui.addFolder('camera actions');\nconst cameraConfig = {\n  panX: 0,\n  panY: 0,\n  zoom: 1,\n  roll: 0,\n};\n\nconst origin = camera.getPosition();\ncameraFolder.add(cameraConfig, 'panX', -300, 300).onChange((panX) => {\n  const current = camera.getPosition();\n  camera.pan(origin[0] + panX - current[0], 0);\n});\ncameraFolder.add(cameraConfig, 'panY', -300, 300).onChange((panY) => {\n  const current = camera.getPosition();\n  camera.pan(0, origin[1] + panY - current[1]);\n});\ncameraFolder.add(cameraConfig, 'roll', -90, 90).onChange((roll) => {\n  camera.rotate(0, 0, roll);\n});\ncameraFolder.add(cameraConfig, 'zoom', 0, 10).onChange((zoom) => {\n  camera.setZoom(zoom);\n});\ncameraFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.coordinates = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var camera = canvas.getCamera(); // add a circle to canvas\n\n  var circle = new _g.Circle({\n    style: {\n      x: 300,\n      y: 200,\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      cursor: 'pointer'\n    }\n  });\n  canvas.appendChild(circle);\n  circle.addEventListener('mouseenter', function () {\n    circle.style.fill = '#2FC25B';\n  });\n  circle.addEventListener('mouseleave', function () {\n    circle.style.fill = '#1890FF';\n  });\n  var clientText = new _g.Text({\n    style: {\n      fill: '#000',\n      fontSize: 22,\n      text: 'Client: ',\n      textBaseline: 'middle'\n    }\n  });\n  clientText.setPosition(100, 80);\n  canvas.appendChild(clientText);\n  var canvasText = clientText.cloneNode();\n  canvasText.style.text = 'Canvas: ';\n  canvasText.setPosition(100, 110);\n  canvas.appendChild(canvasText);\n  var viewportText = clientText.cloneNode();\n  viewportText.style.text = 'Viewport: ';\n  viewportText.setPosition(100, 140);\n  canvas.appendChild(viewportText);\n  var screenText = clientText.cloneNode();\n  screenText.style.text = 'Screen: ';\n  screenText.setPosition(100, 20);\n  canvas.appendChild(screenText);\n  var pageText = clientText.cloneNode();\n  pageText.style.text = 'Page: ';\n  pageText.setPosition(100, 50);\n  canvas.appendChild(pageText);\n  canvas.addEventListener('mousemove', function (e) {\n    var screenX = e.screenX;\n    var screenY = e.screenY;\n    screenText.style.text = \"Screen: \".concat(screenX, \", \").concat(screenY);\n    var pageX = e.pageX;\n    var pageY = e.pageY;\n    pageText.style.text = \"Page: \".concat(pageX, \", \").concat(pageY);\n    var clientX = e.clientX;\n    var clientY = e.clientY;\n    clientText.style.text = \"Client: \".concat(clientX, \", \").concat(clientY);\n    var canvasX = e.canvasX;\n    var canvasY = e.canvasY;\n    canvasText.style.text = \"Canvas: \".concat(canvasX, \", \").concat(canvasY);\n    var viewportX = e.viewportX;\n    var viewportY = e.viewportY;\n    viewportText.style.text = \"Viewport: \".concat(viewportX, \", \").concat(viewportY);\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var cameraFolder = gui.addFolder('camera actions');\n  var cameraConfig = {\n    panX: 0,\n    panY: 0,\n    zoom: 1,\n    roll: 0\n  };\n  var origin = camera.getPosition();\n  cameraFolder.add(cameraConfig, 'panX', -300, 300).onChange(function (panX) {\n    var current = camera.getPosition();\n    camera.pan(origin[0] + panX - current[0], 0);\n  });\n  cameraFolder.add(cameraConfig, 'panY', -300, 300).onChange(function (panY) {\n    var current = camera.getPosition();\n    camera.pan(0, origin[1] + panY - current[1]);\n  });\n  cameraFolder.add(cameraConfig, 'roll', -90, 90).onChange(function (roll) {\n    camera.rotate(0, 0, roll);\n  });\n  cameraFolder.add(cameraConfig, 'zoom', 0, 10).onChange(function (zoom) {\n    camera.setZoom(zoom);\n  });\n  cameraFolder.open();\n});"},{"relativePath":"event/demo/custom.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/custom.js","order":7,"filename":"custom.js","title":{"zh":"触发自定义事件","en":"Dispatch custom event"},"source":"import { Canvas, Group, Rect, Text, CustomEvent } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a custom event\nconst event = new CustomEvent('build', { detail: { prop1: 'xx' } });\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst ul = new Group({\n  id: 'ul',\n});\nconst li1 = new Rect({\n  id: 'li1',\n  style: {\n    x: 200,\n    y: 100,\n    width: 300,\n    height: 100,\n    fill: '#1890FF',\n  },\n});\nconst text = new Text({\n  style: {\n    x: 150,\n    y: 50,\n    text: 'Click me!',\n    fontSize: 22,\n    fill: '#000',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\nli1.appendChild(text);\n\nconst li2 = new Rect({\n  id: 'li2',\n  style: {\n    x: 200,\n    y: 300,\n    width: 300,\n    height: 100,\n    fill: '#1890FF',\n  },\n});\n\ncanvas.appendChild(ul);\nul.appendChild(li1);\nul.appendChild(li2);\n\nli1.addEventListener('click', (e) => {\n  // dispatch my custom event!\n  li1.dispatchEvent(event);\n\n  // @deprecated\n  // li1.emit('build', { prop1: 'xx' });\n});\n\n// delegate to parent\nul.addEventListener('build', (e) => {\n  console.log(e.target); // circle\n  console.log(e.detail); // { prop1: 'xx' }\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.custom = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a custom event\n  var event = new _g.CustomEvent('build', {\n    detail: {\n      prop1: 'xx'\n    }\n  }); // create a renderer\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var ul = new _g.Group({\n    id: 'ul'\n  });\n  var li1 = new _g.Rect({\n    id: 'li1',\n    style: {\n      x: 200,\n      y: 100,\n      width: 300,\n      height: 100,\n      fill: '#1890FF'\n    }\n  });\n  var text = new _g.Text({\n    style: {\n      x: 150,\n      y: 50,\n      text: 'Click me!',\n      fontSize: 22,\n      fill: '#000',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  li1.appendChild(text);\n  var li2 = new _g.Rect({\n    id: 'li2',\n    style: {\n      x: 200,\n      y: 300,\n      width: 300,\n      height: 100,\n      fill: '#1890FF'\n    }\n  });\n  canvas.appendChild(ul);\n  ul.appendChild(li1);\n  ul.appendChild(li2);\n  li1.addEventListener('click', function (e) {\n    // dispatch my custom event!\n    li1.dispatchEvent(event); // @deprecated\n    // li1.emit('build', { prop1: 'xx' });\n  }); // delegate to parent\n\n  ul.addEventListener('build', function (e) {\n    console.log(e.target); // circle\n\n    console.log(e.detail); // { prop1: 'xx' }\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"event/demo/delegate.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/delegate.js","order":0,"filename":"delegate.js","title":{"zh":"事件委托","en":"Delegate"},"source":"import { Canvas, Group, Text, Rect } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\n * 实现事件委托，点击两个矩形，在控制台输出：\n * * target\n * * currentTarget\n * * clientX/Y\n * * composedPath() 事件传播路径\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst ul = new Group({\n  id: 'ul',\n});\nconst li1 = new Rect({\n  id: 'li1',\n  style: {\n    x: 200,\n    y: 100,\n    width: 300,\n    height: 100,\n    fill: '#1890FF',\n  },\n});\nconst text = new Text({\n  style: {\n    x: 150,\n    y: 50,\n    text: 'Click me!',\n    fontSize: 22,\n    fill: '#000',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\nli1.appendChild(text);\nconst li2 = new Rect({\n  id: 'li2',\n  style: {\n    x: 200,\n    y: 300,\n    width: 300,\n    height: 100,\n    fill: '#1890FF',\n  },\n});\n\ncanvas.appendChild(ul);\nul.appendChild(li1);\nul.appendChild(li2);\n\nul.addEventListener('click', (e) => {\n  console.log('currentTarget', e.currentTarget);\n  console.log('target', e.target);\n  console.log('clientX', e.clientX);\n  console.log('clientY', e.clientY);\n  console.log('x', e.x);\n  console.log('y', e.y);\n  console.log('path', e.composedPath());\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.delegate = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * 实现事件委托，点击两个矩形，在控制台输出：\n   * * target\n   * * currentTarget\n   * * clientX/Y\n   * * composedPath() 事件传播路径\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var ul = new _g.Group({\n    id: 'ul'\n  });\n  var li1 = new _g.Rect({\n    id: 'li1',\n    style: {\n      x: 200,\n      y: 100,\n      width: 300,\n      height: 100,\n      fill: '#1890FF'\n    }\n  });\n  var text = new _g.Text({\n    style: {\n      x: 150,\n      y: 50,\n      text: 'Click me!',\n      fontSize: 22,\n      fill: '#000',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  li1.appendChild(text);\n  var li2 = new _g.Rect({\n    id: 'li2',\n    style: {\n      x: 200,\n      y: 300,\n      width: 300,\n      height: 100,\n      fill: '#1890FF'\n    }\n  });\n  canvas.appendChild(ul);\n  ul.appendChild(li1);\n  ul.appendChild(li2);\n  ul.addEventListener('click', function (e) {\n    console.log('currentTarget', e.currentTarget);\n    console.log('target', e.target);\n    console.log('clientX', e.clientX);\n    console.log('clientY', e.clientY);\n    console.log('x', e.x);\n    console.log('y', e.y);\n    console.log('path', e.composedPath());\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"event/demo/deprecated-delegate.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/deprecated-delegate.js","order":8,"filename":"deprecated-delegate.js","title":{"zh":"兼容旧版的事件委托写法","en":"Delegate with event's name"},"source":"import { Canvas, Group, Text, Rect } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\n * 实现事件委托，点击两个矩形，在控制台输出：\n * * target\n * * currentTarget\n * * clientX/Y\n * * composedPath() 事件传播路径\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst ul = new Group({\n  id: 'ul',\n});\nconst li1 = new Rect({\n  id: 'li1',\n  name: 'test-name',\n  style: {\n    x: 200,\n    y: 100,\n    width: 300,\n    height: 100,\n    fill: '#1890FF',\n  },\n});\nconst text = new Text({\n  style: {\n    x: 150,\n    y: 50,\n    text: 'Click me!',\n    fontSize: 22,\n    fill: '#000',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\nli1.appendChild(text);\nconst li2 = new Rect({\n  id: 'li2',\n  name: 'test-name',\n  style: {\n    x: 200,\n    y: 300,\n    width: 300,\n    height: 100,\n    fill: '#1890FF',\n  },\n});\n\ncanvas.appendChild(ul);\nul.appendChild(li1);\nul.appendChild(li2);\n\nul.addEventListener('test-name:click', (e) => {\n  console.log('target', e.target);\n  console.log('path', e.composedPath());\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.deprecatedDelegate = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * 实现事件委托，点击两个矩形，在控制台输出：\n   * * target\n   * * currentTarget\n   * * clientX/Y\n   * * composedPath() 事件传播路径\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var ul = new _g.Group({\n    id: 'ul'\n  });\n  var li1 = new _g.Rect({\n    id: 'li1',\n    name: 'test-name',\n    style: {\n      x: 200,\n      y: 100,\n      width: 300,\n      height: 100,\n      fill: '#1890FF'\n    }\n  });\n  var text = new _g.Text({\n    style: {\n      x: 150,\n      y: 50,\n      text: 'Click me!',\n      fontSize: 22,\n      fill: '#000',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  li1.appendChild(text);\n  var li2 = new _g.Rect({\n    id: 'li2',\n    name: 'test-name',\n    style: {\n      x: 200,\n      y: 300,\n      width: 300,\n      height: 100,\n      fill: '#1890FF'\n    }\n  });\n  canvas.appendChild(ul);\n  ul.appendChild(li1);\n  ul.appendChild(li2);\n  ul.addEventListener('test-name:click', function (e) {\n    console.log('target', e.target);\n    console.log('path', e.composedPath());\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"event/demo/drag.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/drag.js","order":4,"filename":"drag.js","title":{"zh":"拖拽","en":"Dragging"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*gYBQQph9kkUAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// add a circle to canvas\nconst circle = new Circle({\n  id: 'circle',\n  style: {\n    fill: 'rgb(239, 244, 255)',\n    fillOpacity: 1,\n    lineWidth: 1,\n    opacity: 1,\n    r: 100,\n    stroke: 'rgb(95, 149, 255)',\n    strokeOpacity: 1,\n    cursor: 'pointer',\n  },\n});\n\nconst text = new Text({\n  id: 'text',\n  style: {\n    fill: '#000',\n    font: `normal normal normal 12px Avenir, -apple-system, system-ui, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n    // fontFamily: `Avenir, -apple-system, system-ui, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n    // fontFamily: 'Arial, sans-serif',\n    // fontFamily: 'sans-serif',\n    fontFamily: 'Avenir',\n    // fontFamily: 'Times',\n    // fontFamily: 'Microsoft YaHei',\n    fontSize: 22,\n    fontStyle: 'normal',\n    fontVariant: 'normal',\n    fontWeight: 'normal',\n    text: 'Drag me',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\n\ncircle.appendChild(text);\ncanvas.appendChild(circle);\n\ncircle.setPosition(300, 200);\n\nlet dragging = false;\nlet lastPosition;\nconst onDragStart = (event) => {\n  dragging = true;\n  circle.attr('opacity', 0.5);\n  lastPosition = [event.x, event.y];\n  text.attr('text', 'Drag me');\n};\nconst onDragEnd = () => {\n  dragging = false;\n  circle.attr('opacity', 1);\n  text.attr('text', 'Drag me');\n};\nconst onDragMove = (event) => {\n  if (dragging) {\n    circle.attr('opacity', 0.5);\n    text.attr('text', 'Dragging...');\n\n    const offset = [event.x - lastPosition[0], event.y - lastPosition[1]];\n    const position = circle.getPosition();\n    circle.setPosition(position[0] + offset[0], position[1] + offset[1]);\n    lastPosition = [event.x, event.y];\n  }\n};\n\ncircle\n  // events for drag start\n  .on('mousedown', onDragStart)\n  .on('touchstart', onDragStart)\n  // events for drag end\n  .on('mouseup', onDragEnd)\n  .on('mouseupoutside', onDragEnd)\n  .on('touchend', onDragEnd)\n  .on('touchendoutside', onDragEnd)\n  // events for drag move\n  .on('mousemove', onDragMove)\n  .on('touchmove', onDragMove);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.drag = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // add a circle to canvas\n\n  var circle = new _g.Circle({\n    id: 'circle',\n    style: {\n      fill: 'rgb(239, 244, 255)',\n      fillOpacity: 1,\n      lineWidth: 1,\n      opacity: 1,\n      r: 100,\n      stroke: 'rgb(95, 149, 255)',\n      strokeOpacity: 1,\n      cursor: 'pointer'\n    }\n  });\n  var text = new _g.Text({\n    id: 'text',\n    style: {\n      fill: '#000',\n      font: \"normal normal normal 12px Avenir, -apple-system, system-ui, \\\"Segoe UI\\\", \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Microsoft YaHei\\\", \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\n      // fontFamily: `Avenir, -apple-system, system-ui, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n      // fontFamily: 'Arial, sans-serif',\n      // fontFamily: 'sans-serif',\n      fontFamily: 'Avenir',\n      // fontFamily: 'Times',\n      // fontFamily: 'Microsoft YaHei',\n      fontSize: 22,\n      fontStyle: 'normal',\n      fontVariant: 'normal',\n      fontWeight: 'normal',\n      text: 'Drag me',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  circle.appendChild(text);\n  canvas.appendChild(circle);\n  circle.setPosition(300, 200);\n  var dragging = false;\n  var lastPosition;\n\n  var onDragStart = function onDragStart(event) {\n    dragging = true;\n    circle.attr('opacity', 0.5);\n    lastPosition = [event.x, event.y];\n    text.attr('text', 'Drag me');\n  };\n\n  var onDragEnd = function onDragEnd() {\n    dragging = false;\n    circle.attr('opacity', 1);\n    text.attr('text', 'Drag me');\n  };\n\n  var onDragMove = function onDragMove(event) {\n    if (dragging) {\n      circle.attr('opacity', 0.5);\n      text.attr('text', 'Dragging...');\n      var offset = [event.x - lastPosition[0], event.y - lastPosition[1]];\n      var position = circle.getPosition();\n      circle.setPosition(position[0] + offset[0], position[1] + offset[1]);\n      lastPosition = [event.x, event.y];\n    }\n  };\n\n  circle // events for drag start\n  .on('mousedown', onDragStart).on('touchstart', onDragStart) // events for drag end\n  .on('mouseup', onDragEnd).on('mouseupoutside', onDragEnd).on('touchend', onDragEnd).on('touchendoutside', onDragEnd) // events for drag move\n  .on('mousemove', onDragMove).on('touchmove', onDragMove); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"event/demo/hammer.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/hammer.js","order":5,"filename":"hammer.js","title":{"zh":"使用 Hammer.js 手势库","en":"Gesture with Hammer.js"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*i7SaRaYw0YcAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\nimport Hammer from 'hammerjs';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// add a circle to canvas\nconst circle = new Circle({\n  id: 'circle',\n  style: {\n    fill: 'rgb(239, 244, 255)',\n    fillOpacity: 1,\n    lineWidth: 1,\n    opacity: 1,\n    r: 100,\n    stroke: 'rgb(95, 149, 255)',\n    strokeOpacity: 1,\n    cursor: 'pointer',\n  },\n});\n\nconst text = new Text({\n  id: 'text',\n  style: {\n    fill: '#000',\n    fillOpacity: 0.9,\n    font: `normal normal normal 12px Avenir, -apple-system, system-ui, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`,\n    fontFamily: 'Avenir',\n    fontSize: 22,\n    fontStyle: 'normal',\n    fontVariant: 'normal',\n    fontWeight: 'normal',\n    lineWidth: 1,\n    opacity: 1,\n    strokeOpacity: 1,\n    text: 'Try to tap/press/pan me',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\n\ncircle.appendChild(text);\ncanvas.appendChild(circle);\ncircle.setPosition(300, 200);\n\n// use hammer.js\nconst hammer = new Hammer(circle);\nhammer.on('panleft panright tap press', (ev) => {\n  text.attr('text', `${ev.type} gesture detected.`);\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\", \"hammerjs\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"), require(\"hammerjs\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats, global.hammerjs);\n    global.hammer = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats, _hammerjs) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n  _hammerjs = _interopRequireDefault(_hammerjs);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // add a circle to canvas\n\n  var circle = new _g.Circle({\n    id: 'circle',\n    style: {\n      fill: 'rgb(239, 244, 255)',\n      fillOpacity: 1,\n      lineWidth: 1,\n      opacity: 1,\n      r: 100,\n      stroke: 'rgb(95, 149, 255)',\n      strokeOpacity: 1,\n      cursor: 'pointer'\n    }\n  });\n  var text = new _g.Text({\n    id: 'text',\n    style: {\n      fill: '#000',\n      fillOpacity: 0.9,\n      font: \"normal normal normal 12px Avenir, -apple-system, system-ui, \\\"Segoe UI\\\", \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Microsoft YaHei\\\", \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\n      fontFamily: 'Avenir',\n      fontSize: 22,\n      fontStyle: 'normal',\n      fontVariant: 'normal',\n      fontWeight: 'normal',\n      lineWidth: 1,\n      opacity: 1,\n      strokeOpacity: 1,\n      text: 'Try to tap/press/pan me',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  circle.appendChild(text);\n  canvas.appendChild(circle);\n  circle.setPosition(300, 200); // use hammer.js\n\n  var hammer = new _hammerjs.default(circle);\n  hammer.on('panleft panright tap press', function (ev) {\n    text.attr('text', \"\".concat(ev.type, \" gesture detected.\"));\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"event/demo/interact.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/interact.js","order":6,"filename":"interact.js","title":{"zh":"使用 Interact.js 拖拽库","en":"Drag&Drop with Interact.js"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*9YqIQo56RasAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Text, Rect, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport { Plugin } from '@antv/g-plugin-css-select';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\nimport interact from 'interactjs';\n\n/**\n * use interact.js\n * @see https://interactjs.io/\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// register css select plugin\ncanvasRenderer.registerPlugin(new Plugin());\nwebglRenderer.registerPlugin(new Plugin());\nsvgRenderer.registerPlugin(new Plugin());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n/**\n * Draggable\n */\nconst circle = new Circle({\n  className: 'draggable',\n  style: {\n    fill: 'rgb(239, 244, 255)',\n    fillOpacity: 1,\n    lineWidth: 1,\n    opacity: 1,\n    r: 60,\n    stroke: 'rgb(95, 149, 255)',\n    strokeOpacity: 1,\n    zIndex: 1,\n  },\n});\nconst text = new Text({\n  style: {\n    text: 'Drag me',\n    fontSize: 22,\n    fill: '#000',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\ncircle.appendChild(text);\ncanvas.appendChild(circle);\ncircle.setPosition(100, 100);\ninteract(circle, {\n  context: canvas.document,\n}).draggable({\n  onmove: function (event) {\n    const { dx, dy } = event;\n    circle.translateLocal(dx, dy);\n  },\n});\n\n/**\n * Resizable\n */\nconst resizableRect = new Rect({\n  style: {\n    x: 220,\n    y: 260,\n    width: 200,\n    height: 200,\n    fill: '#1890FF',\n  },\n});\nconst resizableRectText = new Text({\n  style: {\n    text: 'Resize from any edge or corner',\n    fontSize: 16,\n    fill: 'white',\n    textAlign: 'left',\n    textBaseline: 'top',\n    wordWrap: true,\n    wordWrapWidth: 200,\n  },\n});\nresizableRectText.translateLocal(0, 20);\nresizableRect.appendChild(resizableRectText);\ncanvas.appendChild(resizableRect);\ninteract(resizableRect, {\n  context: canvas.document,\n}).resizable({\n  edges: { top: true, left: true, bottom: true, right: true },\n  onmove: function (event) {\n    resizableRect.translateLocal(event.deltaRect.left, event.deltaRect.top);\n    resizableRect.style.width = event.rect.width;\n    resizableRect.style.height = event.rect.height;\n\n    resizableRectText.style.wordWrapWidth = event.rect.width;\n  },\n});\n\n/**\n * Drop zone\n */\nconst dropZone = new Rect({\n  style: {\n    x: 100,\n    y: 50,\n    width: 300,\n    height: 200,\n    fill: '#1890FF',\n  },\n});\ncanvas.appendChild(dropZone);\ninteract(dropZone, {\n  context: canvas.document,\n}).dropzone({\n  accept: '.draggable',\n  overlap: 0.75,\n  ondragenter: function (event) {\n    text.style.text = 'Dragged in';\n  },\n  ondragleave: function (event) {\n    text.style.text = 'Dragged out';\n  },\n  ondrop: function (event) {\n    text.style.text = 'Dropped';\n  },\n  ondropactivate: function (event) {\n    // add active dropzone feedback\n    event.target.style.fill = '#4e4';\n  },\n  ondropdeactivate: function (event) {\n    event.target.style.fill = '#1890FF';\n  },\n});\n\n/**\n * Gesture\n */\nconst gesture = new Circle({\n  style: {\n    fill: 'rgb(239, 244, 255)',\n    fillOpacity: 1,\n    lineWidth: 1,\n    opacity: 1,\n    r: 60,\n    stroke: 'rgb(95, 149, 255)',\n    strokeOpacity: 1,\n  },\n});\nconst gestureText = new Text({\n  style: {\n    text: 'Tap to Change color\\n Doubletap to change size\\n Hold to rotate',\n    fontSize: 12,\n    fill: '#000',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\ngesture.appendChild(gestureText);\ncanvas.appendChild(gesture);\ngesture.setPosition(500, 100);\nlet tapped = false;\nlet doubleTapped = false;\ninteract(gesture, {\n  context: canvas.document,\n})\n  .on('tap', function (event) {\n    event.currentTarget.style.fill = tapped ? 'red' : 'rgb(239, 244, 255)';\n    tapped = !tapped;\n    event.preventDefault();\n  })\n  .on('doubletap', function (event) {\n    event.currentTarget.style.r = doubleTapped ? 100 : 60;\n    doubleTapped = !doubleTapped;\n    event.preventDefault();\n  })\n  .on('hold', function (event) {\n    event.currentTarget.rotateLocal(30);\n  });\n\n/**\n * Snapping\n */\nconst snapRect = new Rect({\n  style: {\n    fill: 'rgb(239, 244, 255)',\n    fillOpacity: 1,\n    lineWidth: 1,\n    opacity: 1,\n    width: 200,\n    height: 200,\n    stroke: 'rgb(95, 149, 255)',\n    strokeOpacity: 1,\n  },\n});\nconst snapCircle = new Circle({\n  style: {\n    fill: 'rgb(239, 244, 255)',\n    fillOpacity: 1,\n    lineWidth: 1,\n    opacity: 1,\n    r: 30,\n    stroke: 'rgb(95, 149, 255)',\n    strokeOpacity: 1,\n  },\n});\nconst snapText = new Text({\n  style: {\n    text: 'Drag me',\n    fontSize: 12,\n    fill: '#000',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\nsnapRect.appendChild(snapCircle);\nsnapCircle.appendChild(snapText);\ncanvas.appendChild(snapRect);\nsnapRect.setPosition(0, 260);\nsnapCircle.translateLocal(150, 150);\ninteract(snapCircle, {\n  context: canvas.document,\n}).draggable({\n  modifiers: [\n    interact.modifiers.restrict({\n      restriction: snapCircle.parentNode,\n      elementRect: { top: 0, left: 0, bottom: 1, right: 1 },\n      endOnly: true,\n    }),\n  ],\n  inertia: true,\n  onmove: function (event) {\n    const { dx, dy } = event;\n    snapCircle.translateLocal(dx, dy);\n  },\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"@antv/g-plugin-css-select\", \"lil-gui\", \"stats.js\", \"interactjs\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"@antv/g-plugin-css-select\"), require(\"lil-gui\"), require(\"stats.js\"), require(\"interactjs\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.gPluginCssSelect, global.lilGui, global.stats, global.interactjs);\n    global.interact = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, _gPluginCssSelect, lil, _stats, _interactjs) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n  _interactjs = _interopRequireDefault(_interactjs);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * use interact.js\n   * @see https://interactjs.io/\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // register css select plugin\n\n  canvasRenderer.registerPlugin(new _gPluginCssSelect.Plugin());\n  webglRenderer.registerPlugin(new _gPluginCssSelect.Plugin());\n  svgRenderer.registerPlugin(new _gPluginCssSelect.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  /**\n   * Draggable\n   */\n\n  var circle = new _g.Circle({\n    className: 'draggable',\n    style: {\n      fill: 'rgb(239, 244, 255)',\n      fillOpacity: 1,\n      lineWidth: 1,\n      opacity: 1,\n      r: 60,\n      stroke: 'rgb(95, 149, 255)',\n      strokeOpacity: 1,\n      zIndex: 1\n    }\n  });\n  var text = new _g.Text({\n    style: {\n      text: 'Drag me',\n      fontSize: 22,\n      fill: '#000',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  circle.appendChild(text);\n  canvas.appendChild(circle);\n  circle.setPosition(100, 100);\n  (0, _interactjs.default)(circle, {\n    context: canvas.document\n  }).draggable({\n    onmove: function onmove(event) {\n      var dx = event.dx,\n          dy = event.dy;\n      circle.translateLocal(dx, dy);\n    }\n  });\n  /**\n   * Resizable\n   */\n\n  var resizableRect = new _g.Rect({\n    style: {\n      x: 220,\n      y: 260,\n      width: 200,\n      height: 200,\n      fill: '#1890FF'\n    }\n  });\n  var resizableRectText = new _g.Text({\n    style: {\n      text: 'Resize from any edge or corner',\n      fontSize: 16,\n      fill: 'white',\n      textAlign: 'left',\n      textBaseline: 'top',\n      wordWrap: true,\n      wordWrapWidth: 200\n    }\n  });\n  resizableRectText.translateLocal(0, 20);\n  resizableRect.appendChild(resizableRectText);\n  canvas.appendChild(resizableRect);\n  (0, _interactjs.default)(resizableRect, {\n    context: canvas.document\n  }).resizable({\n    edges: {\n      top: true,\n      left: true,\n      bottom: true,\n      right: true\n    },\n    onmove: function onmove(event) {\n      resizableRect.translateLocal(event.deltaRect.left, event.deltaRect.top);\n      resizableRect.style.width = event.rect.width;\n      resizableRect.style.height = event.rect.height;\n      resizableRectText.style.wordWrapWidth = event.rect.width;\n    }\n  });\n  /**\n   * Drop zone\n   */\n\n  var dropZone = new _g.Rect({\n    style: {\n      x: 100,\n      y: 50,\n      width: 300,\n      height: 200,\n      fill: '#1890FF'\n    }\n  });\n  canvas.appendChild(dropZone);\n  (0, _interactjs.default)(dropZone, {\n    context: canvas.document\n  }).dropzone({\n    accept: '.draggable',\n    overlap: 0.75,\n    ondragenter: function ondragenter(event) {\n      text.style.text = 'Dragged in';\n    },\n    ondragleave: function ondragleave(event) {\n      text.style.text = 'Dragged out';\n    },\n    ondrop: function ondrop(event) {\n      text.style.text = 'Dropped';\n    },\n    ondropactivate: function ondropactivate(event) {\n      // add active dropzone feedback\n      event.target.style.fill = '#4e4';\n    },\n    ondropdeactivate: function ondropdeactivate(event) {\n      event.target.style.fill = '#1890FF';\n    }\n  });\n  /**\n   * Gesture\n   */\n\n  var gesture = new _g.Circle({\n    style: {\n      fill: 'rgb(239, 244, 255)',\n      fillOpacity: 1,\n      lineWidth: 1,\n      opacity: 1,\n      r: 60,\n      stroke: 'rgb(95, 149, 255)',\n      strokeOpacity: 1\n    }\n  });\n  var gestureText = new _g.Text({\n    style: {\n      text: 'Tap to Change color\\n Doubletap to change size\\n Hold to rotate',\n      fontSize: 12,\n      fill: '#000',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  gesture.appendChild(gestureText);\n  canvas.appendChild(gesture);\n  gesture.setPosition(500, 100);\n  var tapped = false;\n  var doubleTapped = false;\n  (0, _interactjs.default)(gesture, {\n    context: canvas.document\n  }).on('tap', function (event) {\n    event.currentTarget.style.fill = tapped ? 'red' : 'rgb(239, 244, 255)';\n    tapped = !tapped;\n    event.preventDefault();\n  }).on('doubletap', function (event) {\n    event.currentTarget.style.r = doubleTapped ? 100 : 60;\n    doubleTapped = !doubleTapped;\n    event.preventDefault();\n  }).on('hold', function (event) {\n    event.currentTarget.rotateLocal(30);\n  });\n  /**\n   * Snapping\n   */\n\n  var snapRect = new _g.Rect({\n    style: {\n      fill: 'rgb(239, 244, 255)',\n      fillOpacity: 1,\n      lineWidth: 1,\n      opacity: 1,\n      width: 200,\n      height: 200,\n      stroke: 'rgb(95, 149, 255)',\n      strokeOpacity: 1\n    }\n  });\n  var snapCircle = new _g.Circle({\n    style: {\n      fill: 'rgb(239, 244, 255)',\n      fillOpacity: 1,\n      lineWidth: 1,\n      opacity: 1,\n      r: 30,\n      stroke: 'rgb(95, 149, 255)',\n      strokeOpacity: 1\n    }\n  });\n  var snapText = new _g.Text({\n    style: {\n      text: 'Drag me',\n      fontSize: 12,\n      fill: '#000',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  snapRect.appendChild(snapCircle);\n  snapCircle.appendChild(snapText);\n  canvas.appendChild(snapRect);\n  snapRect.setPosition(0, 260);\n  snapCircle.translateLocal(150, 150);\n  (0, _interactjs.default)(snapCircle, {\n    context: canvas.document\n  }).draggable({\n    modifiers: [_interactjs.default.modifiers.restrict({\n      restriction: snapCircle.parentNode,\n      elementRect: {\n        top: 0,\n        left: 0,\n        bottom: 1,\n        right: 1\n      },\n      endOnly: true\n    })],\n    inertia: true,\n    onmove: function onmove(event) {\n      var dx = event.dx,\n          dy = event.dy;\n      snapCircle.translateLocal(dx, dy);\n    }\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"event/demo/mutation-observer.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/mutation-observer.js","order":11,"filename":"mutation-observer.js","title":{"zh":"使用 MutationObserver","en":"Use MutationObserver"},"source":"import { Circle, Canvas, MutationObserver } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst circle = new Circle({\n  style: {\n    x: 300,\n    y: 250,\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\ncanvas.appendChild(circle);\n\ncircle.on('mouseenter', () => {\n  circle.attr('fill', '#2FC25B');\n});\n\ncircle.on('mouseleave', () => {\n  circle.attr('fill', '#1890FF');\n});\n\n// use mutation observer\nconst config = { attributes: true, childList: true, subtree: true, attributeOldValue: true };\nconst observer = new MutationObserver((mutationsList, observer) => {\n  for (const mutation of mutationsList) {\n    console.log(mutation);\n    if (mutation.type === 'attributes') {\n    }\n  }\n});\nobserver.observe(circle, config);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nlet currentRenderer = canvasRenderer;\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  currentRenderer =\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer;\n  canvas.setRenderer(currentRenderer);\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.mutationObserver = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var circle = new _g.Circle({\n    style: {\n      x: 300,\n      y: 250,\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  canvas.appendChild(circle);\n  circle.on('mouseenter', function () {\n    circle.attr('fill', '#2FC25B');\n  });\n  circle.on('mouseleave', function () {\n    circle.attr('fill', '#1890FF');\n  }); // use mutation observer\n\n  var config = {\n    attributes: true,\n    childList: true,\n    subtree: true,\n    attributeOldValue: true\n  };\n  var observer = new _g.MutationObserver(function (mutationsList, observer) {\n    var _iterator = _createForOfIteratorHelper(mutationsList),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var mutation = _step.value;\n        console.log(mutation);\n\n        if (mutation.type === 'attributes') {}\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  });\n  observer.observe(circle, config); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var currentRenderer = canvasRenderer;\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    currentRenderer = renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer;\n    canvas.setRenderer(currentRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"event/demo/shapes.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/event/demo/shapes.js","order":1,"filename":"shapes.js","title":{"zh":"多种图形拾取","en":"Multiple shapes picking"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*D7xLQp4L4VoAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Rect, Ellipse, Image, Line, Polyline, Path, Polygon, Text, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst circle = new Circle({\n  style: {\n    r: 50,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    cursor: 'pointer',\n  },\n});\nconst ellipse = new Ellipse({\n  style: {\n    rx: 60,\n    ry: 80,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    cursor: 'pointer',\n  },\n});\nconst rect = new Rect({\n  style: {\n    width: 80,\n    height: 60,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    radius: 8,\n    cursor: 'pointer',\n  },\n});\nconst image = new Image({\n  style: {\n    width: 100,\n    height: 100,\n    img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n    cursor: 'pointer',\n  },\n});\nconst line = new Line({\n  style: {\n    x1: 0,\n    y1: 0,\n    x2: 200,\n    y2: 0,\n    stroke: '#1890FF',\n    lineWidth: 10,\n    cursor: 'pointer',\n  },\n});\nconst polyline = new Polyline({\n  style: {\n    points: [\n      [50, 50],\n      [100, 50],\n      [100, 100],\n      [150, 100],\n      [150, 150],\n      [200, 150],\n      [200, 200],\n      [250, 200],\n    ],\n    stroke: '#1890FF',\n    lineWidth: 10,\n    cursor: 'pointer',\n  },\n});\nconst path = new Path({\n  style: {\n    path:\n      'M 100,300' +\n      'l 50,-25' +\n      'a25,25 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,50 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,75 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,100 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'l 0, 200,' +\n      'z',\n    lineWidth: 10,\n    lineJoin: 'round',\n    stroke: '#1890FF',\n    cursor: 'pointer',\n  },\n});\nconst polygon = new Polygon({\n  style: {\n    points: [\n      [200, 100],\n      [400, 100],\n      [400 + 200 * Math.sin(Math.PI / 6), 100 + 200 * Math.cos(Math.PI / 6)],\n      [400, 100 + 200 * Math.cos(Math.PI / 6) * 2],\n      [200, 100 + 200 * Math.cos(Math.PI / 6) * 2],\n      [200 - 200 * Math.sin(Math.PI / 6), 100 + 200 * Math.cos(Math.PI / 6)],\n    ],\n    stroke: '#1890FF',\n    fill: '#1890FF',\n    lineWidth: 10,\n    cursor: 'pointer',\n  },\n});\nconst text = new Text({\n  style: {\n    fontFamily: 'PingFang SC',\n    text: '这是测试文本',\n    fontSize: 40,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 5,\n    cursor: 'pointer',\n  },\n});\nconst clippedText = new Text({\n  style: {\n    fontFamily: 'PingFang SC',\n    text: '这是测试文本',\n    fontSize: 40,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 5,\n    clipPath: new Circle({\n      style: {\n        x: 20,\n        y: -10,\n        r: 20,\n      },\n    }),\n    cursor: 'pointer',\n  },\n});\n\ncircle.setPosition(100, 100);\ncanvas.appendChild(circle);\n\nellipse.setPosition(220, 100);\ncanvas.appendChild(ellipse);\n\nrect.setPosition(300, 100);\ncanvas.appendChild(rect);\n\nimage.setPosition(400, 100);\ncanvas.appendChild(image);\n\nline.setPosition(100, 200);\ncanvas.appendChild(line);\n\npolyline.setPosition(0, 200);\npolyline.rotate(20);\ncanvas.appendChild(polyline);\n\npath.setPosition(160, 200);\npath.rotate(20);\npath.scale(0.5);\ncanvas.appendChild(path);\n\npolygon.setPosition(340, 200);\npolygon.scale(0.3);\ncanvas.appendChild(polygon);\n\ntext.setPosition(160, 450);\ncanvas.appendChild(text);\n\nclippedText.setPosition(160, 500);\ncanvas.appendChild(clippedText);\n\ncircle.addEventListener('mouseenter', () => {\n  circle.style.fill = '#2FC25B';\n});\ncircle.addEventListener('mouseleave', () => {\n  circle.style.fill = '#1890FF';\n});\nellipse.addEventListener('mouseenter', () => {\n  ellipse.style.fill = '#2FC25B';\n});\nellipse.addEventListener('mouseleave', () => {\n  ellipse.style.fill = '#1890FF';\n});\nrect.addEventListener('mouseenter', () => {\n  rect.style.fill = '#2FC25B';\n});\nrect.addEventListener('mouseleave', () => {\n  rect.style.fill = '#1890FF';\n});\nline.addEventListener('mouseenter', () => {\n  line.style.stroke = '#2FC25B';\n});\nline.addEventListener('mouseleave', () => {\n  line.style.stroke = '#1890FF';\n});\npolyline.addEventListener('mouseenter', () => {\n  polyline.style.stroke = '#2FC25B';\n});\npolyline.addEventListener('mouseleave', () => {\n  polyline.style.stroke = '#1890FF';\n});\npath.addEventListener('mouseenter', () => {\n  path.style.stroke = '#2FC25B';\n});\npath.addEventListener('mouseleave', () => {\n  path.style.stroke = '#1890FF';\n});\npolygon.addEventListener('mouseenter', () => {\n  polygon.style.stroke = '#2FC25B';\n});\npolygon.addEventListener('mouseleave', () => {\n  polygon.style.stroke = '#1890FF';\n});\ntext.addEventListener('mouseenter', () => {\n  text.attr('stroke', '#2FC25B');\n});\ntext.addEventListener('mouseleave', () => {\n  text.attr('stroke', '#F04864');\n});\nclippedText.addEventListener('mouseenter', () => {\n  clippedText.attr('stroke', '#2FC25B');\n});\nclippedText.addEventListener('mouseleave', () => {\n  clippedText.attr('stroke', '#F04864');\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.addEventListener('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.shapes = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var circle = new _g.Circle({\n    style: {\n      r: 50,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      cursor: 'pointer'\n    }\n  });\n  var ellipse = new _g.Ellipse({\n    style: {\n      rx: 60,\n      ry: 80,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      cursor: 'pointer'\n    }\n  });\n  var rect = new _g.Rect({\n    style: {\n      width: 80,\n      height: 60,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      radius: 8,\n      cursor: 'pointer'\n    }\n  });\n  var image = new _g.Image({\n    style: {\n      width: 100,\n      height: 100,\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n      cursor: 'pointer'\n    }\n  });\n  var line = new _g.Line({\n    style: {\n      x1: 0,\n      y1: 0,\n      x2: 200,\n      y2: 0,\n      stroke: '#1890FF',\n      lineWidth: 10,\n      cursor: 'pointer'\n    }\n  });\n  var polyline = new _g.Polyline({\n    style: {\n      points: [[50, 50], [100, 50], [100, 100], [150, 100], [150, 150], [200, 150], [200, 200], [250, 200]],\n      stroke: '#1890FF',\n      lineWidth: 10,\n      cursor: 'pointer'\n    }\n  });\n  var path = new _g.Path({\n    style: {\n      path: 'M 100,300' + 'l 50,-25' + 'a25,25 -30 0,1 50,-25' + 'l 50,-25' + 'a25,50 -30 0,1 50,-25' + 'l 50,-25' + 'a25,75 -30 0,1 50,-25' + 'l 50,-25' + 'a25,100 -30 0,1 50,-25' + 'l 50,-25' + 'l 0, 200,' + 'z',\n      lineWidth: 10,\n      lineJoin: 'round',\n      stroke: '#1890FF',\n      cursor: 'pointer'\n    }\n  });\n  var polygon = new _g.Polygon({\n    style: {\n      points: [[200, 100], [400, 100], [400 + 200 * Math.sin(Math.PI / 6), 100 + 200 * Math.cos(Math.PI / 6)], [400, 100 + 200 * Math.cos(Math.PI / 6) * 2], [200, 100 + 200 * Math.cos(Math.PI / 6) * 2], [200 - 200 * Math.sin(Math.PI / 6), 100 + 200 * Math.cos(Math.PI / 6)]],\n      stroke: '#1890FF',\n      fill: '#1890FF',\n      lineWidth: 10,\n      cursor: 'pointer'\n    }\n  });\n  var text = new _g.Text({\n    style: {\n      fontFamily: 'PingFang SC',\n      text: '这是测试文本',\n      fontSize: 40,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 5,\n      cursor: 'pointer'\n    }\n  });\n  var clippedText = new _g.Text({\n    style: {\n      fontFamily: 'PingFang SC',\n      text: '这是测试文本',\n      fontSize: 40,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 5,\n      clipPath: new _g.Circle({\n        style: {\n          x: 20,\n          y: -10,\n          r: 20\n        }\n      }),\n      cursor: 'pointer'\n    }\n  });\n  circle.setPosition(100, 100);\n  canvas.appendChild(circle);\n  ellipse.setPosition(220, 100);\n  canvas.appendChild(ellipse);\n  rect.setPosition(300, 100);\n  canvas.appendChild(rect);\n  image.setPosition(400, 100);\n  canvas.appendChild(image);\n  line.setPosition(100, 200);\n  canvas.appendChild(line);\n  polyline.setPosition(0, 200);\n  polyline.rotate(20);\n  canvas.appendChild(polyline);\n  path.setPosition(160, 200);\n  path.rotate(20);\n  path.scale(0.5);\n  canvas.appendChild(path);\n  polygon.setPosition(340, 200);\n  polygon.scale(0.3);\n  canvas.appendChild(polygon);\n  text.setPosition(160, 450);\n  canvas.appendChild(text);\n  clippedText.setPosition(160, 500);\n  canvas.appendChild(clippedText);\n  circle.addEventListener('mouseenter', function () {\n    circle.style.fill = '#2FC25B';\n  });\n  circle.addEventListener('mouseleave', function () {\n    circle.style.fill = '#1890FF';\n  });\n  ellipse.addEventListener('mouseenter', function () {\n    ellipse.style.fill = '#2FC25B';\n  });\n  ellipse.addEventListener('mouseleave', function () {\n    ellipse.style.fill = '#1890FF';\n  });\n  rect.addEventListener('mouseenter', function () {\n    rect.style.fill = '#2FC25B';\n  });\n  rect.addEventListener('mouseleave', function () {\n    rect.style.fill = '#1890FF';\n  });\n  line.addEventListener('mouseenter', function () {\n    line.style.stroke = '#2FC25B';\n  });\n  line.addEventListener('mouseleave', function () {\n    line.style.stroke = '#1890FF';\n  });\n  polyline.addEventListener('mouseenter', function () {\n    polyline.style.stroke = '#2FC25B';\n  });\n  polyline.addEventListener('mouseleave', function () {\n    polyline.style.stroke = '#1890FF';\n  });\n  path.addEventListener('mouseenter', function () {\n    path.style.stroke = '#2FC25B';\n  });\n  path.addEventListener('mouseleave', function () {\n    path.style.stroke = '#1890FF';\n  });\n  polygon.addEventListener('mouseenter', function () {\n    polygon.style.stroke = '#2FC25B';\n  });\n  polygon.addEventListener('mouseleave', function () {\n    polygon.style.stroke = '#1890FF';\n  });\n  text.addEventListener('mouseenter', function () {\n    text.attr('stroke', '#2FC25B');\n  });\n  text.addEventListener('mouseleave', function () {\n    text.attr('stroke', '#F04864');\n  });\n  clippedText.addEventListener('mouseenter', function () {\n    clippedText.attr('stroke', '#2FC25B');\n  });\n  clippedText.addEventListener('mouseleave', function () {\n    clippedText.attr('stroke', '#F04864');\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"ecosystem/demo/d3-linechart.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/ecosystem/demo/d3-linechart.js","order":2,"filename":"d3-linechart.js","title":{"zh":"替换 D3 渲染层 - 折线图","en":"D3's Linechart"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*j50URoC5hSMAAAAAAAAAAAAAARQnAQ","source":"import { Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport * as d3 from 'd3';\nimport Stats from 'stats.js';\n\n/**\n * inspired by sprite.js\n * @see http://spritejs.com/#/en/guide/d3\n *\n * ported from fullstack-d3\n * @see https://codesandbox.io/s/30io6?file=/chart.js\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst drawLineChart = async () => {\n  // 1. Access data\n  const data = await d3.json(\n    'https://gw.alipayobjects.com/os/bmw-prod/8e7cfeb6-28e5-4e78-8d16-c08468360f5f.json',\n  );\n  const parseDate = d3.timeParse('%Y-%m-%d');\n  //define x axis with xAccessor, wrape with parseDate from above\n  const xAccessor = (d) => parseDate(d['date']);\n  const yAccessor = (d) => d['temperatureMax'];\n\n  // 2. Create chart dimensions\n  const width = 600;\n  let dimensions = {\n    width: width,\n    height: width * 0.6,\n    margin: {\n      top: 30,\n      right: 10,\n      bottom: 50,\n      left: 50,\n    },\n  };\n  dimensions.boundedWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right;\n  dimensions.boundedHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom;\n\n  // 3. Draw canvas\n  const container = d3\n    .select(\n      canvas.document.documentElement, // use GCanvas' document element instead of a real DOM\n    )\n    .append('g')\n    .attr('x', dimensions.margin.left)\n    .attr('y', dimensions.margin.top);\n\n  // 4. Create scales\n\n  const yScale = d3\n    .scaleLinear()\n    //domain is the min and max input value, range is min and max output\n    //domain should be the smallest and largest numbers our y axis will need to handle — in this case the lowest and highest max temperature in our dataset.\n    // could define ourselves with .domain([0, 100])\n    //better to use d3.extent, which will figure if out for us\n    //needs two parameters, the data and the yAccessor (temp max)\n    .domain(d3.extent(data, yAccessor))\n    //range, in this case, should be min and max on xaxis. Can use boundedHeight to stay within margins\n    .range([dimensions.boundedHeight, 0]);\n\n  //Draw a rectangle covering all temps below freezing.\n  //define scale - 32 degrees\n  const freezingTemperaturePlacement = yScale(32);\n  //create the rectangle with x,y, width and height\n  const freezingTemperatures = container\n    .append('rect')\n    .attr('x', 0)\n    .attr('width', dimensions.boundedWidth)\n    .attr('y', freezingTemperaturePlacement)\n    .attr('height', dimensions.boundedHeight - freezingTemperaturePlacement)\n    .attr('fill', '#e0f3f3');\n\n  const xScale = d3\n    .scaleTime()\n    .domain(d3.extent(data, xAccessor))\n    .range([0, dimensions.boundedWidth]);\n\n  // 5. Draw data\n\n  //We transform our data point with both the accessor function and the scale to get the scaled value in pixel space.\n\n  const lineGenerator = d3\n    .line()\n    .x((d) => xScale(xAccessor(d)))\n    .y((d) => yScale(yAccessor(d)));\n\n  //Now add the path element to the points\n  // Will be filled by default. Use styles to add a stroke\n  const line = container\n    .append('path')\n    .attr('d', lineGenerator(data))\n    .attr('fill', 'none')\n    .attr('stroke', '#af9358')\n    .attr('stroke-width', 2);\n\n  // 6. Draw Axis\n\n  const yAxisGenerator = d3.axisLeft().scale(yScale);\n\n  const yAxis = container.append('g').call(yAxisGenerator);\n\n  const xAxisGenerator = d3.axisBottom().scale(xScale);\n\n  const xAxis = container\n    .append('g')\n    .call(xAxisGenerator)\n    .style('transform', `translateY(${dimensions.boundedHeight}px)`);\n};\n\ndrawLineChart();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"d3\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"d3\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.d3, global.stats);\n    global.d3Linechart = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, d3, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  d3 = _interopRequireWildcard(d3);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * inspired by sprite.js\n   * @see http://spritejs.com/#/en/guide/d3\n   *\n   * ported from fullstack-d3\n   * @see https://codesandbox.io/s/30io6?file=/chart.js\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n\n  var drawLineChart = async function drawLineChart() {\n    // 1. Access data\n    var data = await d3.json('https://gw.alipayobjects.com/os/bmw-prod/8e7cfeb6-28e5-4e78-8d16-c08468360f5f.json');\n    var parseDate = d3.timeParse('%Y-%m-%d'); //define x axis with xAccessor, wrape with parseDate from above\n\n    var xAccessor = function xAccessor(d) {\n      return parseDate(d['date']);\n    };\n\n    var yAccessor = function yAccessor(d) {\n      return d['temperatureMax'];\n    }; // 2. Create chart dimensions\n\n\n    var width = 600;\n    var dimensions = {\n      width: width,\n      height: width * 0.6,\n      margin: {\n        top: 30,\n        right: 10,\n        bottom: 50,\n        left: 50\n      }\n    };\n    dimensions.boundedWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right;\n    dimensions.boundedHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom; // 3. Draw canvas\n\n    var container = d3.select(canvas.document.documentElement // use GCanvas' document element instead of a real DOM\n    ).append('g').attr('x', dimensions.margin.left).attr('y', dimensions.margin.top); // 4. Create scales\n\n    var yScale = d3.scaleLinear() //domain is the min and max input value, range is min and max output\n    //domain should be the smallest and largest numbers our y axis will need to handle — in this case the lowest and highest max temperature in our dataset.\n    // could define ourselves with .domain([0, 100])\n    //better to use d3.extent, which will figure if out for us\n    //needs two parameters, the data and the yAccessor (temp max)\n    .domain(d3.extent(data, yAccessor)) //range, in this case, should be min and max on xaxis. Can use boundedHeight to stay within margins\n    .range([dimensions.boundedHeight, 0]); //Draw a rectangle covering all temps below freezing.\n    //define scale - 32 degrees\n\n    var freezingTemperaturePlacement = yScale(32); //create the rectangle with x,y, width and height\n\n    var freezingTemperatures = container.append('rect').attr('x', 0).attr('width', dimensions.boundedWidth).attr('y', freezingTemperaturePlacement).attr('height', dimensions.boundedHeight - freezingTemperaturePlacement).attr('fill', '#e0f3f3');\n    var xScale = d3.scaleTime().domain(d3.extent(data, xAccessor)).range([0, dimensions.boundedWidth]); // 5. Draw data\n    //We transform our data point with both the accessor function and the scale to get the scaled value in pixel space.\n\n    var lineGenerator = d3.line().x(function (d) {\n      return xScale(xAccessor(d));\n    }).y(function (d) {\n      return yScale(yAccessor(d));\n    }); //Now add the path element to the points\n    // Will be filled by default. Use styles to add a stroke\n\n    var line = container.append('path').attr('d', lineGenerator(data)).attr('fill', 'none').attr('stroke', '#af9358').attr('stroke-width', 2); // 6. Draw Axis\n\n    var yAxisGenerator = d3.axisLeft().scale(yScale);\n    var yAxis = container.append('g').call(yAxisGenerator);\n    var xAxisGenerator = d3.axisBottom().scale(xScale);\n    var xAxis = container.append('g').call(xAxisGenerator).style('transform', \"translateY(\".concat(dimensions.boundedHeight, \"px)\"));\n  };\n\n  drawLineChart(); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"ecosystem/demo/d3-piechart.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/ecosystem/demo/d3-piechart.js","order":0,"filename":"d3-piechart.js","title":{"zh":"替换 D3 渲染层 - 饼图","en":"D3's Piechart"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*Wq7wSK_0p3AAAAAAAAAAAAAAARQnAQ","source":"import { Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport * as d3 from 'd3';\nimport Stats from 'stats.js';\n\n/**\n * inspired by sprite.js\n * @see http://spritejs.com/#/en/guide/d3\n *\n * ported from fullstack-d3\n * @see https://codesandbox.io/s/z375662r0p?file=/src/index.js\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst data = [38024.7, 209484.6, 6201.2, 17741.9, 24377.7];\nconst total = d3.sum(data);\n\nconst width = 600;\n\nconst wrapper = d3.select(\n  canvas.document.documentElement, // use GCanvas' document element instead of a real DOM\n);\n\nconst bounds = wrapper.append('g').style('transform', `translate(${width / 2}px, ${width / 2}px)`);\nconst svg = bounds.append('g');\n\nconst colors = 'blue red maroon gray orange'.split(' ');\n\nconst sectorArc = d3\n  .arc()\n  .innerRadius(width / 8)\n  .outerRadius(width / 5);\n\nconst tweens = [\n  function (sectorData) {\n    const currentPath = this.getAttribute('d');\n    return d3.interpolate(currentPath, sectorArc(sectorData));\n  },\n  function (sectorData) {\n    const interpolator = d3.interpolate(this._current, sectorData);\n    this._current = interpolator(0);\n    return (t) => sectorArc(interpolator(t));\n  },\n];\n\nfunction drawCharts(data) {\n  const pieData = d3.pie().sort(null)(data);\n  const sectors = svg.selectAll('path').data(pieData);\n\n  sectors\n    .enter()\n    .append('path')\n    .attr('fill', (_, i) => colors[i])\n    .attr('d', sectorArc)\n    .property('_current', (d) => d);\n\n  sectors.transition().duration(1000).attrTween('d', tweens[1]);\n}\n\ndrawCharts(data);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nlet isEven = false;\nconst animationFolder = gui.addFolder('animation');\nconst animationConfig = {\n  swapData: () => {\n    isEven = !isEven;\n    drawCharts(isEven ? [...data].fill(total / data.length) : data);\n  },\n};\nanimationFolder.add(animationConfig, 'swapData');\nanimationFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"d3\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"d3\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.d3, global.stats);\n    global.d3Piechart = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, d3, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  d3 = _interopRequireWildcard(d3);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * inspired by sprite.js\n   * @see http://spritejs.com/#/en/guide/d3\n   *\n   * ported from fullstack-d3\n   * @see https://codesandbox.io/s/z375662r0p?file=/src/index.js\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var data = [38024.7, 209484.6, 6201.2, 17741.9, 24377.7];\n  var total = d3.sum(data);\n  var width = 600;\n  var wrapper = d3.select(canvas.document.documentElement // use GCanvas' document element instead of a real DOM\n  );\n  var bounds = wrapper.append('g').style('transform', \"translate(\".concat(width / 2, \"px, \").concat(width / 2, \"px)\"));\n  var svg = bounds.append('g');\n  var colors = 'blue red maroon gray orange'.split(' ');\n  var sectorArc = d3.arc().innerRadius(width / 8).outerRadius(width / 5);\n  var tweens = [function (sectorData) {\n    var currentPath = this.getAttribute('d');\n    return d3.interpolate(currentPath, sectorArc(sectorData));\n  }, function (sectorData) {\n    var interpolator = d3.interpolate(this._current, sectorData);\n    this._current = interpolator(0);\n    return function (t) {\n      return sectorArc(interpolator(t));\n    };\n  }];\n\n  function drawCharts(data) {\n    var pieData = d3.pie().sort(null)(data);\n    var sectors = svg.selectAll('path').data(pieData);\n    sectors.enter().append('path').attr('fill', function (_, i) {\n      return colors[i];\n    }).attr('d', sectorArc).property('_current', function (d) {\n      return d;\n    });\n    sectors.transition().duration(1000).attrTween('d', tweens[1]);\n  }\n\n  drawCharts(data); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var isEven = false;\n  var animationFolder = gui.addFolder('animation');\n  var animationConfig = {\n    swapData: function swapData() {\n      isEven = !isEven;\n      drawCharts(isEven ? [].concat(data).fill(total / data.length) : data);\n    }\n  };\n  animationFolder.add(animationConfig, 'swapData');\n  animationFolder.open();\n});"},{"relativePath":"ecosystem/demo/d3-scatterplot.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/ecosystem/demo/d3-scatterplot.js","order":3,"filename":"d3-scatterplot.js","title":{"zh":"替换 D3 渲染层 - 散点图","en":"D3's Scatterplot"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*JTbHSYrWlYQAAAAAAAAAAAAAARQnAQ","source":"import { Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport * as d3 from 'd3';\nimport Stats from 'stats.js';\n\n/**\n * use D3's data-driven syntax & G's rendering, ported from fullstack-d3\n * @see https://codesandbox.io/s/ruu4q?file=/chart.js\n *\n * inspired by sprite.js\n * @see http://spritejs.com/#/en/guide/d3\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 600,\n  renderer: canvasRenderer,\n});\n\nconst drawScatter = async () => {\n  // 1. Access data\n  const dataset = await d3.json(\n    'https://gw.alipayobjects.com/os/bmw-prod/8e7cfeb6-28e5-4e78-8d16-c08468360f5f.json',\n  );\n  const xAccessor = (d) => d.dewPoint;\n  const yAccessor = (d) => d.humidity;\n  const colorAccessor = (d) => d.cloudCover;\n\n  // 2. Create chart dimensions\n  const width = 600;\n  let dimensions = {\n    width: width,\n    height: width,\n    margin: {\n      top: 10,\n      right: 10,\n      bottom: 50,\n      left: 50,\n    },\n  };\n  dimensions.boundedWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right;\n  dimensions.boundedHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom;\n\n  // 3. Draw canvas\n  const bounds = d3\n    .select(\n      canvas.document.documentElement, // use GCanvas' document element instead of a real DOM\n    )\n    .append('g')\n    .attr('x', dimensions.margin.left)\n    .attr('y', dimensions.margin.top);\n\n  // 4. Create scales\n\n  const xScale = d3\n    .scaleLinear()\n    .domain(d3.extent(dataset, xAccessor))\n    .range([0, dimensions.boundedWidth])\n    .nice();\n\n  const yScale = d3\n    .scaleLinear()\n    .domain(d3.extent(dataset, yAccessor))\n    .range([dimensions.boundedHeight, 0])\n    .nice();\n\n  const colorScale = d3\n    .scaleLinear()\n    .domain(d3.extent(dataset, colorAccessor))\n    .range(['skyblue', 'darkslategrey']);\n\n  // 5. Draw data\n\n  const dots = bounds.selectAll('circle').data(dataset);\n\n  dots\n    .join('circle')\n    .attr('cx', (d) => xScale(xAccessor(d)))\n    .attr('cy', (d) => yScale(yAccessor(d)))\n    .attr('r', 5)\n    .attr('fill', (d) => colorScale(colorAccessor(d)));\n\n  // 6. Draw Preipherals - x axis and y axis\n\n  //create a variable for xaxis and define it\n  const xAxisGenerator = d3.axisBottom().scale(xScale);\n\n  //add to the bounds\n  const xAxis = bounds\n    .append('g')\n    .call(xAxisGenerator)\n    //move to the bottom of the screen\n    .style('transform', `translateY(${dimensions.boundedHeight}px)`);\n\n  const xAxisLabel = xAxis\n    .append('text')\n    .attr('x', dimensions.boundedWidth / 2)\n    .attr('y', dimensions.margin.bottom - 10)\n    .attr('fill', 'black')\n    .style('font-size', '1.4em')\n    .html('Dew point (&deg;F)');\n\n  //same thing with the y axis\n  const yAxisGenerator = d3\n    .axisLeft()\n    .scale(yScale)\n    //define the number of ticks that you want\n    .ticks(4);\n\n  const yAxis = bounds.append('g').call(yAxisGenerator);\n\n  const yAxisLabel = yAxis\n    .append('text')\n    //using negative dimensions so we can rotate below with transform\n    .attr('x', -dimensions.boundedHeight / 2)\n    .attr('y', -dimensions.margin.left + 10)\n    .style('fill', 'black')\n    .text('Relative Humidity')\n    .style('transform', 'rotate(-90deg)')\n    .style('font-size', '1.4em')\n    .style('text-anchor', 'middle');\n};\n\ndrawScatter();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"d3\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"d3\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.d3, global.stats);\n    global.d3Scatterplot = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, d3, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  d3 = _interopRequireWildcard(d3);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * use D3's data-driven syntax & G's rendering, ported from fullstack-d3\n   * @see https://codesandbox.io/s/ruu4q?file=/chart.js\n   *\n   * inspired by sprite.js\n   * @see http://spritejs.com/#/en/guide/d3\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 600,\n    renderer: canvasRenderer\n  });\n\n  var drawScatter = async function drawScatter() {\n    // 1. Access data\n    var dataset = await d3.json('https://gw.alipayobjects.com/os/bmw-prod/8e7cfeb6-28e5-4e78-8d16-c08468360f5f.json');\n\n    var xAccessor = function xAccessor(d) {\n      return d.dewPoint;\n    };\n\n    var yAccessor = function yAccessor(d) {\n      return d.humidity;\n    };\n\n    var colorAccessor = function colorAccessor(d) {\n      return d.cloudCover;\n    }; // 2. Create chart dimensions\n\n\n    var width = 600;\n    var dimensions = {\n      width: width,\n      height: width,\n      margin: {\n        top: 10,\n        right: 10,\n        bottom: 50,\n        left: 50\n      }\n    };\n    dimensions.boundedWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right;\n    dimensions.boundedHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom; // 3. Draw canvas\n\n    var bounds = d3.select(canvas.document.documentElement // use GCanvas' document element instead of a real DOM\n    ).append('g').attr('x', dimensions.margin.left).attr('y', dimensions.margin.top); // 4. Create scales\n\n    var xScale = d3.scaleLinear().domain(d3.extent(dataset, xAccessor)).range([0, dimensions.boundedWidth]).nice();\n    var yScale = d3.scaleLinear().domain(d3.extent(dataset, yAccessor)).range([dimensions.boundedHeight, 0]).nice();\n    var colorScale = d3.scaleLinear().domain(d3.extent(dataset, colorAccessor)).range(['skyblue', 'darkslategrey']); // 5. Draw data\n\n    var dots = bounds.selectAll('circle').data(dataset);\n    dots.join('circle').attr('cx', function (d) {\n      return xScale(xAccessor(d));\n    }).attr('cy', function (d) {\n      return yScale(yAccessor(d));\n    }).attr('r', 5).attr('fill', function (d) {\n      return colorScale(colorAccessor(d));\n    }); // 6. Draw Preipherals - x axis and y axis\n    //create a variable for xaxis and define it\n\n    var xAxisGenerator = d3.axisBottom().scale(xScale); //add to the bounds\n\n    var xAxis = bounds.append('g').call(xAxisGenerator) //move to the bottom of the screen\n    .style('transform', \"translateY(\".concat(dimensions.boundedHeight, \"px)\"));\n    var xAxisLabel = xAxis.append('text').attr('x', dimensions.boundedWidth / 2).attr('y', dimensions.margin.bottom - 10).attr('fill', 'black').style('font-size', '1.4em').html('Dew point (&deg;F)'); //same thing with the y axis\n\n    var yAxisGenerator = d3.axisLeft().scale(yScale) //define the number of ticks that you want\n    .ticks(4);\n    var yAxis = bounds.append('g').call(yAxisGenerator);\n    var yAxisLabel = yAxis.append('text') //using negative dimensions so we can rotate below with transform\n    .attr('x', -dimensions.boundedHeight / 2).attr('y', -dimensions.margin.left + 10).style('fill', 'black').text('Relative Humidity').style('transform', 'rotate(-90deg)').style('font-size', '1.4em').style('text-anchor', 'middle');\n  };\n\n  drawScatter(); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"ecosystem/demo/d3-barchart.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/ecosystem/demo/d3-barchart.js","order":1,"filename":"d3-barchart.js","title":{"zh":"替换 D3 渲染层 - 柱状图","en":"Takeover D3's rendering layer"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*h6vDS6eRVFoAAAAAAAAAAAAAARQnAQ","source":"import { Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport * as d3 from 'd3';\nimport Stats from 'stats.js';\n\n/**\n * inspired by sprite.js\n * @see http://spritejs.com/#/en/guide/d3\n *\n * ported from fullstack-d3\n * @see https://codesandbox.io/s/vllpx?file=/chart.js\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst drawBars = async () => {\n  // 1. Access data\n  const dataset = await d3.json(\n    'https://gw.alipayobjects.com/os/bmw-prod/8e7cfeb6-28e5-4e78-8d16-c08468360f5f.json',\n  );\n  const metricAccessor = (d) => d.humidity;\n  const yAccessor = (d) => d.length;\n\n  // 2. Create chart dimensions\n  const width = 600;\n  let dimensions = {\n    width: width,\n    height: width * 0.6,\n    margin: {\n      top: 30,\n      right: 10,\n      bottom: 50,\n      left: 50,\n    },\n  };\n  dimensions.boundedWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right;\n  dimensions.boundedHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom;\n\n  // 3. Draw canvas\n  const wrapper = d3.select(\n    canvas.document.documentElement, // use GCanvas' document element instead of a real DOM\n  );\n\n  const bounds = wrapper\n    .append('g')\n    .style('transform', `translate(${dimensions.margin.left}px, ${dimensions.margin.top}px)`);\n\n  // 4. Create scales\n\n  const xScale = d3\n    .scaleLinear()\n    .domain(d3.extent(dataset, metricAccessor))\n    .range([0, dimensions.boundedWidth])\n    .nice();\n\n  const binsGenerator = d3.bin().domain(xScale.domain()).value(metricAccessor).thresholds(12);\n\n  const bins = binsGenerator(dataset);\n\n  const yScale = d3\n    .scaleLinear()\n    .domain([0, d3.max(bins, yAccessor)])\n    .range([dimensions.boundedHeight, 0])\n    .nice();\n\n  // 5. Draw data\n  const binsGroup = bounds.append('g');\n  const binGroups = binsGroup.selectAll('g').data(bins).join('g').attr('class', 'bin');\n\n  const barPadding = 1;\n  const barRects = binGroups\n    .append('rect')\n    .attr('x', (d) => xScale(d.x0) + barPadding / 2)\n    .attr('y', (d) => yScale(yAccessor(d)))\n    .attr('width', (d) => d3.max([0, xScale(d.x1) - xScale(d.x0) - barPadding]))\n    .attr('height', (d) => dimensions.boundedHeight - yScale(yAccessor(d)))\n    .attr('fill', 'cornflowerblue')\n    .on('mouseenter', function (e) {\n      d3.select(e.target).attr('fill', 'red');\n    })\n    .on('mouseleave', function (e) {\n      d3.select(e.target).attr('fill', 'cornflowerblue');\n    });\n\n  const barText = binGroups\n    .filter(yAccessor)\n    .append('text')\n    .attr('x', (d) => xScale(d.x0) + (xScale(d.x1) - xScale(d.x0)) / 2)\n    .attr('y', (d) => yScale(yAccessor(d)) - 5)\n    .text(yAccessor)\n    .attr('fill', 'darkgrey')\n    .style('text-anchor', 'middle')\n    .style('font-size', '12px')\n    .style('font-family', 'sans-serif');\n\n  const mean = d3.mean(dataset, metricAccessor);\n  const meanLine = bounds\n    .append('line')\n    .attr('x1', xScale(mean))\n    .attr('x2', xScale(mean))\n    .attr('y1', -15)\n    .attr('y2', dimensions.boundedHeight)\n    .attr('stroke-width', 1)\n    .attr('stroke', 'maroon')\n    .attr('stroke-dasharray', '2px 4px');\n\n  const meanLabel = bounds\n    .append('text')\n    .attr('x', xScale(mean))\n    .attr('y', -20)\n    .text('mean')\n    .attr('fill', 'maroon')\n    .style('font-size', '12px')\n    .style('text-anchor', 'middle');\n\n  // 6. Draw peripherals\n  const xAxisGenerator = d3.axisBottom().scale(xScale);\n\n  const xAxis = bounds\n    .append('g')\n    .call(xAxisGenerator)\n    .attr('transform', `translateY(${dimensions.boundedHeight}px)`)\n    .attr('fill', 'black');\n\n  const xAxisLabel = xAxis\n    .append('text')\n    .attr('x', dimensions.boundedWidth / 2)\n    .attr('y', dimensions.margin.bottom - 10)\n    .attr('fill', 'black')\n    .style('font-size', '10px')\n    .text('Humidity')\n    .style('text-transform', 'capitalize');\n};\n\ndrawBars();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"d3\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"d3\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.d3, global.stats);\n    global.d3Barchart = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, d3, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  d3 = _interopRequireWildcard(d3);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * inspired by sprite.js\n   * @see http://spritejs.com/#/en/guide/d3\n   *\n   * ported from fullstack-d3\n   * @see https://codesandbox.io/s/vllpx?file=/chart.js\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n\n  var drawBars = async function drawBars() {\n    // 1. Access data\n    var dataset = await d3.json('https://gw.alipayobjects.com/os/bmw-prod/8e7cfeb6-28e5-4e78-8d16-c08468360f5f.json');\n\n    var metricAccessor = function metricAccessor(d) {\n      return d.humidity;\n    };\n\n    var yAccessor = function yAccessor(d) {\n      return d.length;\n    }; // 2. Create chart dimensions\n\n\n    var width = 600;\n    var dimensions = {\n      width: width,\n      height: width * 0.6,\n      margin: {\n        top: 30,\n        right: 10,\n        bottom: 50,\n        left: 50\n      }\n    };\n    dimensions.boundedWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right;\n    dimensions.boundedHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom; // 3. Draw canvas\n\n    var wrapper = d3.select(canvas.document.documentElement // use GCanvas' document element instead of a real DOM\n    );\n    var bounds = wrapper.append('g').style('transform', \"translate(\".concat(dimensions.margin.left, \"px, \").concat(dimensions.margin.top, \"px)\")); // 4. Create scales\n\n    var xScale = d3.scaleLinear().domain(d3.extent(dataset, metricAccessor)).range([0, dimensions.boundedWidth]).nice();\n    var binsGenerator = d3.bin().domain(xScale.domain()).value(metricAccessor).thresholds(12);\n    var bins = binsGenerator(dataset);\n    var yScale = d3.scaleLinear().domain([0, d3.max(bins, yAccessor)]).range([dimensions.boundedHeight, 0]).nice(); // 5. Draw data\n\n    var binsGroup = bounds.append('g');\n    var binGroups = binsGroup.selectAll('g').data(bins).join('g').attr('class', 'bin');\n    var barPadding = 1;\n    var barRects = binGroups.append('rect').attr('x', function (d) {\n      return xScale(d.x0) + barPadding / 2;\n    }).attr('y', function (d) {\n      return yScale(yAccessor(d));\n    }).attr('width', function (d) {\n      return d3.max([0, xScale(d.x1) - xScale(d.x0) - barPadding]);\n    }).attr('height', function (d) {\n      return dimensions.boundedHeight - yScale(yAccessor(d));\n    }).attr('fill', 'cornflowerblue').on('mouseenter', function (e) {\n      d3.select(e.target).attr('fill', 'red');\n    }).on('mouseleave', function (e) {\n      d3.select(e.target).attr('fill', 'cornflowerblue');\n    });\n    var barText = binGroups.filter(yAccessor).append('text').attr('x', function (d) {\n      return xScale(d.x0) + (xScale(d.x1) - xScale(d.x0)) / 2;\n    }).attr('y', function (d) {\n      return yScale(yAccessor(d)) - 5;\n    }).text(yAccessor).attr('fill', 'darkgrey').style('text-anchor', 'middle').style('font-size', '12px').style('font-family', 'sans-serif');\n    var mean = d3.mean(dataset, metricAccessor);\n    var meanLine = bounds.append('line').attr('x1', xScale(mean)).attr('x2', xScale(mean)).attr('y1', -15).attr('y2', dimensions.boundedHeight).attr('stroke-width', 1).attr('stroke', 'maroon').attr('stroke-dasharray', '2px 4px');\n    var meanLabel = bounds.append('text').attr('x', xScale(mean)).attr('y', -20).text('mean').attr('fill', 'maroon').style('font-size', '12px').style('text-anchor', 'middle'); // 6. Draw peripherals\n\n    var xAxisGenerator = d3.axisBottom().scale(xScale);\n    var xAxis = bounds.append('g').call(xAxisGenerator).attr('transform', \"translateY(\".concat(dimensions.boundedHeight, \"px)\")).attr('fill', 'black');\n    var xAxisLabel = xAxis.append('text').attr('x', dimensions.boundedWidth / 2).attr('y', dimensions.margin.bottom - 10).attr('fill', 'black').style('font-size', '10px').text('Humidity').style('text-transform', 'capitalize');\n  };\n\n  drawBars(); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"ecosystem/demo/react-g.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/ecosystem/demo/react-g.js","order":4,"filename":"react-g.js","title":{"zh":"ReactG","en":"ReactG"},"source":"import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Canvas, Circle } from '@antv/react-g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\n\nconst renderer = new WebGLRenderer();\n\nconst App = () => {\n  const [size, setSize] = useState(50);\n  return (\n    <Canvas width={600} height={400} renderer={renderer}>\n      <Circle\n        x={100}\n        y={200}\n        r={size}\n        fill=\"#1890FF\"\n        stroke=\"#F04864\"\n        lineWidth={4}\n        onMouseenter={() => {\n          setSize(100);\n        }}\n        onMouseleave={() => {\n          setSize(50);\n        }}\n      />\n    </Canvas>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('container'));\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/react-g\", \"@antv/g-webgl\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/react-g\"), require(\"@antv/g-webgl\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.reactG, global.gWebgl);\n    global.reactG = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _reactG, _gWebgl) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  var renderer = new _gWebgl.Renderer();\n\n  var App = function App() {\n    var _useState = (0, _react.useState)(50),\n        _useState2 = _slicedToArray(_useState, 2),\n        size = _useState2[0],\n        setSize = _useState2[1];\n\n    return /*#__PURE__*/_react.default.createElement(_reactG.Canvas, {\n      width: 600,\n      height: 400,\n      renderer: renderer\n    }, /*#__PURE__*/_react.default.createElement(_reactG.Circle, {\n      x: 100,\n      y: 200,\n      r: size,\n      fill: \"#1890FF\",\n      stroke: \"#F04864\",\n      lineWidth: 4,\n      onMouseenter: function onMouseenter() {\n        setSize(100);\n      },\n      onMouseleave: function onMouseleave() {\n        setSize(50);\n      }\n    }));\n  };\n\n  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, null), document.getElementById('container'));\n});"},{"relativePath":"ecosystem/demo/d3-annotation.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/ecosystem/demo/d3-annotation.js","order":-1,"filename":"d3-annotation.js","source":"import { Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport { Plugin as PluginCSSSelect } from '@antv/g-plugin-css-select';\nimport * as lil from 'lil-gui';\nimport * as d3 from 'd3';\nimport * as d3SvgAnnotation from 'd3-svg-annotation';\nimport Stats from 'stats.js';\n\nObject.assign(d3, d3SvgAnnotation);\n\n/**\n * inspired by sprite.js\n * @see http://spritejs.com/#/en/guide/d3\n *\n * ported from https://d3-annotation.susielu.com/\n * @see https://bl.ocks.org/susielu/974e41473737320f8db5ae711ded8542\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\nconst cssSelectPlugin = new PluginCSSSelect();\n\ncanvasRenderer.registerPlugin(cssSelectPlugin);\nwebglRenderer.registerPlugin(cssSelectPlugin);\nsvgRenderer.registerPlugin(cssSelectPlugin);\n\n// create chart dimensions\nconst margin = { top: 20, right: 20, bottom: 30, left: 50 },\n  height = 500 - margin.top - margin.bottom;\nconst maxWidth = 860 - margin.left - margin.right;\nlet width = 860 - margin.left - margin.right;\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 960,\n  height: height + margin.top + margin.bottom,\n  renderer: canvasRenderer,\n});\n\nconst drawBars = async () => {\n  const wrapper = d3.select(\n    canvas.document.documentElement, // use GCanvas' document element instead of a real DOM\n  );\n\n  const svg = wrapper\n    .append('g')\n    .style('transform', `translate(${margin.left}px, ${margin.top}px)`);\n\n  const parseTime = d3.timeParse('%d-%b-%y');\n  const x = d3.scaleTime().range([0, width]);\n  const y = d3.scaleLinear().range([height, 0]);\n\n  const valueline = d3\n    .line()\n    .x((d) => x(d.date))\n    .y((d) => y(d.close));\n\n  const data = await d3.json(\n    'https://gw.alipayobjects.com/os/bmw-prod/e5e0e405-e0b0-4585-a10d-caf6b657dc9f.json',\n  );\n\n  data.forEach(function (d) {\n    d.date = parseTime(d.date);\n    d.close = +d.close;\n  });\n\n  x.domain(d3.extent(data, (d) => d.date));\n  y.domain([0, d3.max(data, (d) => d.close)]);\n\n  svg\n    .append('path')\n    .data([data])\n    .attr('class', 'line')\n    .attr('d', valueline)\n    .style('stroke', 'black')\n    .style('stroke-width', '1px');\n\n  svg\n    .append('g')\n    .attr('class', 'x-axis')\n    .attr('transform', 'translate(0,' + height + ')')\n    .call(d3.axisBottom(x));\n\n  svg.append('g').call(d3.axisLeft(y));\n\n  //Add annotations\n  const labels = [\n    {\n      data: { date: '9-Apr-12', close: 636.23 },\n      dy: 37,\n      dx: -142,\n      subject: { text: 'C', y: 'bottom' },\n      id: 'minimize-badge',\n    },\n    {\n      data: { date: '26-Feb-08', close: 119.15 },\n      dy: -137,\n      dx: 0,\n      note: { align: 'middle' },\n      subject: { text: 'A', y: 'bottom' },\n      id: 'minimize-badge',\n    },\n    {\n      data: { date: '18-Sep-09', close: 185.02 },\n      dy: 37,\n      dx: 42,\n      subject: { text: 'B' },\n      id: 'minimize-badge',\n    },\n  ].map((l) => {\n    l.note = Object.assign({}, l.note, {\n      title: `Close: ${l.data.close}`,\n      label: `${l.data.date}`,\n    });\n    return l;\n  });\n\n  //using a separate type of annotation to control the resize functionality\n  const resize = [\n    {\n      subject: {\n        y1: 0,\n        y2: height,\n      },\n      x: width,\n      dx: 10,\n      dy: height / 2,\n      disable: ['connector'],\n      note: {\n        title: '< >',\n        label: 'drag to resize',\n        lineType: 'none',\n      },\n    },\n  ];\n\n  const timeFormat = d3.timeFormat('%d-%b-%y');\n\n  window.makeAnnotations = d3\n    .annotation()\n    .annotations(labels)\n    .type(d3.annotationCalloutElbow)\n    .accessors({ x: (d) => x(parseTime(d.date)), y: (d) => y(d.close) })\n    .accessorsInverse({\n      date: (d) => timeFormat(x.invert(d.x)),\n      close: (d) => y.invert(d.y),\n    })\n    .on('subjectover', function (annotation) {\n      debugger;\n\n      //cannot reference this if you are using es6 function syntax\n      this.append('text')\n        .attr('class', 'hover')\n        .text(annotation.note.title)\n        .attr('text-anchor', 'middle')\n        .attr('y', annotation.subject.y && annotation.subject.y == 'bottom' ? 50 : -40)\n        .attr('x', -15);\n\n      this.append('text')\n        .attr('class', 'hover')\n        .text(annotation.note.label)\n        .attr('text-anchor', 'middle')\n        .attr('y', annotation.subject.y && annotation.subject.y == 'bottom' ? 70 : -60)\n        .attr('x', -15);\n    })\n    .on('subjectout', function (annotation) {\n      debugger;\n\n      this.selectAll('text.hover').remove();\n    });\n\n  //Isn't using data for placement so accessors and accessorsInverse\n  //are not necessary\n  window.makeResize = d3.annotation().annotations(resize).type(d3.annotationXYThreshold);\n\n  svg.append('g').attr('class', 'annotation-test').call(makeAnnotations);\n\n  svg.append('g').attr('class', 'annotation-resize').call(makeResize);\n\n  svg.select('.annotation.xythreshold').call(\n    d3.drag().on('drag', function (d) {\n      const newWidth = Math.max(0, Math.min(maxWidth, d.x + d3.event.dx));\n      d.x = newWidth;\n\n      const threshold = 400;\n      if (newWidth < threshold && width >= threshold) {\n        makeAnnotations.type(d3.annotationBadge);\n        svg.select('g.annotation-test').call(makeAnnotations);\n      } else if (newWidth > threshold && width <= threshold) {\n        makeAnnotations.type(d3.annotationCalloutElbow);\n        svg.select('g.annotation-test').call(makeAnnotations);\n      }\n\n      width = newWidth;\n\n      x.range([0, width]);\n      makeAnnotations.updatedAccessors();\n      makeResize.updatedAccessors();\n\n      svg.select('g.x-axis').call(d3.axisBottom(x));\n\n      svg.select('path.line').attr('d', valueline);\n    }),\n  );\n};\n\ndrawBars();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"@antv/g-plugin-css-select\", \"lil-gui\", \"d3\", \"d3-svg-annotation\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"@antv/g-plugin-css-select\"), require(\"lil-gui\"), require(\"d3\"), require(\"d3-svg-annotation\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.gPluginCssSelect, global.lilGui, global.d3, global.d3SvgAnnotation, global.stats);\n    global.d3Annotation = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, _gPluginCssSelect, lil, d3, d3SvgAnnotation, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  d3 = _interopRequireWildcard(d3);\n  d3SvgAnnotation = _interopRequireWildcard(d3SvgAnnotation);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  Object.assign(d3, d3SvgAnnotation);\n  /**\n   * inspired by sprite.js\n   * @see http://spritejs.com/#/en/guide/d3\n   *\n   * ported from https://d3-annotation.susielu.com/\n   * @see https://bl.ocks.org/susielu/974e41473737320f8db5ae711ded8542\n   */\n  // create a renderer\n\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer();\n  var cssSelectPlugin = new _gPluginCssSelect.Plugin();\n  canvasRenderer.registerPlugin(cssSelectPlugin);\n  webglRenderer.registerPlugin(cssSelectPlugin);\n  svgRenderer.registerPlugin(cssSelectPlugin); // create chart dimensions\n\n  var margin = {\n    top: 20,\n    right: 20,\n    bottom: 30,\n    left: 50\n  },\n      height = 500 - margin.top - margin.bottom;\n  var maxWidth = 860 - margin.left - margin.right;\n  var width = 860 - margin.left - margin.right; // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 960,\n    height: height + margin.top + margin.bottom,\n    renderer: canvasRenderer\n  });\n\n  var drawBars = async function drawBars() {\n    var wrapper = d3.select(canvas.document.documentElement // use GCanvas' document element instead of a real DOM\n    );\n    var svg = wrapper.append('g').style('transform', \"translate(\".concat(margin.left, \"px, \").concat(margin.top, \"px)\"));\n    var parseTime = d3.timeParse('%d-%b-%y');\n\n    var _x = d3.scaleTime().range([0, width]);\n\n    var _y = d3.scaleLinear().range([height, 0]);\n\n    var valueline = d3.line().x(function (d) {\n      return _x(d.date);\n    }).y(function (d) {\n      return _y(d.close);\n    });\n    var data = await d3.json('https://gw.alipayobjects.com/os/bmw-prod/e5e0e405-e0b0-4585-a10d-caf6b657dc9f.json');\n    data.forEach(function (d) {\n      d.date = parseTime(d.date);\n      d.close = +d.close;\n    });\n\n    _x.domain(d3.extent(data, function (d) {\n      return d.date;\n    }));\n\n    _y.domain([0, d3.max(data, function (d) {\n      return d.close;\n    })]);\n\n    svg.append('path').data([data]).attr('class', 'line').attr('d', valueline).style('stroke', 'black').style('stroke-width', '1px');\n    svg.append('g').attr('class', 'x-axis').attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(_x));\n    svg.append('g').call(d3.axisLeft(_y)); //Add annotations\n\n    var labels = [{\n      data: {\n        date: '9-Apr-12',\n        close: 636.23\n      },\n      dy: 37,\n      dx: -142,\n      subject: {\n        text: 'C',\n        y: 'bottom'\n      },\n      id: 'minimize-badge'\n    }, {\n      data: {\n        date: '26-Feb-08',\n        close: 119.15\n      },\n      dy: -137,\n      dx: 0,\n      note: {\n        align: 'middle'\n      },\n      subject: {\n        text: 'A',\n        y: 'bottom'\n      },\n      id: 'minimize-badge'\n    }, {\n      data: {\n        date: '18-Sep-09',\n        close: 185.02\n      },\n      dy: 37,\n      dx: 42,\n      subject: {\n        text: 'B'\n      },\n      id: 'minimize-badge'\n    }].map(function (l) {\n      l.note = Object.assign({}, l.note, {\n        title: \"Close: \".concat(l.data.close),\n        label: \"\".concat(l.data.date)\n      });\n      return l;\n    }); //using a separate type of annotation to control the resize functionality\n\n    var resize = [{\n      subject: {\n        y1: 0,\n        y2: height\n      },\n      x: width,\n      dx: 10,\n      dy: height / 2,\n      disable: ['connector'],\n      note: {\n        title: '< >',\n        label: 'drag to resize',\n        lineType: 'none'\n      }\n    }];\n    var timeFormat = d3.timeFormat('%d-%b-%y');\n    window.makeAnnotations = d3.annotation().annotations(labels).type(d3.annotationCalloutElbow).accessors({\n      x: function x(d) {\n        return _x(parseTime(d.date));\n      },\n      y: function y(d) {\n        return _y(d.close);\n      }\n    }).accessorsInverse({\n      date: function date(d) {\n        return timeFormat(_x.invert(d.x));\n      },\n      close: function close(d) {\n        return _y.invert(d.y);\n      }\n    }).on('subjectover', function (annotation) {\n      debugger; //cannot reference this if you are using es6 function syntax\n\n      this.append('text').attr('class', 'hover').text(annotation.note.title).attr('text-anchor', 'middle').attr('y', annotation.subject.y && annotation.subject.y == 'bottom' ? 50 : -40).attr('x', -15);\n      this.append('text').attr('class', 'hover').text(annotation.note.label).attr('text-anchor', 'middle').attr('y', annotation.subject.y && annotation.subject.y == 'bottom' ? 70 : -60).attr('x', -15);\n    }).on('subjectout', function (annotation) {\n      debugger;\n      this.selectAll('text.hover').remove();\n    }); //Isn't using data for placement so accessors and accessorsInverse\n    //are not necessary\n\n    window.makeResize = d3.annotation().annotations(resize).type(d3.annotationXYThreshold);\n    svg.append('g').attr('class', 'annotation-test').call(makeAnnotations);\n    svg.append('g').attr('class', 'annotation-resize').call(makeResize);\n    svg.select('.annotation.xythreshold').call(d3.drag().on('drag', function (d) {\n      var newWidth = Math.max(0, Math.min(maxWidth, d.x + d3.event.dx));\n      d.x = newWidth;\n      var threshold = 400;\n\n      if (newWidth < threshold && width >= threshold) {\n        makeAnnotations.type(d3.annotationBadge);\n        svg.select('g.annotation-test').call(makeAnnotations);\n      } else if (newWidth > threshold && width <= threshold) {\n        makeAnnotations.type(d3.annotationCalloutElbow);\n        svg.select('g.annotation-test').call(makeAnnotations);\n      }\n\n      width = newWidth;\n\n      _x.range([0, width]);\n\n      makeAnnotations.updatedAccessors();\n      makeResize.updatedAccessors();\n      svg.select('g.x-axis').call(d3.axisBottom(_x));\n      svg.select('path.line').attr('d', valueline);\n    }));\n  };\n\n  drawBars(); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"canvas/demo/dom-canvas.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/canvas/demo/dom-canvas.js","order":3,"filename":"dom-canvas.js","title":{"zh":"canvas.container 使用 DOM 元素","en":"Use a DOM element for container"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FfHBTr2ACAkAAAAAAAAAAABkARQnAQ","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\nconst $div1 = document.createElement('div');\ndocument.getElementById('container').appendChild($div1);\nconst $div2 = document.createElement('div');\ndocument.getElementById('container').appendChild($div2);\n\n// create a renderer\nconst canvasRenderer1 = new CanvasRenderer();\nconst webglRenderer1 = new WebGLRenderer();\nconst svgRenderer1 = new SVGRenderer();\nconst canvasRenderer2 = new CanvasRenderer();\n\n// create a canvas\nconst canvas1 = new Canvas({\n  container: $div1,\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer1,\n});\n\nconst canvas2 = new Canvas({\n  container: $div2,\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer2,\n});\n\n// create a circle\nconst circle1 = new Circle({\n  id: 'circle1',\n  style: {\n    x: 300,\n    y: 200,\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\ncanvas1.appendChild(circle1);\ncircle1.on('mouseenter', () => {\n  circle1.attr('fill', '#2FC25B');\n});\n\ncircle1.on('mouseleave', () => {\n  circle1.attr('fill', '#1890FF');\n});\n\nconst circle2 = new Circle({\n  id: 'circle2',\n  style: {\n    x: 300,\n    y: 200,\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\ncanvas2.appendChild(circle2);\ncircle2.on('mouseenter', () => {\n  circle2.attr('fill', '#2FC25B');\n});\n\ncircle2.on('mouseleave', () => {\n  circle2.attr('fill', '#1890FF');\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas1.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas1.setRenderer(\n    renderer === 'canvas' ? canvasRenderer1 : renderer === 'webgl' ? webglRenderer1 : svgRenderer1,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.domCanvas = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var $div1 = document.createElement('div');\n  document.getElementById('container').appendChild($div1);\n  var $div2 = document.createElement('div');\n  document.getElementById('container').appendChild($div2); // create a renderer\n\n  var canvasRenderer1 = new _gCanvas.Renderer();\n  var webglRenderer1 = new _gWebgl.Renderer();\n  var svgRenderer1 = new _gSvg.Renderer();\n  var canvasRenderer2 = new _gCanvas.Renderer(); // create a canvas\n\n  var canvas1 = new _g.Canvas({\n    container: $div1,\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer1\n  });\n  var canvas2 = new _g.Canvas({\n    container: $div2,\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer2\n  }); // create a circle\n\n  var circle1 = new _g.Circle({\n    id: 'circle1',\n    style: {\n      x: 300,\n      y: 200,\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  canvas1.appendChild(circle1);\n  circle1.on('mouseenter', function () {\n    circle1.attr('fill', '#2FC25B');\n  });\n  circle1.on('mouseleave', function () {\n    circle1.attr('fill', '#1890FF');\n  });\n  var circle2 = new _g.Circle({\n    id: 'circle2',\n    style: {\n      x: 300,\n      y: 200,\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  canvas2.appendChild(circle2);\n  circle2.on('mouseenter', function () {\n    circle2.attr('fill', '#2FC25B');\n  });\n  circle2.on('mouseleave', function () {\n    circle2.attr('fill', '#1890FF');\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas1.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas1.setRenderer(renderer === 'canvas' ? canvasRenderer1 : renderer === 'webgl' ? webglRenderer1 : svgRenderer1);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"canvas/demo/main.worker.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/canvas/demo/main.worker.js","order":-1,"filename":"main.worker.js","source":"import { setupTransferableMethodsOnWorker } from '@naoak/workerize-transferable';\nimport { Circle, Canvas } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\n\nsetupTransferableMethodsOnWorker({\n  // the name of function which use some transferables\n  render: {\n    // specify an instance of the function\n    fn: render,\n  },\n});\n\nexport function render(offscreenCanvas, devicePixelRatio) {\n  // create a renderer\n  const renderer = new WebGLRenderer({\n    targets: ['webgl1'], // webgl2 seems not support transferable\n    plugins: {\n      enableDOMInteraction: false,\n    },\n  });\n\n  // create a canvas\n  const canvas = new Canvas({\n    canvas: offscreenCanvas,\n    devicePixelRatio,\n    renderer,\n  });\n\n  // create a circle\n  const circle = new Circle({\n    style: {\n      x: 300,\n      y: 200,\n      r: 50,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n    },\n  });\n\n  // add a circle to canvas\n  canvas.appendChild(circle);\n\n  circle.animate(\n    [\n      {\n        transform: 'scale(1)',\n        fill: '#1890FF',\n        stroke: '#F04864',\n        opacity: 1,\n        shadowColor: 'black',\n        shadowBlur: 30,\n      },\n      {\n        transform: 'scale(2)',\n        fill: 'red',\n        stroke: '#1890FF',\n        opacity: 0.8,\n        shadowColor: 'red',\n        shadowBlur: 0,\n      },\n    ],\n    {\n      duration: 1500,\n      iterations: Infinity,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    },\n  );\n}\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"@naoak/workerize-transferable\", \"@antv/g\", \"@antv/g-webgl\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"@naoak/workerize-transferable\"), require(\"@antv/g\"), require(\"@antv/g-webgl\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.workerizeTransferable, global.g, global.gWebgl);\n    global.mainWorker = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _workerizeTransferable, _g, _gWebgl) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.render = render;\n  (0, _workerizeTransferable.setupTransferableMethodsOnWorker)({\n    // the name of function which use some transferables\n    render: {\n      // specify an instance of the function\n      fn: render\n    }\n  });\n\n  function render(offscreenCanvas, devicePixelRatio) {\n    // create a renderer\n    var renderer = new _gWebgl.Renderer({\n      targets: ['webgl1'],\n      // webgl2 seems not support transferable\n      plugins: {\n        enableDOMInteraction: false\n      }\n    }); // create a canvas\n\n    var canvas = new _g.Canvas({\n      canvas: offscreenCanvas,\n      devicePixelRatio: devicePixelRatio,\n      renderer: renderer\n    }); // create a circle\n\n    var circle = new _g.Circle({\n      style: {\n        x: 300,\n        y: 200,\n        r: 50,\n        fill: '#1890FF',\n        stroke: '#F04864',\n        lineWidth: 4\n      }\n    }); // add a circle to canvas\n\n    canvas.appendChild(circle);\n    circle.animate([{\n      transform: 'scale(1)',\n      fill: '#1890FF',\n      stroke: '#F04864',\n      opacity: 1,\n      shadowColor: 'black',\n      shadowBlur: 30\n    }, {\n      transform: 'scale(2)',\n      fill: 'red',\n      stroke: '#1890FF',\n      opacity: 0.8,\n      shadowColor: 'red',\n      shadowBlur: 0\n    }], {\n      duration: 1500,\n      iterations: Infinity,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)'\n    });\n  }\n});"},{"relativePath":"canvas/demo/offscreen-canvas.ts","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/canvas/demo/offscreen-canvas.ts","order":4,"filename":"offscreen-canvas.ts","title":{"zh":"OffscreenCanvas","en":"OffscreenCanvas"},"source":"// @ts-ignore\nimport Worker from './main.worker.js';\nimport { setupTransferableMethodsOnMain } from '@naoak/workerize-transferable';\n\nconst worker = new Worker();\n\n// create a canvas in main thread\nconst $canvas = document.createElement('canvas') as HTMLCanvasElement;\nconst dpr = window.devicePixelRatio;\n$canvas.height = dpr * 600;\n$canvas.width = dpr * 500;\n$canvas.style.height = '600px';\n$canvas.style.width = '500px';\ndocument.getElementById('container').appendChild($canvas);\n\n// transfer canvas to worker\nconst offscreen = $canvas.transferControlToOffscreen();\n\nsetupTransferableMethodsOnMain(\n  // worker instance\n  worker,\n  // the name of method which use some transferables\n  {\n    render: {\n      // pick a transferable object from the method parameters\n      pickTransferablesFromParams: (params) => [params[0]],\n    },\n  },\n);\n\n(async () => {\n  await worker.render(offscreen, dpr);\n})();\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"./main.worker.js\", \"@naoak/workerize-transferable\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"./main.worker.js\"), require(\"@naoak/workerize-transferable\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.mainWorker, global.workerizeTransferable);\n    global.offscreenCanvas = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_mainWorker, _workerizeTransferable) {\n  \"use strict\";\n\n  _mainWorker = _interopRequireDefault(_mainWorker);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  // @ts-ignore\n  var worker = new _mainWorker.default(); // create a canvas in main thread\n\n  var $canvas = document.createElement('canvas');\n  var dpr = window.devicePixelRatio;\n  $canvas.height = dpr * 600;\n  $canvas.width = dpr * 500;\n  $canvas.style.height = '600px';\n  $canvas.style.width = '500px';\n  document.getElementById('container').appendChild($canvas); // transfer canvas to worker\n\n  var offscreen = $canvas.transferControlToOffscreen();\n  (0, _workerizeTransferable.setupTransferableMethodsOnMain)( // worker instance\n  worker, // the name of method which use some transferables\n  {\n    render: {\n      // pick a transferable object from the method parameters\n      pickTransferablesFromParams: function pickTransferablesFromParams(params) {\n        return [params[0]];\n      }\n    }\n  });\n\n  (async function () {\n    await worker.render(offscreen, dpr);\n  })();\n});"},{"relativePath":"canvas/demo/rendering-on-demand.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/canvas/demo/rendering-on-demand.js","order":2,"filename":"rendering-on-demand.js","title":{"zh":"按需渲染","en":"Rendering on demand"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*FfHBTr2ACAkAAAAAAAAAAABkARQnAQ","source":"import { Group, Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\nsolarSystem\n   |    |\n   |   sun\n   |\n earthOrbit\n   |    |\n   |  earth\n   |\n  moonOrbit\n      |\n     moon\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer({\n  enableAutoRendering: false,\n});\nconst webglRenderer = new WebGLRenderer({\n  enableAutoRendering: false,\n});\nconst svgRenderer = new SVGRenderer({\n  enableAutoRendering: false,\n});\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst solarSystem = new Group({\n  id: 'solarSystem',\n});\nconst earthOrbit = new Group({\n  id: 'earthOrbit',\n});\nconst moonOrbit = new Group({\n  id: 'moonOrbit',\n});\n\nconst sun = new Circle({\n  id: 'sun',\n  style: {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst earth = new Circle({\n  id: 'earth',\n  style: {\n    r: 50,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst moon = new Circle({\n  id: 'moon',\n  style: {\n    r: 25,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\nsolarSystem.appendChild(sun);\nsolarSystem.appendChild(earthOrbit);\nearthOrbit.appendChild(earth);\nearthOrbit.appendChild(moonOrbit);\nmoonOrbit.appendChild(moon);\n\nsolarSystem.setPosition(300, 250);\nearthOrbit.translate(100, 0);\nmoonOrbit.translate(100, 0);\n\ncanvas.appendChild(solarSystem);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\n// create a main loop\nconst tick = () => {\n  if (stats) {\n    stats.update();\n  }\n\n  // call `render` in each frame\n  canvas.render();\n\n  solarSystem.rotateLocal(1);\n  earthOrbit.rotateLocal(2);\n\n  requestAnimationFrame(tick);\n};\ntick();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.renderingOnDemand = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n  solarSystem\n     |    |\n     |   sun\n     |\n   earthOrbit\n     |    |\n     |  earth\n     |\n    moonOrbit\n        |\n       moon\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer({\n    enableAutoRendering: false\n  });\n  var webglRenderer = new _gWebgl.Renderer({\n    enableAutoRendering: false\n  });\n  var svgRenderer = new _gSvg.Renderer({\n    enableAutoRendering: false\n  }); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var solarSystem = new _g.Group({\n    id: 'solarSystem'\n  });\n  var earthOrbit = new _g.Group({\n    id: 'earthOrbit'\n  });\n  var moonOrbit = new _g.Group({\n    id: 'moonOrbit'\n  });\n  var sun = new _g.Circle({\n    id: 'sun',\n    style: {\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var earth = new _g.Circle({\n    id: 'earth',\n    style: {\n      r: 50,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var moon = new _g.Circle({\n    id: 'moon',\n    style: {\n      r: 25,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  solarSystem.appendChild(sun);\n  solarSystem.appendChild(earthOrbit);\n  earthOrbit.appendChild(earth);\n  earthOrbit.appendChild(moonOrbit);\n  moonOrbit.appendChild(moon);\n  solarSystem.setPosition(300, 250);\n  earthOrbit.translate(100, 0);\n  moonOrbit.translate(100, 0);\n  canvas.appendChild(solarSystem); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open(); // create a main loop\n\n  var tick = function tick() {\n    if (stats) {\n      stats.update();\n    } // call `render` in each frame\n\n\n    canvas.render();\n    solarSystem.rotateLocal(1);\n    earthOrbit.rotateLocal(2);\n    requestAnimationFrame(tick);\n  };\n\n  tick();\n});"},{"relativePath":"canvas/demo/multi-canvas.tsx","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/canvas/demo/multi-canvas.tsx","order":0,"filename":"multi-canvas.tsx","title":{"zh":"多个画布","en":"Multiple canvas"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*L3OdRpd5UpIAAAAAAAAAAAAAARQnAQ","source":"import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport SplitPane from 'react-split-pane';\nimport Stats from 'stats.js';\nimport { Canvas, Group } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Mesh, CubeGeometry, MeshBasicMaterial, Plugin as Plugin3D } from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\n\n// scene1 + scene2\nconst TOTAL_WIDTH = 600;\nconst SCENE_HEIGHT = 500;\n\nconst App = function MultiWorld() {\n  let canvas1;\n  let canvas2;\n  useEffect(() => {\n    const stats = new Stats();\n    stats.showPanel(0);\n    const $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    const $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n\n    // create a webgl renderer\n    const webglRenderer1 = new WebGLRenderer();\n    webglRenderer1.registerPlugin(new Plugin3D());\n    webglRenderer1.registerPlugin(new PluginControl());\n\n    const webglRenderer2 = new WebGLRenderer();\n    webglRenderer2.registerPlugin(new Plugin3D());\n    webglRenderer2.registerPlugin(new PluginControl());\n\n    // create a canvas\n    canvas1 = new Canvas({\n      container: 'container1',\n      width: TOTAL_WIDTH / 2,\n      height: SCENE_HEIGHT,\n      renderer: webglRenderer1,\n    });\n\n    canvas2 = new Canvas({\n      container: 'container2',\n      width: TOTAL_WIDTH / 2,\n      height: SCENE_HEIGHT,\n      renderer: webglRenderer2,\n    });\n\n    // scene 1\n    const camera1 = canvas1.getCamera();\n    camera1\n      .setPosition(150, 20, 500)\n      .setFocalPoint(150, 250, 0)\n      .setPerspective(0.1, 1000, 75, TOTAL_WIDTH / 2 / SCENE_HEIGHT);\n\n    (async () => {\n      await canvas1.ready;\n      const device1 = webglRenderer1.getDevice();\n      const map = webglRenderer1.loadTexture(\n        'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ',\n      );\n\n      await canvas2.ready;\n      const device2 = webglRenderer2.getDevice();\n\n      const group1 = new Group();\n      const cubeGeometry = new CubeGeometry(device1, {\n        width: 200,\n        height: 200,\n        depth: 200,\n      });\n      const basicMaterial = new MeshBasicMaterial(device1, {\n        map,\n      });\n\n      const cube1 = new Mesh({\n        style: {\n          fill: '#1890FF',\n          opacity: 1,\n          geometry: cubeGeometry,\n          material: basicMaterial,\n        },\n      });\n\n      group1.appendChild(cube1);\n      group1.setPosition(150, 250, 0);\n      canvas1.appendChild(group1);\n\n      // scene2\n      const camera2 = canvas2.getCamera();\n      camera2.setPosition(150, 20, 500).setFocalPoint(150, 250, 0);\n\n      const map2 = webglRenderer2.loadTexture(\n        'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ',\n      );\n\n      const cubeGeometry2 = new CubeGeometry(device2, {\n        width: 200,\n        height: 200,\n        depth: 200,\n      });\n      const basicMaterial2 = new MeshBasicMaterial(device2, {\n        map: map2,\n      });\n\n      const cube2 = new Mesh({\n        style: {\n          fill: '#1890FF',\n          opacity: 1,\n          geometry: cubeGeometry2,\n          material: basicMaterial2,\n        },\n      });\n\n      const group2 = new Group();\n      group2.appendChild(cube2);\n      group2.setPosition(150, 250, 0);\n      canvas2.appendChild(group2);\n    })();\n  });\n\n  return (\n    <>\n      <SplitPane\n        split=\"vertical\"\n        defaultSize={TOTAL_WIDTH / 2}\n        onChange={(width) => {\n          canvas1.resize(width, SCENE_HEIGHT);\n          canvas2.resize(TOTAL_WIDTH - width, SCENE_HEIGHT);\n        }}\n      >\n        <div\n          id=\"container1\"\n          style={{\n            width: '100%',\n            height: '100%',\n          }}\n        />\n        <div\n          id=\"container2\"\n          style={{\n            width: '100%',\n            height: '100%',\n          }}\n        />\n      </SplitPane>\n    </>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('container'));\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"react-split-pane\", \"stats.js\", \"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"react-split-pane\"), require(\"stats.js\"), require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.reactSplitPane, global.stats, global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl);\n    global.multiCanvas = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _reactSplitPane, _stats, _g, _gWebgl, _gPlugin3d, _gPluginControl) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _reactSplitPane = _interopRequireDefault(_reactSplitPane);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // scene1 + scene2\n  var TOTAL_WIDTH = 600;\n  var SCENE_HEIGHT = 500;\n\n  var App = function MultiWorld() {\n    var canvas1;\n    var canvas2;\n    (0, _react.useEffect)(function () {\n      var stats = new _stats.default();\n      stats.showPanel(0);\n      var $stats = stats.dom;\n      $stats.style.position = 'absolute';\n      $stats.style.left = '0px';\n      $stats.style.top = '0px';\n      var $wrapper = document.getElementById('container');\n      $wrapper.appendChild($stats); // create a webgl renderer\n\n      var webglRenderer1 = new _gWebgl.Renderer();\n      webglRenderer1.registerPlugin(new _gPlugin3d.Plugin());\n      webglRenderer1.registerPlugin(new _gPluginControl.Plugin());\n      var webglRenderer2 = new _gWebgl.Renderer();\n      webglRenderer2.registerPlugin(new _gPlugin3d.Plugin());\n      webglRenderer2.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n      canvas1 = new _g.Canvas({\n        container: 'container1',\n        width: TOTAL_WIDTH / 2,\n        height: SCENE_HEIGHT,\n        renderer: webglRenderer1\n      });\n      canvas2 = new _g.Canvas({\n        container: 'container2',\n        width: TOTAL_WIDTH / 2,\n        height: SCENE_HEIGHT,\n        renderer: webglRenderer2\n      }); // scene 1\n\n      var camera1 = canvas1.getCamera();\n      camera1.setPosition(150, 20, 500).setFocalPoint(150, 250, 0).setPerspective(0.1, 1000, 75, TOTAL_WIDTH / 2 / SCENE_HEIGHT);\n\n      (async function () {\n        await canvas1.ready;\n        var device1 = webglRenderer1.getDevice();\n        var map = webglRenderer1.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ');\n        await canvas2.ready;\n        var device2 = webglRenderer2.getDevice();\n        var group1 = new _g.Group();\n        var cubeGeometry = new _gPlugin3d.CubeGeometry(device1, {\n          width: 200,\n          height: 200,\n          depth: 200\n        });\n        var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device1, {\n          map: map\n        });\n        var cube1 = new _gPlugin3d.Mesh({\n          style: {\n            fill: '#1890FF',\n            opacity: 1,\n            geometry: cubeGeometry,\n            material: basicMaterial\n          }\n        });\n        group1.appendChild(cube1);\n        group1.setPosition(150, 250, 0);\n        canvas1.appendChild(group1); // scene2\n\n        var camera2 = canvas2.getCamera();\n        camera2.setPosition(150, 20, 500).setFocalPoint(150, 250, 0);\n        var map2 = webglRenderer2.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ');\n        var cubeGeometry2 = new _gPlugin3d.CubeGeometry(device2, {\n          width: 200,\n          height: 200,\n          depth: 200\n        });\n        var basicMaterial2 = new _gPlugin3d.MeshBasicMaterial(device2, {\n          map: map2\n        });\n        var cube2 = new _gPlugin3d.Mesh({\n          style: {\n            fill: '#1890FF',\n            opacity: 1,\n            geometry: cubeGeometry2,\n            material: basicMaterial2\n          }\n        });\n        var group2 = new _g.Group();\n        group2.appendChild(cube2);\n        group2.setPosition(150, 250, 0);\n        canvas2.appendChild(group2);\n      })();\n    });\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_reactSplitPane.default, {\n      split: \"vertical\",\n      defaultSize: TOTAL_WIDTH / 2,\n      onChange: function onChange(width) {\n        canvas1.resize(width, SCENE_HEIGHT);\n        canvas2.resize(TOTAL_WIDTH - width, SCENE_HEIGHT);\n      }\n    }, /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: \"container1\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }), /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: \"container2\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    })));\n  };\n\n  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, null), document.getElementById('container'));\n});"},{"relativePath":"canvas/demo/user-defined-canvas.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/canvas/demo/user-defined-canvas.js","order":5,"filename":"user-defined-canvas.js","title":{"zh":"使用用户创建的 <canvas>","en":"Use user-defined <canvas>"},"source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport Stats from 'stats.js';\n\nconst $canvas = document.createElement('canvas');\nconst dpr = window.devicePixelRatio;\n$canvas.width = dpr * 600;\n$canvas.height = dpr * 500;\n$canvas.style.width = '600px';\n$canvas.style.height = '500px';\ndocument.getElementById('container').appendChild($canvas);\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  canvas: $canvas,\n  renderer: canvasRenderer,\n});\n\nconst circle = new Circle({\n  style: {\n    x: 300,\n    y: 200,\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\ncanvas.appendChild(circle);\ncircle.on('mouseenter', () => {\n  circle.attr('fill', '#2FC25B');\n});\n\ncircle.on('mouseleave', () => {\n  circle.attr('fill', '#1890FF');\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.stats);\n    global.userDefinedCanvas = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _stats) {\n  \"use strict\";\n\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  var $canvas = document.createElement('canvas');\n  var dpr = window.devicePixelRatio;\n  $canvas.width = dpr * 600;\n  $canvas.height = dpr * 500;\n  $canvas.style.width = '600px';\n  $canvas.style.height = '500px';\n  document.getElementById('container').appendChild($canvas); // create a renderer\n\n  var canvasRenderer = new _gCanvas.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    canvas: $canvas,\n    renderer: canvasRenderer\n  });\n  var circle = new _g.Circle({\n    style: {\n      x: 300,\n      y: 200,\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  canvas.appendChild(circle);\n  circle.on('mouseenter', function () {\n    circle.attr('fill', '#2FC25B');\n  });\n  circle.on('mouseleave', function () {\n    circle.attr('fill', '#1890FF');\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  });\n});"},{"relativePath":"canvas/demo/resize.tsx","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/canvas/demo/resize.tsx","order":1,"filename":"resize.tsx","title":{"zh":"改变画布大小","en":"Resize canvas"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*L3OdRpd5UpIAAAAAAAAAAAAAARQnAQ","source":"import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport SplitPane from 'react-split-pane';\nimport Stats from 'stats.js';\nimport * as lil from 'lil-gui';\nimport { Canvas, Circle } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\n\n// scene1 + scene2\nconst TOTAL_WIDTH = 600;\nconst SCENE_HEIGHT = 500;\n\nconst App = function MultiWorld() {\n  let canvas1: Canvas;\n  let canvas2: Canvas;\n  useEffect(() => {\n    const stats = new Stats();\n    stats.showPanel(0);\n    const $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    const $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n\n    // create a canvas renderer\n    const canvasRenderer1 = new CanvasRenderer();\n    const canvasRenderer2 = new CanvasRenderer();\n    const svgRenderer1 = new SVGRenderer();\n    const svgRenderer2 = new SVGRenderer();\n    const webglRenderer1 = new WebGLRenderer();\n    const webglRenderer2 = new WebGLRenderer();\n\n    // create a canvas\n    canvas1 = new Canvas({\n      container: 'container1',\n      width: TOTAL_WIDTH / 2,\n      height: SCENE_HEIGHT,\n      renderer: canvasRenderer1,\n    });\n\n    canvas2 = new Canvas({\n      container: 'container2',\n      width: TOTAL_WIDTH / 2,\n      height: SCENE_HEIGHT,\n      renderer: canvasRenderer2,\n    });\n\n    const circle1 = new Circle({\n      style: {\n        x: 100,\n        y: 100,\n        r: 100,\n        fill: 'blue',\n      },\n    });\n    canvas1.appendChild(circle1);\n\n    const circle2 = new Circle({\n      style: {\n        x: 100,\n        y: 100,\n        r: 100,\n        fill: 'red',\n      },\n    });\n    canvas2.appendChild(circle2);\n\n    // GUI\n    const gui = new lil.GUI({ autoPlace: false });\n    $wrapper.appendChild(gui.domElement);\n\n    const rendererFolder = gui.addFolder('renderer');\n    const rendererConfig = {\n      renderer: 'canvas',\n    };\n    rendererFolder\n      .add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg'])\n      .onChange((renderer) => {\n        canvas1.setRenderer(\n          renderer === 'canvas'\n            ? canvasRenderer1\n            : renderer === 'webgl'\n            ? webglRenderer1\n            : svgRenderer1,\n        );\n        canvas2.setRenderer(\n          renderer === 'canvas'\n            ? canvasRenderer2\n            : renderer === 'webgl'\n            ? webglRenderer2\n            : svgRenderer2,\n        );\n      });\n    rendererFolder.open();\n  });\n\n  return (\n    <>\n      <SplitPane\n        split=\"vertical\"\n        defaultSize={TOTAL_WIDTH / 2}\n        onChange={(width) => {\n          canvas1.resize(width, SCENE_HEIGHT);\n          canvas2.resize(TOTAL_WIDTH - width, SCENE_HEIGHT);\n        }}\n      >\n        <div\n          id=\"container1\"\n          style={{\n            width: '100%',\n            height: '100%',\n          }}\n        />\n        <div\n          id=\"container2\"\n          style={{\n            width: '100%',\n            height: '100%',\n          }}\n        />\n      </SplitPane>\n    </>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('container'));\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"react-split-pane\", \"stats.js\", \"lil-gui\", \"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"react-split-pane\"), require(\"stats.js\"), require(\"lil-gui\"), require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.reactSplitPane, global.stats, global.lilGui, global.g, global.gCanvas, global.gWebgl, global.gSvg);\n    global.resize = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _reactSplitPane, _stats, lil, _g, _gCanvas, _gWebgl, _gSvg) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _reactSplitPane = _interopRequireDefault(_reactSplitPane);\n  _stats = _interopRequireDefault(_stats);\n  lil = _interopRequireWildcard(lil);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // scene1 + scene2\n  var TOTAL_WIDTH = 600;\n  var SCENE_HEIGHT = 500;\n\n  var App = function MultiWorld() {\n    var canvas1;\n    var canvas2;\n    (0, _react.useEffect)(function () {\n      var stats = new _stats.default();\n      stats.showPanel(0);\n      var $stats = stats.dom;\n      $stats.style.position = 'absolute';\n      $stats.style.left = '0px';\n      $stats.style.top = '0px';\n      var $wrapper = document.getElementById('container');\n      $wrapper.appendChild($stats); // create a canvas renderer\n\n      var canvasRenderer1 = new _gCanvas.Renderer();\n      var canvasRenderer2 = new _gCanvas.Renderer();\n      var svgRenderer1 = new _gSvg.Renderer();\n      var svgRenderer2 = new _gSvg.Renderer();\n      var webglRenderer1 = new _gWebgl.Renderer();\n      var webglRenderer2 = new _gWebgl.Renderer(); // create a canvas\n\n      canvas1 = new _g.Canvas({\n        container: 'container1',\n        width: TOTAL_WIDTH / 2,\n        height: SCENE_HEIGHT,\n        renderer: canvasRenderer1\n      });\n      canvas2 = new _g.Canvas({\n        container: 'container2',\n        width: TOTAL_WIDTH / 2,\n        height: SCENE_HEIGHT,\n        renderer: canvasRenderer2\n      });\n      var circle1 = new _g.Circle({\n        style: {\n          x: 100,\n          y: 100,\n          r: 100,\n          fill: 'blue'\n        }\n      });\n      canvas1.appendChild(circle1);\n      var circle2 = new _g.Circle({\n        style: {\n          x: 100,\n          y: 100,\n          r: 100,\n          fill: 'red'\n        }\n      });\n      canvas2.appendChild(circle2); // GUI\n\n      var gui = new lil.GUI({\n        autoPlace: false\n      });\n      $wrapper.appendChild(gui.domElement);\n      var rendererFolder = gui.addFolder('renderer');\n      var rendererConfig = {\n        renderer: 'canvas'\n      };\n      rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n        canvas1.setRenderer(renderer === 'canvas' ? canvasRenderer1 : renderer === 'webgl' ? webglRenderer1 : svgRenderer1);\n        canvas2.setRenderer(renderer === 'canvas' ? canvasRenderer2 : renderer === 'webgl' ? webglRenderer2 : svgRenderer2);\n      });\n      rendererFolder.open();\n    });\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_reactSplitPane.default, {\n      split: \"vertical\",\n      defaultSize: TOTAL_WIDTH / 2,\n      onChange: function onChange(width) {\n        canvas1.resize(width, SCENE_HEIGHT);\n        canvas2.resize(TOTAL_WIDTH - width, SCENE_HEIGHT);\n      }\n    }, /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: \"container1\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }), /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: \"container2\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    })));\n  };\n\n  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, null), document.getElementById('container'));\n});"},{"relativePath":"camera/demo/ortho.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/camera/demo/ortho.js","order":0,"filename":"ortho.js","title":{"zh":"正交投影相机","en":"Orthographic camera"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*D0XmSIyniZAAAAAAAAAAAAAAARQnAQ","source":"import { Canvas, Group } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { MeshBasicMaterial, CubeGeometry, Mesh, Plugin as Plugin3D } from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst webglRenderer = new WebGLRenderer();\nwebglRenderer.registerPlugin(new Plugin3D());\nwebglRenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: webglRenderer,\n});\n\n// create an orthographic camera\nconst camera = canvas.getCamera();\nconst group = new Group();\n\n(async () => {\n  await canvas.ready;\n  const device = webglRenderer.getDevice();\n  const map = webglRenderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ',\n  );\n\n  const cubeGeometry = new CubeGeometry(device, {\n    width: 200,\n    height: 200,\n    depth: 200,\n  });\n  const basicMaterial = new MeshBasicMaterial(device, {\n    map,\n  });\n\n  const cube = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: cubeGeometry,\n      material: basicMaterial,\n    },\n  });\n  cube.setPosition(300, 250, 0);\n\n  canvas.appendChild(cube);\n})();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n  group.rotate(0, 1, 0);\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst cameraFolder = gui.addFolder('orthographic projection');\nconst cameraConfig = {\n  near: 0.1,\n  far: 1000,\n  zoom: 1,\n};\ncameraFolder.add(cameraConfig, 'near', 0, 600).onChange((near) => {\n  camera.setNear(near);\n});\ncameraFolder.add(cameraConfig, 'far', 0, 1000).onChange((far) => {\n  camera.setFar(far);\n});\ncameraFolder.add(cameraConfig, 'zoom', 0, 10).onChange((zoom) => {\n  camera.setZoom(zoom);\n});\ncameraFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.lilGui, global.stats);\n    global.ortho = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var webglRenderer = new _gWebgl.Renderer();\n  webglRenderer.registerPlugin(new _gPlugin3d.Plugin());\n  webglRenderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: webglRenderer\n  }); // create an orthographic camera\n\n  var camera = canvas.getCamera();\n  var group = new _g.Group();\n\n  (async function () {\n    await canvas.ready;\n    var device = webglRenderer.getDevice();\n    var map = webglRenderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ');\n    var cubeGeometry = new _gPlugin3d.CubeGeometry(device, {\n      width: 200,\n      height: 200,\n      depth: 200\n    });\n    var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device, {\n      map: map\n    });\n    var cube = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: cubeGeometry,\n        material: basicMaterial\n      }\n    });\n    cube.setPosition(300, 250, 0);\n    canvas.appendChild(cube);\n  })(); // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n\n    group.rotate(0, 1, 0);\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var cameraFolder = gui.addFolder('orthographic projection');\n  var cameraConfig = {\n    near: 0.1,\n    far: 1000,\n    zoom: 1\n  };\n  cameraFolder.add(cameraConfig, 'near', 0, 600).onChange(function (near) {\n    camera.setNear(near);\n  });\n  cameraFolder.add(cameraConfig, 'far', 0, 1000).onChange(function (far) {\n    camera.setFar(far);\n  });\n  cameraFolder.add(cameraConfig, 'zoom', 0, 10).onChange(function (zoom) {\n    camera.setZoom(zoom);\n  });\n  cameraFolder.open();\n});"},{"relativePath":"camera/demo/perspective.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/camera/demo/perspective.js","order":1,"filename":"perspective.js","title":{"zh":"透视投影相机","en":"Perspective camera"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8KT3Q4bNd1YAAAAAAAAAAAAAARQnAQ","source":"import { Canvas, Group } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { MeshBasicMaterial, CubeGeometry, Mesh, Plugin as Plugin3D } from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a webgl renderer\nconst webglRenderer = new WebGLRenderer();\nwebglRenderer.registerPlugin(new Plugin3D());\nwebglRenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: webglRenderer,\n});\n\n// create a perspective camera\nconst camera = canvas.getCamera();\ncamera.setPerspective(0.1, 1000, 75, 600 / 500);\n\nconst group = new Group();\n\n(async () => {\n  await canvas.ready;\n  const device = webglRenderer.getDevice();\n  const map = webglRenderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ',\n  );\n\n  const cubeGeometry = new CubeGeometry(device, {\n    width: 200,\n    height: 200,\n    depth: 200,\n  });\n  const basicMaterial = new MeshBasicMaterial(device, {\n    map,\n  });\n\n  const cube = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: cubeGeometry,\n      material: basicMaterial,\n    },\n  });\n  cube.setPosition(300, 250, 0);\n\n  canvas.appendChild(cube);\n})();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n  group.rotate(0, 1, 0);\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\n\nconst cameraFolder = gui.addFolder('perspective');\nconst cameraConfig = {\n  fov: 75,\n  near: 0.1,\n  far: 1000,\n  zoom: 1,\n};\ncameraFolder.add(cameraConfig, 'fov', 0, 180).onChange((fov) => {\n  camera.setFov(fov);\n});\ncameraFolder.add(cameraConfig, 'near', 0, 600).onChange((near) => {\n  camera.setNear(near);\n});\ncameraFolder.add(cameraConfig, 'far', 0, 1000).onChange((far) => {\n  camera.setFar(far);\n});\ncameraFolder.add(cameraConfig, 'zoom', 0, 10).onChange((zoom) => {\n  camera.setZoom(zoom);\n});\ncameraFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.lilGui, global.stats);\n    global.perspective = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a webgl renderer\n  var webglRenderer = new _gWebgl.Renderer();\n  webglRenderer.registerPlugin(new _gPlugin3d.Plugin());\n  webglRenderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: webglRenderer\n  }); // create a perspective camera\n\n  var camera = canvas.getCamera();\n  camera.setPerspective(0.1, 1000, 75, 600 / 500);\n  var group = new _g.Group();\n\n  (async function () {\n    await canvas.ready;\n    var device = webglRenderer.getDevice();\n    var map = webglRenderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ');\n    var cubeGeometry = new _gPlugin3d.CubeGeometry(device, {\n      width: 200,\n      height: 200,\n      depth: 200\n    });\n    var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device, {\n      map: map\n    });\n    var cube = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: cubeGeometry,\n        material: basicMaterial\n      }\n    });\n    cube.setPosition(300, 250, 0);\n    canvas.appendChild(cube);\n  })(); // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n\n    group.rotate(0, 1, 0);\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var cameraFolder = gui.addFolder('perspective');\n  var cameraConfig = {\n    fov: 75,\n    near: 0.1,\n    far: 1000,\n    zoom: 1\n  };\n  cameraFolder.add(cameraConfig, 'fov', 0, 180).onChange(function (fov) {\n    camera.setFov(fov);\n  });\n  cameraFolder.add(cameraConfig, 'near', 0, 600).onChange(function (near) {\n    camera.setNear(near);\n  });\n  cameraFolder.add(cameraConfig, 'far', 0, 1000).onChange(function (far) {\n    camera.setFar(far);\n  });\n  cameraFolder.add(cameraConfig, 'zoom', 0, 10).onChange(function (zoom) {\n    camera.setZoom(zoom);\n  });\n  cameraFolder.open();\n});"},{"relativePath":"camera/demo/action.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/camera/demo/action.js","order":3,"filename":"action.js","title":{"zh":"相机动作","en":"Camera actions"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*goX8QqgVSMEAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Canvas, Group, Text } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n// get camera\nconst camera = canvas.getCamera();\n\nconst solarSystem = new Group({\n  id: 'solarSystem',\n});\nconst earthOrbit = new Group({\n  id: 'earthOrbit',\n});\nconst moonOrbit = new Group({\n  id: 'moonOrbit',\n});\n\nconst sun = new Circle({\n  id: 'sun',\n  style: {\n    r: 100,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst sunLabel = new Text({\n  style: {\n    fontSize: 30,\n    text: 'Sun',\n    fill: 'white',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\nsun.appendChild(sunLabel);\nconst earth = new Circle({\n  id: 'earth',\n  style: {\n    r: 50,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst earthLabel = new Text({\n  style: {\n    fontSize: 20,\n    text: 'Earth',\n    fill: 'white',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\nearth.appendChild(earthLabel);\nconst moon = new Circle({\n  id: 'moon',\n  style: {\n    r: 25,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\nconst moonLabel = new Text({\n  style: {\n    fontSize: 10,\n    text: 'Moon',\n    fill: 'white',\n    textAlign: 'center',\n    textBaseline: 'middle',\n  },\n});\nmoon.appendChild(moonLabel);\n\nsolarSystem.appendChild(sun);\nsolarSystem.appendChild(earthOrbit);\nearthOrbit.appendChild(earth);\nearthOrbit.appendChild(moonOrbit);\nmoonOrbit.appendChild(moon);\n\nsolarSystem.setPosition(300, 250);\nearthOrbit.translate(100, 0);\nmoonOrbit.translate(100, 0);\n\ncanvas.appendChild(solarSystem);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n  solarSystem.rotateLocal(1);\n  earthOrbit.rotateLocal(2);\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst cameraFolder = gui.addFolder('camera actions');\nconst cameraConfig = {\n  panX: 0,\n  panY: 0,\n  zoom: 1,\n  roll: 0,\n};\n\nconst origin = camera.getPosition();\ncameraFolder.add(cameraConfig, 'panX', -300, 300).onChange((panX) => {\n  const current = camera.getPosition();\n  camera.pan(origin[0] + panX - current[0], 0);\n});\ncameraFolder.add(cameraConfig, 'panY', -300, 300).onChange((panY) => {\n  const current = camera.getPosition();\n  camera.pan(0, origin[1] + panY - current[1]);\n});\ncameraFolder.add(cameraConfig, 'roll', -90, 90).onChange((roll) => {\n  camera.rotate(0, 0, roll);\n});\ncameraFolder.add(cameraConfig, 'zoom', 0, 10).onChange((zoom) => {\n  camera.setZoom(zoom);\n});\ncameraFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.action = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  }); // get camera\n\n  var camera = canvas.getCamera();\n  var solarSystem = new _g.Group({\n    id: 'solarSystem'\n  });\n  var earthOrbit = new _g.Group({\n    id: 'earthOrbit'\n  });\n  var moonOrbit = new _g.Group({\n    id: 'moonOrbit'\n  });\n  var sun = new _g.Circle({\n    id: 'sun',\n    style: {\n      r: 100,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var sunLabel = new _g.Text({\n    style: {\n      fontSize: 30,\n      text: 'Sun',\n      fill: 'white',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  sun.appendChild(sunLabel);\n  var earth = new _g.Circle({\n    id: 'earth',\n    style: {\n      r: 50,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var earthLabel = new _g.Text({\n    style: {\n      fontSize: 20,\n      text: 'Earth',\n      fill: 'white',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  earth.appendChild(earthLabel);\n  var moon = new _g.Circle({\n    id: 'moon',\n    style: {\n      r: 25,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  var moonLabel = new _g.Text({\n    style: {\n      fontSize: 10,\n      text: 'Moon',\n      fill: 'white',\n      textAlign: 'center',\n      textBaseline: 'middle'\n    }\n  });\n  moon.appendChild(moonLabel);\n  solarSystem.appendChild(sun);\n  solarSystem.appendChild(earthOrbit);\n  earthOrbit.appendChild(earth);\n  earthOrbit.appendChild(moonOrbit);\n  moonOrbit.appendChild(moon);\n  solarSystem.setPosition(300, 250);\n  earthOrbit.translate(100, 0);\n  moonOrbit.translate(100, 0);\n  canvas.appendChild(solarSystem); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n\n    solarSystem.rotateLocal(1);\n    earthOrbit.rotateLocal(2);\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var cameraFolder = gui.addFolder('camera actions');\n  var cameraConfig = {\n    panX: 0,\n    panY: 0,\n    zoom: 1,\n    roll: 0\n  };\n  var origin = camera.getPosition();\n  cameraFolder.add(cameraConfig, 'panX', -300, 300).onChange(function (panX) {\n    var current = camera.getPosition();\n    camera.pan(origin[0] + panX - current[0], 0);\n  });\n  cameraFolder.add(cameraConfig, 'panY', -300, 300).onChange(function (panY) {\n    var current = camera.getPosition();\n    camera.pan(0, origin[1] + panY - current[1]);\n  });\n  cameraFolder.add(cameraConfig, 'roll', -90, 90).onChange(function (roll) {\n    camera.rotate(0, 0, roll);\n  });\n  cameraFolder.add(cameraConfig, 'zoom', 0, 10).onChange(function (zoom) {\n    camera.setZoom(zoom);\n  });\n  cameraFolder.open();\n});"},{"relativePath":"camera/demo/landmark.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/camera/demo/landmark.js","order":2,"filename":"landmark.js","title":{"zh":"相机动画","en":"Landmark"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*goX8QqgVSMEAAAAAAAAAAAAAARQnAQ","source":"import { Canvas } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { MeshBasicMaterial, CubeGeometry, Mesh, Plugin as Plugin3D } from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a webgl renderer\nconst webglRenderer = new WebGLRenderer();\nwebglRenderer.registerPlugin(new Plugin3D());\nwebglRenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: webglRenderer,\n});\n\nconst camera = canvas.getCamera();\ncamera.setPerspective(0.1, 1000, 75, 600 / 500);\n\n// create landmarks\ncamera.createLandmark('mark1', {\n  position: [300, 250, 400],\n  focalPoint: [300, 250, 0],\n});\ncamera.createLandmark('mark2', {\n  position: [300, 600, 500],\n  focalPoint: [300, 250, 0],\n});\ncamera.createLandmark('mark3', {\n  position: [0, 250, 800],\n  focalPoint: [300, 250, 0],\n  roll: 30,\n});\n\n(async () => {\n  await canvas.ready;\n  const device = webglRenderer.getDevice();\n  const map = webglRenderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ',\n  );\n\n  const cubeGeometry = new CubeGeometry(device, {\n    width: 200,\n    height: 200,\n    depth: 200,\n  });\n  const basicMaterial = new MeshBasicMaterial(device, {\n    map,\n  });\n\n  const cube = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: cubeGeometry,\n      material: basicMaterial,\n    },\n  });\n  cube.setPosition(300, 250, 0);\n\n  canvas.appendChild(cube);\n})();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\n\nconst cameraFolder = gui.addFolder('camera landmarks');\nconst cameraConfig = {\n  goToMark1: () => {\n    camera.gotoLandmark('mark1', 300);\n  },\n  goToMark2: () => {\n    camera.gotoLandmark('mark2', 300);\n  },\n  goToMark3: () => {\n    camera.gotoLandmark('mark3', 300);\n  },\n};\ncameraFolder.add(cameraConfig, 'goToMark1');\ncameraFolder.add(cameraConfig, 'goToMark2');\ncameraFolder.add(cameraConfig, 'goToMark3');\ncameraFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.lilGui, global.stats);\n    global.landmark = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a webgl renderer\n  var webglRenderer = new _gWebgl.Renderer();\n  webglRenderer.registerPlugin(new _gPlugin3d.Plugin());\n  webglRenderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: webglRenderer\n  });\n  var camera = canvas.getCamera();\n  camera.setPerspective(0.1, 1000, 75, 600 / 500); // create landmarks\n\n  camera.createLandmark('mark1', {\n    position: [300, 250, 400],\n    focalPoint: [300, 250, 0]\n  });\n  camera.createLandmark('mark2', {\n    position: [300, 600, 500],\n    focalPoint: [300, 250, 0]\n  });\n  camera.createLandmark('mark3', {\n    position: [0, 250, 800],\n    focalPoint: [300, 250, 0],\n    roll: 30\n  });\n\n  (async function () {\n    await canvas.ready;\n    var device = webglRenderer.getDevice();\n    var map = webglRenderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ');\n    var cubeGeometry = new _gPlugin3d.CubeGeometry(device, {\n      width: 200,\n      height: 200,\n      depth: 200\n    });\n    var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device, {\n      map: map\n    });\n    var cube = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: cubeGeometry,\n        material: basicMaterial\n      }\n    });\n    cube.setPosition(300, 250, 0);\n    canvas.appendChild(cube);\n  })(); // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var cameraFolder = gui.addFolder('camera landmarks');\n  var cameraConfig = {\n    goToMark1: function goToMark1() {\n      camera.gotoLandmark('mark1', 300);\n    },\n    goToMark2: function goToMark2() {\n      camera.gotoLandmark('mark2', 300);\n    },\n    goToMark3: function goToMark3() {\n      camera.gotoLandmark('mark3', 300);\n    }\n  };\n  cameraFolder.add(cameraConfig, 'goToMark1');\n  cameraFolder.add(cameraConfig, 'goToMark2');\n  cameraFolder.add(cameraConfig, 'goToMark3');\n  cameraFolder.open();\n});"},{"relativePath":"animation/demo/animations.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/animations.js","order":8,"filename":"animations.js","title":{"zh":"常见的动画效果","en":"Useful animations"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*WRp0SbVfgjUAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Text, Group, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\n/**\n * ported from https://github.com/wellyshen/use-web-animations/tree/master/src/animations\n */\nconst transformOrigin = 'center bottom';\nconst effects = [\n  () => ({\n    name: 'backInDown',\n    keyframes: [\n      { transform: 'translateY(-1200px) scale(0.7)', opacity: 0.7, offset: 0 },\n      { transform: 'translateY(0px) scale(0.7)', opacity: 0.7, offset: 0.8 },\n      { transform: 'scale(1)', opacity: 1, offset: 1 },\n    ],\n    animationOptions: { duration: 1000, fill: 'both' },\n  }),\n  () => ({\n    name: 'fadeIn',\n    keyframes: [{ opacity: 0 }, { opacity: 1 }],\n    animationOptions: { duration: 1000, fill: 'both' },\n  }),\n  () => ({\n    name: 'fadeInBottomLeft',\n    keyframes: [\n      { transform: 'translate3d(-100%, 100%, 0)', opacity: 0 },\n      { transform: 'translate3d(0, 0, 0)', opacity: 1 },\n    ],\n    animationOptions: { duration: 1000, fill: 'both' },\n  }),\n  () => ({\n    name: 'fadeInBottomRight',\n    keyframes: [\n      { transform: 'translate3d(100%, 100%, 0)', opacity: 0 },\n      { transform: 'translate3d(0, 0, 0)', opacity: 1 },\n    ],\n    animationOptions: { duration: 1000, fill: 'both' },\n  }),\n  () => ({\n    name: 'fadeOutTopRight',\n    keyframes: [\n      { transform: 'translate3d(0, 0, 0)', opacity: 1 },\n      { transform: 'translate3d(100%, -100%, 0)', opacity: 0 },\n    ],\n    animationOptions: { duration: 1000, fill: 'both' },\n  }),\n  () => {\n    const easing1 = 'cubic-bezier(0.215, 0.61, 0.355, 1)';\n    const easing2 = 'cubic-bezier(0.755, 0.05, 0.855, 0.06)';\n    const frame1 = {\n      transform: 'translate3d(0, 0, 0)',\n      easing: easing1,\n      transformOrigin,\n    };\n    const frame2 = {\n      transform: 'translate3d(0, -30px, 0) scaleY(1.1)',\n      easing: easing2,\n      transformOrigin,\n    };\n    return {\n      name: 'bounce',\n      keyframes: [\n        { ...frame1, offset: 0 },\n        { ...frame1, offset: 0.2 },\n        { ...frame2, offset: 0.4 },\n        { ...frame2, offset: 0.43 },\n        { ...frame1, offset: 0.53 },\n        {\n          transform: 'translate3d(0, -15px, 0) scaleY(1.05)',\n          easing: easing2,\n          transformOrigin,\n          offset: 0.7,\n        },\n        {\n          transform: 'translate3d(0, 0, 0) scaleY(0.95)',\n          easing: easing1,\n          transformOrigin,\n          offset: 0.8,\n        },\n        {\n          transform: 'translate3d(0, -4px, 0) scaleY(1.02)',\n          transformOrigin,\n          offset: 0.9,\n        },\n        { ...frame1, offset: 1 },\n      ],\n      animationOptions: { duration: 1000, fill: 'both' },\n    };\n  },\n  () => {\n    const easing = 'cubic-bezier(0.215, 0.61, 0.355, 1)';\n    return {\n      name: 'bounceIn',\n      keyframes: [\n        { transform: 'scale3d(0.3, 0.3, 0.3)', opacity: 0, easing, offset: 0 },\n        { transform: 'scale3d(1.1, 1.1, 1.1)', easing, offset: 0.2 },\n        { transform: 'scale3d(0.9, 0.9, 0.9)', easing, offset: 0.4 },\n        { transform: 'scale3d(1.03, 1.03, 1.03)', opacity: 1, easing, offset: 0.6 },\n        { transform: 'scale3d(0.97, 0.97, 0.97)', easing, offset: 0.8 },\n        { transform: 'scale3d(1, 1, 1)', opacity: 1, easing, offset: 1 },\n      ],\n      animationOptions: { duration: 750, fill: 'both' },\n    };\n  },\n  () => {\n    const frame = { transform: 'scale3d(1.1, 1.1, 1.1)', opacity: 1 };\n    return {\n      name: 'bounceOut',\n      keyframes: [\n        { transform: 'none', opacity: 1, offset: 0 },\n        { transform: 'scale3d(0.9, 0.9, 0.9)', offset: 0.2 },\n        { ...frame, offset: 0.5 },\n        { ...frame, offset: 0.55 },\n        { transform: 'scale3d(0.3, 0.3, 0.3)', opacity: 0, offset: 1 },\n      ],\n      animationOptions: { duration: 750, fill: 'both' },\n    };\n  },\n  () => {\n    const frame1 = { opacity: 1 };\n    const frame2 = { opacity: 0 };\n    return {\n      name: 'flash',\n      keyframes: [\n        { ...frame1, offset: 0 },\n        { ...frame2, offset: 0.25 },\n        { ...frame1, offset: 0.5 },\n        { ...frame2, offset: 0.75 },\n        { ...frame1, offset: 1 },\n      ],\n      animationOptions: { duration: 1000, fill: 'both' },\n    };\n  },\n  () => ({\n    name: 'headShake',\n    keyframes: [\n      { transform: 'translateX(0)', offset: 0 },\n      { transform: 'translateX(-6px) rotateY(-9deg)', offset: 0.065 },\n      { transform: 'translateX(5px) rotateY(7deg)', offset: 0.185 },\n      { transform: 'translateX(-3px) rotateY(-5deg)', offset: 0.315 },\n      { transform: 'translateX(2px) rotateY(3deg)', offset: 0.435 },\n      { transform: 'translateX(0)', offset: 0.5 },\n      { transform: 'none', offset: 1 },\n    ],\n    animationOptions: { duration: 1000, fill: 'both', easing: 'ease-in-out' },\n  }),\n  () => {\n    const frame1 = { transform: 'scale(1)' };\n    const frame2 = { transform: 'scale(1.3)' };\n    return {\n      name: 'heartBeat',\n      keyframes: [\n        { ...frame1, offset: 0 },\n        { ...frame2, offset: 0.14 },\n        { ...frame1, offset: 0.28 },\n        { ...frame2, offset: 0.42 },\n        { ...frame1, offset: 0.7 },\n        { transform: 'none', offset: 1 },\n      ],\n      animationOptions: { duration: 1300, fill: 'both', easing: 'ease-in-out' },\n    };\n  },\n  () => ({\n    name: 'swing',\n    keyframes: [\n      { transform: 'rotateZ(0deg)', transformOrigin, offset: 0 },\n      { transform: 'rotateZ(15deg)', transformOrigin, offset: 0.2 },\n      { transform: 'rotateZ(-10deg)', transformOrigin, offset: 0.4 },\n      { transform: 'rotateZ(5deg)', transformOrigin, offset: 0.6 },\n      { transform: 'rotateZ(-5deg)', transformOrigin, offset: 0.8 },\n      { transform: 'rotateZ(0deg)', transformOrigin, offset: 1 },\n    ],\n    animationOptions: { duration: 1000, fill: 'both' },\n  }),\n];\n\neffects.forEach((f, i) => {\n  const { name, keyframes, animationOptions } = f();\n  const row = Math.floor(i / 4);\n  const group = new Group();\n  const circle = new Circle({\n    style: {\n      r: 50,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n    },\n  });\n  const text = new Text({\n    style: {\n      text: name,\n      fontSize: 10,\n      fill: '#000',\n      textAlign: 'center',\n      textBaseline: 'middle',\n    },\n  });\n  circle.appendChild(text);\n  group.appendChild(circle);\n  canvas.appendChild(group);\n\n  group.setPosition(50 + 150 * (i % 4), 50 + 150 * row);\n\n  circle.animate(keyframes, {\n    ...animationOptions,\n    iterations: Infinity,\n  });\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.animations = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  /**\n   * ported from https://github.com/wellyshen/use-web-animations/tree/master/src/animations\n   */\n\n  var transformOrigin = 'center bottom';\n  var effects = [function () {\n    return {\n      name: 'backInDown',\n      keyframes: [{\n        transform: 'translateY(-1200px) scale(0.7)',\n        opacity: 0.7,\n        offset: 0\n      }, {\n        transform: 'translateY(0px) scale(0.7)',\n        opacity: 0.7,\n        offset: 0.8\n      }, {\n        transform: 'scale(1)',\n        opacity: 1,\n        offset: 1\n      }],\n      animationOptions: {\n        duration: 1000,\n        fill: 'both'\n      }\n    };\n  }, function () {\n    return {\n      name: 'fadeIn',\n      keyframes: [{\n        opacity: 0\n      }, {\n        opacity: 1\n      }],\n      animationOptions: {\n        duration: 1000,\n        fill: 'both'\n      }\n    };\n  }, function () {\n    return {\n      name: 'fadeInBottomLeft',\n      keyframes: [{\n        transform: 'translate3d(-100%, 100%, 0)',\n        opacity: 0\n      }, {\n        transform: 'translate3d(0, 0, 0)',\n        opacity: 1\n      }],\n      animationOptions: {\n        duration: 1000,\n        fill: 'both'\n      }\n    };\n  }, function () {\n    return {\n      name: 'fadeInBottomRight',\n      keyframes: [{\n        transform: 'translate3d(100%, 100%, 0)',\n        opacity: 0\n      }, {\n        transform: 'translate3d(0, 0, 0)',\n        opacity: 1\n      }],\n      animationOptions: {\n        duration: 1000,\n        fill: 'both'\n      }\n    };\n  }, function () {\n    return {\n      name: 'fadeOutTopRight',\n      keyframes: [{\n        transform: 'translate3d(0, 0, 0)',\n        opacity: 1\n      }, {\n        transform: 'translate3d(100%, -100%, 0)',\n        opacity: 0\n      }],\n      animationOptions: {\n        duration: 1000,\n        fill: 'both'\n      }\n    };\n  }, function () {\n    var easing1 = 'cubic-bezier(0.215, 0.61, 0.355, 1)';\n    var easing2 = 'cubic-bezier(0.755, 0.05, 0.855, 0.06)';\n    var frame1 = {\n      transform: 'translate3d(0, 0, 0)',\n      easing: easing1,\n      transformOrigin: transformOrigin\n    };\n    var frame2 = {\n      transform: 'translate3d(0, -30px, 0) scaleY(1.1)',\n      easing: easing2,\n      transformOrigin: transformOrigin\n    };\n    return {\n      name: 'bounce',\n      keyframes: [{ ...frame1,\n        offset: 0\n      }, { ...frame1,\n        offset: 0.2\n      }, { ...frame2,\n        offset: 0.4\n      }, { ...frame2,\n        offset: 0.43\n      }, { ...frame1,\n        offset: 0.53\n      }, {\n        transform: 'translate3d(0, -15px, 0) scaleY(1.05)',\n        easing: easing2,\n        transformOrigin: transformOrigin,\n        offset: 0.7\n      }, {\n        transform: 'translate3d(0, 0, 0) scaleY(0.95)',\n        easing: easing1,\n        transformOrigin: transformOrigin,\n        offset: 0.8\n      }, {\n        transform: 'translate3d(0, -4px, 0) scaleY(1.02)',\n        transformOrigin: transformOrigin,\n        offset: 0.9\n      }, { ...frame1,\n        offset: 1\n      }],\n      animationOptions: {\n        duration: 1000,\n        fill: 'both'\n      }\n    };\n  }, function () {\n    var easing = 'cubic-bezier(0.215, 0.61, 0.355, 1)';\n    return {\n      name: 'bounceIn',\n      keyframes: [{\n        transform: 'scale3d(0.3, 0.3, 0.3)',\n        opacity: 0,\n        easing: easing,\n        offset: 0\n      }, {\n        transform: 'scale3d(1.1, 1.1, 1.1)',\n        easing: easing,\n        offset: 0.2\n      }, {\n        transform: 'scale3d(0.9, 0.9, 0.9)',\n        easing: easing,\n        offset: 0.4\n      }, {\n        transform: 'scale3d(1.03, 1.03, 1.03)',\n        opacity: 1,\n        easing: easing,\n        offset: 0.6\n      }, {\n        transform: 'scale3d(0.97, 0.97, 0.97)',\n        easing: easing,\n        offset: 0.8\n      }, {\n        transform: 'scale3d(1, 1, 1)',\n        opacity: 1,\n        easing: easing,\n        offset: 1\n      }],\n      animationOptions: {\n        duration: 750,\n        fill: 'both'\n      }\n    };\n  }, function () {\n    var frame = {\n      transform: 'scale3d(1.1, 1.1, 1.1)',\n      opacity: 1\n    };\n    return {\n      name: 'bounceOut',\n      keyframes: [{\n        transform: 'none',\n        opacity: 1,\n        offset: 0\n      }, {\n        transform: 'scale3d(0.9, 0.9, 0.9)',\n        offset: 0.2\n      }, { ...frame,\n        offset: 0.5\n      }, { ...frame,\n        offset: 0.55\n      }, {\n        transform: 'scale3d(0.3, 0.3, 0.3)',\n        opacity: 0,\n        offset: 1\n      }],\n      animationOptions: {\n        duration: 750,\n        fill: 'both'\n      }\n    };\n  }, function () {\n    var frame1 = {\n      opacity: 1\n    };\n    var frame2 = {\n      opacity: 0\n    };\n    return {\n      name: 'flash',\n      keyframes: [{ ...frame1,\n        offset: 0\n      }, { ...frame2,\n        offset: 0.25\n      }, { ...frame1,\n        offset: 0.5\n      }, { ...frame2,\n        offset: 0.75\n      }, { ...frame1,\n        offset: 1\n      }],\n      animationOptions: {\n        duration: 1000,\n        fill: 'both'\n      }\n    };\n  }, function () {\n    return {\n      name: 'headShake',\n      keyframes: [{\n        transform: 'translateX(0)',\n        offset: 0\n      }, {\n        transform: 'translateX(-6px) rotateY(-9deg)',\n        offset: 0.065\n      }, {\n        transform: 'translateX(5px) rotateY(7deg)',\n        offset: 0.185\n      }, {\n        transform: 'translateX(-3px) rotateY(-5deg)',\n        offset: 0.315\n      }, {\n        transform: 'translateX(2px) rotateY(3deg)',\n        offset: 0.435\n      }, {\n        transform: 'translateX(0)',\n        offset: 0.5\n      }, {\n        transform: 'none',\n        offset: 1\n      }],\n      animationOptions: {\n        duration: 1000,\n        fill: 'both',\n        easing: 'ease-in-out'\n      }\n    };\n  }, function () {\n    var frame1 = {\n      transform: 'scale(1)'\n    };\n    var frame2 = {\n      transform: 'scale(1.3)'\n    };\n    return {\n      name: 'heartBeat',\n      keyframes: [{ ...frame1,\n        offset: 0\n      }, { ...frame2,\n        offset: 0.14\n      }, { ...frame1,\n        offset: 0.28\n      }, { ...frame2,\n        offset: 0.42\n      }, { ...frame1,\n        offset: 0.7\n      }, {\n        transform: 'none',\n        offset: 1\n      }],\n      animationOptions: {\n        duration: 1300,\n        fill: 'both',\n        easing: 'ease-in-out'\n      }\n    };\n  }, function () {\n    return {\n      name: 'swing',\n      keyframes: [{\n        transform: 'rotateZ(0deg)',\n        transformOrigin: transformOrigin,\n        offset: 0\n      }, {\n        transform: 'rotateZ(15deg)',\n        transformOrigin: transformOrigin,\n        offset: 0.2\n      }, {\n        transform: 'rotateZ(-10deg)',\n        transformOrigin: transformOrigin,\n        offset: 0.4\n      }, {\n        transform: 'rotateZ(5deg)',\n        transformOrigin: transformOrigin,\n        offset: 0.6\n      }, {\n        transform: 'rotateZ(-5deg)',\n        transformOrigin: transformOrigin,\n        offset: 0.8\n      }, {\n        transform: 'rotateZ(0deg)',\n        transformOrigin: transformOrigin,\n        offset: 1\n      }],\n      animationOptions: {\n        duration: 1000,\n        fill: 'both'\n      }\n    };\n  }];\n  effects.forEach(function (f, i) {\n    var _f = f(),\n        name = _f.name,\n        keyframes = _f.keyframes,\n        animationOptions = _f.animationOptions;\n\n    var row = Math.floor(i / 4);\n    var group = new _g.Group();\n    var circle = new _g.Circle({\n      style: {\n        r: 50,\n        fill: '#1890FF',\n        stroke: '#F04864',\n        lineWidth: 4\n      }\n    });\n    var text = new _g.Text({\n      style: {\n        text: name,\n        fontSize: 10,\n        fill: '#000',\n        textAlign: 'center',\n        textBaseline: 'middle'\n      }\n    });\n    circle.appendChild(text);\n    group.appendChild(circle);\n    canvas.appendChild(group);\n    group.setPosition(50 + 150 * (i % 4), 50 + 150 * row);\n    circle.animate(keyframes, { ...animationOptions,\n      iterations: Infinity\n    });\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"animation/demo/easing.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/easing.js","order":0,"filename":"easing.js","title":{"zh":"缓动函数","en":"Easing"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*9y3_TIoOUPMAAAAAAAAAAAAAARQnAQ","source":"import { Image, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\n * ported from https://animista.net/play/entrances/scale-in\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst image = new Image({\n  style: {\n    x: 200,\n    y: 100,\n    width: 200,\n    height: 200,\n    origin: [100, 100],\n    img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n  },\n});\n\ncanvas.appendChild(image);\n\nconst animation = image.animate([{ transform: 'rotate(0)' }, { transform: 'rotate(360deg)' }], {\n  duration: 1500,\n  iterations: Infinity,\n  // delay: 3000,\n  // direction: 'alternate',\n});\nconst timing = animation.effect.getTiming();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst animationFolder = gui.addFolder('animation');\nconst animationConfig = {\n  easing: 'linear',\n  playbackRate: 1,\n};\nanimationFolder\n  .add(animationConfig, 'easing', [\n    'linear',\n    'ease',\n    'ease-in',\n    'ease-out',\n    'ease-in-out',\n    'ease-out-in',\n    'ease-in-quad',\n    'ease-out-quad',\n    'ease-in-out-quad',\n    'ease-out-in-quad',\n\n    'ease-in-cubic',\n    'ease-out-cubic',\n    'ease-in-out-cubic',\n    'ease-out-in-cubic',\n\n    'ease-in-quart',\n    'ease-out-quart',\n    'ease-in-out-quart',\n    'ease-out-in-quart',\n\n    'ease-in-quint',\n    'ease-out-quint',\n    'ease-in-out-quint',\n    'ease-out-in-quint',\n\n    'ease-in-expo',\n    'ease-out-expo',\n    'ease-in-out-expo',\n    'ease-out-in-expo',\n\n    'ease-in-sine',\n    'ease-out-sine',\n    'ease-in-out-sine',\n    'ease-out-in-sine',\n\n    'ease-in-circ',\n    'ease-out-circ',\n    'ease-in-out-circ',\n    'ease-out-in-circ',\n\n    'ease-in-back',\n    'ease-out-back',\n    'ease-in-out-back',\n    'ease-out-in-back',\n\n    'ease-in-bounce',\n    'ease-out-bounce',\n    'ease-in-out-bounce',\n    'ease-out-in-bounce',\n\n    'ease-in-elastic',\n    'ease-out-elastic',\n    'ease-in-out-elastic',\n    'ease-out-in-elastic',\n\n    'cubic-bezier(0.47, 0, 0.745, 0.715)',\n\n    'spring',\n    'spring-in',\n    'spring-out',\n    'spring-in-out',\n    'spring-out-in',\n\n    'custom',\n  ])\n  .onChange((type) => {\n    if (type !== 'custom') {\n      timing.easing = type;\n    } else {\n      const count = 4;\n      const pos = 0;\n      timing.easingFunction = (x) => {\n        if (x >= 1) {\n          return 1;\n        }\n        const stepSize = 1 / count;\n        x += pos * stepSize;\n        return x - (x % stepSize);\n      };\n    }\n  });\nanimationFolder.add(animationConfig, 'playbackRate', 0, 5).onChange((playbackRate) => {\n  animation.updatePlaybackRate(playbackRate);\n});\nanimationFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.easing = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * ported from https://animista.net/play/entrances/scale-in\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var image = new _g.Image({\n    style: {\n      x: 200,\n      y: 100,\n      width: 200,\n      height: 200,\n      origin: [100, 100],\n      img: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ'\n    }\n  });\n  canvas.appendChild(image);\n  var animation = image.animate([{\n    transform: 'rotate(0)'\n  }, {\n    transform: 'rotate(360deg)'\n  }], {\n    duration: 1500,\n    iterations: Infinity // delay: 3000,\n    // direction: 'alternate',\n\n  });\n  var timing = animation.effect.getTiming(); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var animationFolder = gui.addFolder('animation');\n  var animationConfig = {\n    easing: 'linear',\n    playbackRate: 1\n  };\n  animationFolder.add(animationConfig, 'easing', ['linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out', 'ease-out-in', 'ease-in-quad', 'ease-out-quad', 'ease-in-out-quad', 'ease-out-in-quad', 'ease-in-cubic', 'ease-out-cubic', 'ease-in-out-cubic', 'ease-out-in-cubic', 'ease-in-quart', 'ease-out-quart', 'ease-in-out-quart', 'ease-out-in-quart', 'ease-in-quint', 'ease-out-quint', 'ease-in-out-quint', 'ease-out-in-quint', 'ease-in-expo', 'ease-out-expo', 'ease-in-out-expo', 'ease-out-in-expo', 'ease-in-sine', 'ease-out-sine', 'ease-in-out-sine', 'ease-out-in-sine', 'ease-in-circ', 'ease-out-circ', 'ease-in-out-circ', 'ease-out-in-circ', 'ease-in-back', 'ease-out-back', 'ease-in-out-back', 'ease-out-in-back', 'ease-in-bounce', 'ease-out-bounce', 'ease-in-out-bounce', 'ease-out-in-bounce', 'ease-in-elastic', 'ease-out-elastic', 'ease-in-out-elastic', 'ease-out-in-elastic', 'cubic-bezier(0.47, 0, 0.745, 0.715)', 'spring', 'spring-in', 'spring-out', 'spring-in-out', 'spring-out-in', 'custom']).onChange(function (type) {\n    if (type !== 'custom') {\n      timing.easing = type;\n    } else {\n      var count = 4;\n      var pos = 0;\n\n      timing.easingFunction = function (x) {\n        if (x >= 1) {\n          return 1;\n        }\n\n        var stepSize = 1 / count;\n        x += pos * stepSize;\n        return x - x % stepSize;\n      };\n    }\n  });\n  animationFolder.add(animationConfig, 'playbackRate', 0, 5).onChange(function (playbackRate) {\n    animation.updatePlaybackRate(playbackRate);\n  });\n  animationFolder.open();\n});"},{"relativePath":"animation/demo/lifecycle.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/lifecycle.js","order":1,"filename":"lifecycle.js","title":{"zh":"动画生命周期控制方法","en":"Lifecycle of animation"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*hafUTp9MrfYAAAAAAAAAAABkARQnAQ","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\n * ported from https://animista.net/play/entrances/scale-in\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst circle = new Circle({\n  style: {\n    x: 200,\n    y: 200,\n    r: 60,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\ncanvas.appendChild(circle);\n\nconst animation = circle.animate([{ transform: 'scale(1)' }, { transform: 'scale(2)' }], {\n  duration: 500,\n  easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n});\n\n// get triggered when animation finished\nanimation.onfinish = (e) => {\n  console.log('finish!', e.target, e.target.playState);\n};\nanimation.finished.then(() => {\n  console.log('finish promise resolved');\n});\n// get triggered at the end of each frame in a running animation\nanimation.onframe = (e) => {\n  console.log('frame ended!', e.target, e.target.playState);\n};\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst animationFolder = gui.addFolder('animation');\nconst animationConfig = {\n  play: () => {\n    animation.play();\n  },\n  pause: () => {\n    animation.pause();\n  },\n  reverse: () => {\n    animation.reverse();\n  },\n  finish: () => {\n    animation.finish();\n  },\n};\nanimationFolder.add(animationConfig, 'play').name('Play');\nanimationFolder.add(animationConfig, 'pause').name('Pause');\nanimationFolder.add(animationConfig, 'reverse').name('Reverse');\nanimationFolder.add(animationConfig, 'finish').name('Finish');\nanimationFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.lifecycle = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * ported from https://animista.net/play/entrances/scale-in\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var circle = new _g.Circle({\n    style: {\n      x: 200,\n      y: 200,\n      r: 60,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  canvas.appendChild(circle);\n  var animation = circle.animate([{\n    transform: 'scale(1)'\n  }, {\n    transform: 'scale(2)'\n  }], {\n    duration: 500,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)'\n  }); // get triggered when animation finished\n\n  animation.onfinish = function (e) {\n    console.log('finish!', e.target, e.target.playState);\n  };\n\n  animation.finished.then(function () {\n    console.log('finish promise resolved');\n  }); // get triggered at the end of each frame in a running animation\n\n  animation.onframe = function (e) {\n    console.log('frame ended!', e.target, e.target.playState);\n  }; // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var animationFolder = gui.addFolder('animation');\n  var animationConfig = {\n    play: function play() {\n      animation.play();\n    },\n    pause: function pause() {\n      animation.pause();\n    },\n    reverse: function reverse() {\n      animation.reverse();\n    },\n    finish: function finish() {\n      animation.finish();\n    }\n  };\n  animationFolder.add(animationConfig, 'play').name('Play');\n  animationFolder.add(animationConfig, 'pause').name('Pause');\n  animationFolder.add(animationConfig, 'reverse').name('Reverse');\n  animationFolder.add(animationConfig, 'finish').name('Finish');\n  animationFolder.open();\n});"},{"relativePath":"animation/demo/marching-ants.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/marching-ants.js","order":4,"filename":"marching-ants.js","title":{"zh":"蚂蚁线","en":"Marching ants"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*TTyTTISXlKAAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Rect, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst circle = new Circle({\n  style: {\n    x: 200,\n    y: 200,\n    r: 60,\n    stroke: '#F04864',\n    lineWidth: 4,\n    lineDash: [10, 10],\n  },\n});\ncanvas.appendChild(circle);\n\ncircle.animate([{ lineDashOffset: -20 }, { lineDashOffset: 0 }], {\n  duration: 500,\n  iterations: Infinity,\n});\n\nconst rect = new Rect({\n  style: {\n    x: 300,\n    y: 100,\n    width: 200,\n    height: 200,\n    stroke: '#F04864',\n    lineWidth: 4,\n    radius: 8,\n    lineDash: [10, 10],\n  },\n});\ncanvas.appendChild(rect);\nrect.animate([{ lineDashOffset: -20 }, { lineDashOffset: 0 }], {\n  duration: 500,\n  iterations: Infinity,\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.marchingAnts = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var circle = new _g.Circle({\n    style: {\n      x: 200,\n      y: 200,\n      r: 60,\n      stroke: '#F04864',\n      lineWidth: 4,\n      lineDash: [10, 10]\n    }\n  });\n  canvas.appendChild(circle);\n  circle.animate([{\n    lineDashOffset: -20\n  }, {\n    lineDashOffset: 0\n  }], {\n    duration: 500,\n    iterations: Infinity\n  });\n  var rect = new _g.Rect({\n    style: {\n      x: 300,\n      y: 100,\n      width: 200,\n      height: 200,\n      stroke: '#F04864',\n      lineWidth: 4,\n      radius: 8,\n      lineDash: [10, 10]\n    }\n  });\n  canvas.appendChild(rect);\n  rect.animate([{\n    lineDashOffset: -20\n  }, {\n    lineDashOffset: 0\n  }], {\n    duration: 500,\n    iterations: Infinity\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"animation/demo/line-dash.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/line-dash.js","order":5,"filename":"line-dash.js","title":{"zh":"笔迹动画","en":"Line dash"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8NOsQoWLm2IAAAAAAAAAAAAAARQnAQ","source":"import { Path, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst path = new Path({\n  style: {\n    stroke: 'black',\n    path:\n      'M 100,300' +\n      'l 50,-25' +\n      'a25,25 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,50 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,75 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,100 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'l 0, 200,' +\n      'z',\n  },\n});\ncanvas.appendChild(path);\n\nconst length = path.getTotalLength();\npath.animate([{ lineDash: [0, length] }, { lineDash: [length, 0] }], {\n  duration: 3500,\n  easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n  iterations: Infinity,\n  direction: 'alternate',\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.lineDash = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var path = new _g.Path({\n    style: {\n      stroke: 'black',\n      path: 'M 100,300' + 'l 50,-25' + 'a25,25 -30 0,1 50,-25' + 'l 50,-25' + 'a25,50 -30 0,1 50,-25' + 'l 50,-25' + 'a25,75 -30 0,1 50,-25' + 'l 50,-25' + 'a25,100 -30 0,1 50,-25' + 'l 50,-25' + 'l 0, 200,' + 'z'\n    }\n  });\n  canvas.appendChild(path);\n  var length = path.getTotalLength();\n  path.animate([{\n    lineDash: [0, length]\n  }, {\n    lineDash: [length, 0]\n  }], {\n    duration: 3500,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    iterations: Infinity,\n    direction: 'alternate'\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"animation/demo/morph.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/morph.js","order":6,"filename":"morph.js","title":{"zh":"形变动画","en":"Morph"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*qCHaTJUg_aEAAAAAAAAAAAAAARQnAQ","source":"import { Path, Line, Circle, Canvas, Polyline, Polygon, Rect, convertToPath } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst path1 =\n  'M 0,40 C 5.5555555555555545,40,22.222222222222218,44.44444444444445,33.33333333333333,40 C 44.444444444444436,35.55555555555556,55.55555555555554,14.66666666666667,66.66666666666666,13.333333333333336 C 77.77777777777777,12.000000000000002,88.88888888888887,32,100,32 C 111.11111111111113,32,122.22222222222221,14.66666666666667,133.33333333333331,13.333333333333336 C 144.44444444444443,12.000000000000002,155.55555555555557,24,166.66666666666669,24 C 177.7777777777778,24,188.8888888888889,11.111111111111114,200,13.333333333333336 C 211.1111111111111,15.555555555555557,222.22222222222226,35.111111111111114,233.33333333333334,37.333333333333336 C 244.44444444444443,39.55555555555555,255.55555555555551,31.22222222222223,266.66666666666663,26.66666666666667 C 277.77777777777777,22.111111111111114,294.4444444444444,12.777777777777779,300,10';\nconst path2 = [\n  ['M', 0, 0],\n  ['L', 200, 0],\n];\nconst pathA = new Path({\n  style: {\n    path: path1,\n    stroke: '#F04864',\n  },\n});\ncanvas.appendChild(pathA);\npathA.setPosition(100, 100);\npathA.animate([{ path: path1 }, { path: path2 }], {\n  duration: 2500,\n  easing: 'ease',\n  iterations: Infinity,\n  direction: 'alternate',\n});\n\nconst linePath = convertToPath(\n  new Line({\n    style: {\n      x1: 100,\n      y1: 0,\n      x2: 100,\n      y2: 100,\n    },\n  }),\n);\nconst pathB = new Path({\n  style: {\n    path: path1,\n    stroke: '#F04864',\n  },\n});\ncanvas.appendChild(pathB);\npathB.animate([{ path: path1 }, { path: linePath }], {\n  duration: 2500,\n  easing: 'ease',\n  iterations: Infinity,\n  direction: 'alternate',\n});\n\nconst circlePath = convertToPath(\n  new Circle({\n    style: {\n      x: 50,\n      y: 50,\n      r: 50,\n    },\n  }),\n);\nconst pathC = new Path({\n  style: {\n    path: path1,\n    stroke: '#F04864',\n  },\n});\ncanvas.appendChild(pathC);\npathC.animate([{ path: path1 }, { path: circlePath }], {\n  duration: 2500,\n  easing: 'ease',\n  iterations: Infinity,\n  direction: 'alternate',\n});\npathC.translate(0, 100);\n\nconst polylinePath = convertToPath(\n  new Polyline({\n    style: {\n      points: [\n        [50, 50],\n        [100, 50],\n        [100, 100],\n        [150, 100],\n        [150, 150],\n        [200, 150],\n      ],\n    },\n  }),\n);\nconst pathD = new Path({\n  style: {\n    path: path1,\n    stroke: '#F04864',\n  },\n});\ncanvas.appendChild(pathD);\npathD.animate([{ path: path1 }, { path: polylinePath }], {\n  duration: 2500,\n  easing: 'ease',\n  iterations: Infinity,\n  direction: 'alternate',\n});\npathD.translate(0, 200);\n\nconst polygonPath = convertToPath(\n  new Polygon({\n    style: {\n      points: [\n        [0, 0],\n        [50, 50],\n        [50, 100],\n      ],\n    },\n  }),\n);\nconst pathE = new Path({\n  style: {\n    path: path1,\n    stroke: '#F04864',\n  },\n});\ncanvas.appendChild(pathE);\npathE.animate([{ path: path1 }, { path: polygonPath }], {\n  duration: 2500,\n  easing: 'ease',\n  iterations: Infinity,\n  direction: 'alternate',\n});\npathE.translate(0, 300);\n\nconst rectPath = convertToPath(\n  new Rect({\n    style: {\n      width: 200,\n      height: 100,\n      transformOrigin: 'center',\n    },\n  }),\n);\nconst pathF = new Path({\n  style: {\n    path: rectPath,\n    stroke: '#F04864',\n    fill: '',\n    lineWidth: 10,\n  },\n});\ncanvas.appendChild(pathF);\npathF.animate(\n  [\n    { path: rectPath, stroke: '#F04864', fill: 'blue' },\n    { path: circlePath, stroke: 'blue', fill: '#F04864' },\n  ],\n  {\n    duration: 2500,\n    easing: 'ease',\n    iterations: Infinity,\n    direction: 'alternate',\n  },\n);\npathF.translate(200, 100);\n\nconst starPath = new Path({\n  style: {\n    path: 'M301.113,12.011l99.25,179.996l201.864,38.778L461.706,380.808l25.508,203.958l-186.101-87.287L115.01,584.766l25.507-203.958L0,230.785l201.86-38.778L301.113,12.011',\n  },\n});\nstarPath.scale(0.2);\nconst pathG = new Path({\n  style: {\n    path: rectPath,\n    lineWidth: 2,\n  },\n});\ncanvas.appendChild(pathG);\npathG.animate(\n  [\n    { path: rectPath, stroke: '#F04864', fill: 'blue' },\n    { path: convertToPath(starPath), stroke: 'blue', fill: '#F04864' },\n  ],\n  {\n    duration: 2500,\n    easing: 'ease',\n    iterations: Infinity,\n    direction: 'alternate',\n  },\n);\npathG.translate(300, 0);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.morph = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var path1 = 'M 0,40 C 5.5555555555555545,40,22.222222222222218,44.44444444444445,33.33333333333333,40 C 44.444444444444436,35.55555555555556,55.55555555555554,14.66666666666667,66.66666666666666,13.333333333333336 C 77.77777777777777,12.000000000000002,88.88888888888887,32,100,32 C 111.11111111111113,32,122.22222222222221,14.66666666666667,133.33333333333331,13.333333333333336 C 144.44444444444443,12.000000000000002,155.55555555555557,24,166.66666666666669,24 C 177.7777777777778,24,188.8888888888889,11.111111111111114,200,13.333333333333336 C 211.1111111111111,15.555555555555557,222.22222222222226,35.111111111111114,233.33333333333334,37.333333333333336 C 244.44444444444443,39.55555555555555,255.55555555555551,31.22222222222223,266.66666666666663,26.66666666666667 C 277.77777777777777,22.111111111111114,294.4444444444444,12.777777777777779,300,10';\n  var path2 = [['M', 0, 0], ['L', 200, 0]];\n  var pathA = new _g.Path({\n    style: {\n      path: path1,\n      stroke: '#F04864'\n    }\n  });\n  canvas.appendChild(pathA);\n  pathA.setPosition(100, 100);\n  pathA.animate([{\n    path: path1\n  }, {\n    path: path2\n  }], {\n    duration: 2500,\n    easing: 'ease',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  var linePath = (0, _g.convertToPath)(new _g.Line({\n    style: {\n      x1: 100,\n      y1: 0,\n      x2: 100,\n      y2: 100\n    }\n  }));\n  var pathB = new _g.Path({\n    style: {\n      path: path1,\n      stroke: '#F04864'\n    }\n  });\n  canvas.appendChild(pathB);\n  pathB.animate([{\n    path: path1\n  }, {\n    path: linePath\n  }], {\n    duration: 2500,\n    easing: 'ease',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  var circlePath = (0, _g.convertToPath)(new _g.Circle({\n    style: {\n      x: 50,\n      y: 50,\n      r: 50\n    }\n  }));\n  var pathC = new _g.Path({\n    style: {\n      path: path1,\n      stroke: '#F04864'\n    }\n  });\n  canvas.appendChild(pathC);\n  pathC.animate([{\n    path: path1\n  }, {\n    path: circlePath\n  }], {\n    duration: 2500,\n    easing: 'ease',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  pathC.translate(0, 100);\n  var polylinePath = (0, _g.convertToPath)(new _g.Polyline({\n    style: {\n      points: [[50, 50], [100, 50], [100, 100], [150, 100], [150, 150], [200, 150]]\n    }\n  }));\n  var pathD = new _g.Path({\n    style: {\n      path: path1,\n      stroke: '#F04864'\n    }\n  });\n  canvas.appendChild(pathD);\n  pathD.animate([{\n    path: path1\n  }, {\n    path: polylinePath\n  }], {\n    duration: 2500,\n    easing: 'ease',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  pathD.translate(0, 200);\n  var polygonPath = (0, _g.convertToPath)(new _g.Polygon({\n    style: {\n      points: [[0, 0], [50, 50], [50, 100]]\n    }\n  }));\n  var pathE = new _g.Path({\n    style: {\n      path: path1,\n      stroke: '#F04864'\n    }\n  });\n  canvas.appendChild(pathE);\n  pathE.animate([{\n    path: path1\n  }, {\n    path: polygonPath\n  }], {\n    duration: 2500,\n    easing: 'ease',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  pathE.translate(0, 300);\n  var rectPath = (0, _g.convertToPath)(new _g.Rect({\n    style: {\n      width: 200,\n      height: 100,\n      transformOrigin: 'center'\n    }\n  }));\n  var pathF = new _g.Path({\n    style: {\n      path: rectPath,\n      stroke: '#F04864',\n      fill: '',\n      lineWidth: 10\n    }\n  });\n  canvas.appendChild(pathF);\n  pathF.animate([{\n    path: rectPath,\n    stroke: '#F04864',\n    fill: 'blue'\n  }, {\n    path: circlePath,\n    stroke: 'blue',\n    fill: '#F04864'\n  }], {\n    duration: 2500,\n    easing: 'ease',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  pathF.translate(200, 100);\n  var starPath = new _g.Path({\n    style: {\n      path: 'M301.113,12.011l99.25,179.996l201.864,38.778L461.706,380.808l25.508,203.958l-186.101-87.287L115.01,584.766l25.507-203.958L0,230.785l201.86-38.778L301.113,12.011'\n    }\n  });\n  starPath.scale(0.2);\n  var pathG = new _g.Path({\n    style: {\n      path: rectPath,\n      lineWidth: 2\n    }\n  });\n  canvas.appendChild(pathG);\n  pathG.animate([{\n    path: rectPath,\n    stroke: '#F04864',\n    fill: 'blue'\n  }, {\n    path: (0, _g.convertToPath)(starPath),\n    stroke: 'blue',\n    fill: '#F04864'\n  }], {\n    duration: 2500,\n    easing: 'ease',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  pathG.translate(300, 0); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"animation/demo/multiple-attributes.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/multiple-attributes.js","order":7,"filename":"multiple-attributes.js","title":{"zh":"可应用动画的属性","en":"Animatable attributes"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*dZ03S7gEjz8AAAAAAAAAAABkARQnAQ","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\n * ported from https://animista.net/play/entrances/scale-in\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst circle = new Circle({\n  style: {\n    x: 200,\n    y: 200,\n    r: 60,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    shadowColor: 'black',\n    shadowBlur: 30,\n  },\n});\n\ncanvas.appendChild(circle);\n\nconst animation = circle.animate(\n  [\n    {\n      transform: 'scale(1)',\n      fill: '#1890FF',\n      stroke: '#F04864',\n      opacity: 1,\n      shadowColor: 'black',\n      shadowBlur: 30,\n    },\n    {\n      transform: 'scale(2)',\n      fill: 'red',\n      stroke: '#1890FF',\n      opacity: 0.8,\n      shadowColor: 'red',\n      shadowBlur: 0,\n    },\n  ],\n  {\n    duration: 1500,\n    iterations: Infinity,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n  },\n);\n\n// get triggerred when animation finished\nanimation.onfinish = (e) => {\n  console.log('finish!', e.target, e.target.playState);\n};\nanimation.finished.then(() => {\n  console.log('finish promise resolved');\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n\nconst animationFolder = gui.addFolder('animation');\nconst animationConfig = {\n  play: () => {\n    animation.play();\n  },\n  pause: () => {\n    animation.pause();\n  },\n  reverse: () => {\n    animation.reverse();\n  },\n  finish: () => {\n    animation.finish();\n  },\n};\nanimationFolder.add(animationConfig, 'play').name('Play');\nanimationFolder.add(animationConfig, 'pause').name('Pause');\nanimationFolder.add(animationConfig, 'reverse').name('Reverse');\nanimationFolder.add(animationConfig, 'finish').name('Finish');\nanimationFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.multipleAttributes = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * ported from https://animista.net/play/entrances/scale-in\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var circle = new _g.Circle({\n    style: {\n      x: 200,\n      y: 200,\n      r: 60,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      shadowColor: 'black',\n      shadowBlur: 30\n    }\n  });\n  canvas.appendChild(circle);\n  var animation = circle.animate([{\n    transform: 'scale(1)',\n    fill: '#1890FF',\n    stroke: '#F04864',\n    opacity: 1,\n    shadowColor: 'black',\n    shadowBlur: 30\n  }, {\n    transform: 'scale(2)',\n    fill: 'red',\n    stroke: '#1890FF',\n    opacity: 0.8,\n    shadowColor: 'red',\n    shadowBlur: 0\n  }], {\n    duration: 1500,\n    iterations: Infinity,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)'\n  }); // get triggerred when animation finished\n\n  animation.onfinish = function (e) {\n    console.log('finish!', e.target, e.target.playState);\n  };\n\n  animation.finished.then(function () {\n    console.log('finish promise resolved');\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n  var animationFolder = gui.addFolder('animation');\n  var animationConfig = {\n    play: function play() {\n      animation.play();\n    },\n    pause: function pause() {\n      animation.pause();\n    },\n    reverse: function reverse() {\n      animation.reverse();\n    },\n    finish: function finish() {\n      animation.finish();\n    }\n  };\n  animationFolder.add(animationConfig, 'play').name('Play');\n  animationFolder.add(animationConfig, 'pause').name('Pause');\n  animationFolder.add(animationConfig, 'reverse').name('Reverse');\n  animationFolder.add(animationConfig, 'finish').name('Finish');\n  animationFolder.open();\n});"},{"relativePath":"animation/demo/sequence.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/sequence.js","order":2,"filename":"sequence.js","title":{"zh":"连续动画","en":"Sequence of animations"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*hafUTp9MrfYAAAAAAAAAAABkARQnAQ","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst circle = new Circle({\n  style: {\n    x: 200,\n    y: 200,\n    r: 60,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    shadowColor: 'black',\n    shadowBlur: 30,\n  },\n});\n\ncanvas.appendChild(circle);\n\n(async () => {\n  const moveRight = circle.animate(\n    [\n      {\n        transform: 'translate(0)',\n      },\n      {\n        transform: 'translate(100px)',\n      },\n    ],\n    {\n      duration: 1000,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n      fill: 'both',\n    },\n  );\n  await moveRight.finished;\n\n  const moveDown = circle.animate(\n    [\n      {\n        transform: 'translate(0)',\n      },\n      {\n        transform: 'translate(0, 100px)',\n      },\n    ],\n    {\n      duration: 1000,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n      fill: 'both',\n    },\n  );\n  await moveDown.finished;\n\n  const moveLeft = circle.animate(\n    [\n      {\n        transform: 'translate(0)',\n      },\n      {\n        transform: 'translate(-100px)',\n      },\n    ],\n    {\n      duration: 1000,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n      fill: 'both',\n    },\n  );\n  await moveLeft.finished;\n\n  const moveUp = circle.animate(\n    [\n      {\n        transform: 'translate(0)',\n      },\n      {\n        transform: 'translate(0, -100px)',\n      },\n    ],\n    {\n      duration: 1000,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n      fill: 'both',\n    },\n  );\n  await moveUp.finished;\n})();\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.sequence = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var circle = new _g.Circle({\n    style: {\n      x: 200,\n      y: 200,\n      r: 60,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      shadowColor: 'black',\n      shadowBlur: 30\n    }\n  });\n  canvas.appendChild(circle);\n\n  (async function () {\n    var moveRight = circle.animate([{\n      transform: 'translate(0)'\n    }, {\n      transform: 'translate(100px)'\n    }], {\n      duration: 1000,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n      fill: 'both'\n    });\n    await moveRight.finished;\n    var moveDown = circle.animate([{\n      transform: 'translate(0)'\n    }, {\n      transform: 'translate(0, 100px)'\n    }], {\n      duration: 1000,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n      fill: 'both'\n    });\n    await moveDown.finished;\n    var moveLeft = circle.animate([{\n      transform: 'translate(0)'\n    }, {\n      transform: 'translate(-100px)'\n    }], {\n      duration: 1000,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n      fill: 'both'\n    });\n    await moveLeft.finished;\n    var moveUp = circle.animate([{\n      transform: 'translate(0)'\n    }, {\n      transform: 'translate(0, -100px)'\n    }], {\n      duration: 1000,\n      easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n      fill: 'both'\n    });\n    await moveUp.finished;\n  })(); // stats\n\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas'\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.open();\n});"},{"relativePath":"3d/demo/buffer-geometry.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/3d/demo/buffer-geometry.js","order":7,"filename":"buffer-geometry.js","title":{"zh":"自定义 Geometry","en":"Use BufferGeometry"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport {\n  MeshBasicMaterial,\n  BufferGeometry,\n  Mesh,\n  VertexBufferFrequency,\n  Format,\n  VertexAttributeLocation,\n  Plugin as Plugin3D,\n} from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\nrenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n});\n\n(async () => {\n  // wait for canvas' initialization complete\n  await canvas.ready;\n\n  // use GPU device\n  const device = renderer.getDevice();\n\n  // create buffer geometry\n  const bufferGeometry = new BufferGeometry(device);\n  bufferGeometry.setVertexBuffer({\n    bufferIndex: 1,\n    byteStride: 4 * 3,\n    frequency: VertexBufferFrequency.PerVertex,\n    attributes: [\n      {\n        format: Format.F32_RGB,\n        bufferByteOffset: 4 * 0,\n        location: VertexAttributeLocation.MAX,\n      },\n    ],\n    // use 6 vertices\n    data: Float32Array.from([\n      -100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, -100.0, 100.0, 100.0, -100.0, 100.0, -100.0,\n      -100.0, 100.0, -100.0, 100.0, 100.0,\n    ]),\n  });\n  // draw 6 vertices\n  bufferGeometry.vertexCount = 6;\n  // start from...\n  // bufferGeometry.primitiveStart = 0;\n\n  const basicMaterial = new MeshBasicMaterial(device);\n\n  const mesh = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: bufferGeometry,\n      material: basicMaterial,\n    },\n  });\n  mesh.setPosition(300, 250, 0);\n  canvas.appendChild(mesh);\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n  });\n})();\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.stats);\n    global.bufferGeometry = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, _stats) {\n  \"use strict\";\n\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  // create a renderer\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin());\n  renderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer\n  });\n\n  (async function () {\n    // wait for canvas' initialization complete\n    await canvas.ready; // use GPU device\n\n    var device = renderer.getDevice(); // create buffer geometry\n\n    var bufferGeometry = new _gPlugin3d.BufferGeometry(device);\n    bufferGeometry.setVertexBuffer({\n      bufferIndex: 1,\n      byteStride: 4 * 3,\n      frequency: _gPlugin3d.VertexBufferFrequency.PerVertex,\n      attributes: [{\n        format: _gPlugin3d.Format.F32_RGB,\n        bufferByteOffset: 4 * 0,\n        location: _gPlugin3d.VertexAttributeLocation.MAX\n      }],\n      // use 6 vertices\n      data: Float32Array.from([-100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, -100.0, 100.0, 100.0, -100.0, 100.0, -100.0, -100.0, 100.0, -100.0, 100.0, 100.0])\n    }); // draw 6 vertices\n\n    bufferGeometry.vertexCount = 6; // start from...\n    // bufferGeometry.primitiveStart = 0;\n\n    var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device);\n    var mesh = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: bufferGeometry,\n        material: basicMaterial\n      }\n    });\n    mesh.setPosition(300, 250, 0);\n    canvas.appendChild(mesh); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      }\n    });\n  })();\n});"},{"relativePath":"3d/demo/cube.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/3d/demo/cube.js","order":2,"filename":"cube.js","title":{"zh":"立方体","en":"Cube"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport {\n  MeshBasicMaterial,\n  CubeGeometry,\n  Mesh,\n  Format,\n  TextureDimension,\n  TextureUsage,\n  Plugin as Plugin3D,\n} from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\nrenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n});\n\n(async () => {\n  // wait for canvas' initialization complete\n  await canvas.ready;\n\n  // use GPU device\n  const device = renderer.getDevice();\n\n  // 1. load texture with URL\n  const map = renderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ',\n  );\n\n  // 2. or create texture from scratch\n  // const map = device.createTexture({\n  //   pixelFormat: Format.U8_RGBA_NORM,\n  //   width: 1,\n  //   height: 1,\n  //   depth: 1,\n  //   numLevels: 1,\n  //   dimension: TextureDimension.n2D,\n  //   usage: TextureUsage.Sampled,\n  // });\n  // // load image\n  // const image = new window.Image();\n  // image.onload = () => {\n  //   map.setImageData(image);\n  //   canvas.getRenderingService().dirtify();\n  // };\n  // image.onerror = () => {};\n  // image.crossOrigin = 'Anonymous';\n  // image.src =\n  //   'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ';\n\n  const cubeGeometry = new CubeGeometry(device, {\n    width: 200,\n    height: 200,\n    depth: 200,\n  });\n  const basicMaterial = new MeshBasicMaterial(device, {\n    // wireframe: true,\n    map,\n  });\n\n  const cube = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: cubeGeometry,\n      material: basicMaterial,\n    },\n  });\n\n  cube.setPosition(300, 250, 0);\n\n  canvas.appendChild(cube);\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n    cube.rotate(0, 1, 0);\n  });\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n\n  const cubeFolder = gui.addFolder('cube');\n  const cubeConfig = {\n    opacity: 1,\n    fill: '#1890FF',\n  };\n  cubeFolder.add(cubeConfig, 'opacity', 0, 1, 0.1).onChange((opacity) => {\n    cube.style.opacity = opacity;\n  });\n  cubeFolder.addColor(cubeConfig, 'fill').onChange((color) => {\n    cube.style.fill = color;\n  });\n  cubeFolder.open();\n\n  const geometryFolder = gui.addFolder('geometry');\n  const geometryConfig = {\n    width: 200,\n    height: 200,\n    depth: 200,\n    widthSegments: 1,\n    heightSegments: 1,\n    depthSegments: 1,\n  };\n  geometryFolder.add(geometryConfig, 'width', 50, 300).onChange((width) => {\n    cubeGeometry.width = width;\n  });\n  geometryFolder.add(geometryConfig, 'height', 50, 300).onChange((height) => {\n    cubeGeometry.height = height;\n  });\n  geometryFolder.add(geometryConfig, 'depth', 50, 300).onChange((depth) => {\n    cubeGeometry.depth = depth;\n  });\n  geometryFolder.add(geometryConfig, 'widthSegments', 1, 10, 1).onChange((widthSegments) => {\n    cubeGeometry.widthSegments = widthSegments;\n  });\n  geometryFolder.add(geometryConfig, 'heightSegments', 1, 10, 1).onChange((heightSegments) => {\n    cubeGeometry.heightSegments = heightSegments;\n  });\n  geometryFolder.add(geometryConfig, 'depthSegments', 1, 10, 1).onChange((depthSegments) => {\n    cubeGeometry.depthSegments = depthSegments;\n  });\n  geometryFolder.open();\n\n  const materialFolder = gui.addFolder('material');\n  const materialConfig = {\n    wireframe: false,\n    map: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ',\n  };\n  materialFolder.add(materialConfig, 'wireframe').onChange((wireframe) => {\n    cube.style.material.wireframe = !!wireframe;\n  });\n  materialFolder\n    .add(materialConfig, 'map', [\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ',\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ',\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n      'none',\n    ])\n    .onChange((mapURL) => {\n      if (mapURL === 'none') {\n        cube.style.material.map = null;\n      } else {\n        cube.style.material.map = renderer.loadTexture(mapURL);\n      }\n    });\n  materialFolder.open();\n})();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.lilGui, global.stats);\n    global.cube = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin());\n  renderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer\n  });\n\n  (async function () {\n    // wait for canvas' initialization complete\n    await canvas.ready; // use GPU device\n\n    var device = renderer.getDevice(); // 1. load texture with URL\n\n    var map = renderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ'); // 2. or create texture from scratch\n    // const map = device.createTexture({\n    //   pixelFormat: Format.U8_RGBA_NORM,\n    //   width: 1,\n    //   height: 1,\n    //   depth: 1,\n    //   numLevels: 1,\n    //   dimension: TextureDimension.n2D,\n    //   usage: TextureUsage.Sampled,\n    // });\n    // // load image\n    // const image = new window.Image();\n    // image.onload = () => {\n    //   map.setImageData(image);\n    //   canvas.getRenderingService().dirtify();\n    // };\n    // image.onerror = () => {};\n    // image.crossOrigin = 'Anonymous';\n    // image.src =\n    //   'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ';\n\n    var cubeGeometry = new _gPlugin3d.CubeGeometry(device, {\n      width: 200,\n      height: 200,\n      depth: 200\n    });\n    var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device, {\n      // wireframe: true,\n      map: map\n    });\n    var cube = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: cubeGeometry,\n        material: basicMaterial\n      }\n    });\n    cube.setPosition(300, 250, 0);\n    canvas.appendChild(cube); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      }\n\n      cube.rotate(0, 1, 0);\n    }); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n    var cubeFolder = gui.addFolder('cube');\n    var cubeConfig = {\n      opacity: 1,\n      fill: '#1890FF'\n    };\n    cubeFolder.add(cubeConfig, 'opacity', 0, 1, 0.1).onChange(function (opacity) {\n      cube.style.opacity = opacity;\n    });\n    cubeFolder.addColor(cubeConfig, 'fill').onChange(function (color) {\n      cube.style.fill = color;\n    });\n    cubeFolder.open();\n    var geometryFolder = gui.addFolder('geometry');\n    var geometryConfig = {\n      width: 200,\n      height: 200,\n      depth: 200,\n      widthSegments: 1,\n      heightSegments: 1,\n      depthSegments: 1\n    };\n    geometryFolder.add(geometryConfig, 'width', 50, 300).onChange(function (width) {\n      cubeGeometry.width = width;\n    });\n    geometryFolder.add(geometryConfig, 'height', 50, 300).onChange(function (height) {\n      cubeGeometry.height = height;\n    });\n    geometryFolder.add(geometryConfig, 'depth', 50, 300).onChange(function (depth) {\n      cubeGeometry.depth = depth;\n    });\n    geometryFolder.add(geometryConfig, 'widthSegments', 1, 10, 1).onChange(function (widthSegments) {\n      cubeGeometry.widthSegments = widthSegments;\n    });\n    geometryFolder.add(geometryConfig, 'heightSegments', 1, 10, 1).onChange(function (heightSegments) {\n      cubeGeometry.heightSegments = heightSegments;\n    });\n    geometryFolder.add(geometryConfig, 'depthSegments', 1, 10, 1).onChange(function (depthSegments) {\n      cubeGeometry.depthSegments = depthSegments;\n    });\n    geometryFolder.open();\n    var materialFolder = gui.addFolder('material');\n    var materialConfig = {\n      wireframe: false,\n      map: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ'\n    };\n    materialFolder.add(materialConfig, 'wireframe').onChange(function (wireframe) {\n      cube.style.material.wireframe = !!wireframe;\n    });\n    materialFolder.add(materialConfig, 'map', ['https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*_aqoS73Se3sAAAAAAAAAAAAAARQnAQ', 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8TlCRIsKeUkAAAAAAAAAAAAAARQnAQ', 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ', 'none']).onChange(function (mapURL) {\n      if (mapURL === 'none') {\n        cube.style.material.map = null;\n      } else {\n        cube.style.material.map = renderer.loadTexture(mapURL);\n      }\n    });\n    materialFolder.open();\n  })();\n});"},{"relativePath":"animation/demo/offset-path.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/offset-path.js","order":3,"filename":"offset-path.js","title":{"zh":"路径动画","en":"Offset path"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*nk1YSrbkQPMAAAAAAAAAAAAAARQnAQ","source":"import { Circle, Line, Path, Polyline, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n/**\n * ported from https://animista.net/play/entrances/scale-in\n */\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst offsetPathLine = new Line({\n  style: {\n    x1: 100,\n    y1: 100,\n    x2: 300,\n    y2: 100,\n  },\n});\nconst offsetPathPolyline = new Polyline({\n  style: {\n    stroke: 'black',\n    points: [\n      [50, 50],\n      [100, 50],\n      [100, 100],\n      [150, 100],\n      [150, 150],\n      [200, 150],\n      [200, 200],\n      [250, 200],\n      [250, 250],\n      [300, 250],\n      [300, 300],\n      [350, 300],\n      [350, 350],\n      [400, 350],\n      [400, 400],\n      [450, 400],\n    ],\n  },\n});\n\nconst offsetPathPath = new Path({\n  style: {\n    path:\n      'M 100,300' +\n      'l 50,-25' +\n      'a25,25 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,50 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,75 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'a25,100 -30 0,1 50,-25' +\n      'l 50,-25' +\n      'l 0, 200,' +\n      'z',\n  },\n});\n\nconst circle1 = new Circle({\n  style: {\n    x: 200,\n    y: 200,\n    r: 60,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    offsetPath: offsetPathLine,\n  },\n});\nconst circle2 = new Circle({\n  style: {\n    x: 200,\n    y: 200,\n    r: 10,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    offsetPath: offsetPathPolyline,\n  },\n});\nconst circle3 = new Circle({\n  style: {\n    x: 200,\n    y: 300,\n    r: 60,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n    offsetPath: offsetPathPath,\n  },\n});\n\ncanvas.appendChild(offsetPathPolyline);\ncanvas.appendChild(circle1);\ncanvas.appendChild(circle2);\ncanvas.appendChild(circle3);\n\ncircle1.animate([{ offsetDistance: 0 }, { offsetDistance: 1 }], {\n  duration: 2500,\n  easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n  iterations: Infinity,\n  direction: 'alternate',\n});\nconst animation = circle2.animate([{ offsetDistance: 0 }, { offsetDistance: 1 }], {\n  duration: 3500,\n  easing: 'linear',\n  iterations: Infinity,\n  direction: 'alternate',\n});\n\ncircle3.animate([{ offsetDistance: 0 }, { offsetDistance: 1 }], {\n  duration: 4500,\n  easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n  iterations: Infinity,\n  direction: 'alternate',\n});\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n  currentTime: 0,\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.add(rendererConfig, 'currentTime', 0, 3500).onChange((currentTime) => {\n  animation.currentTime = currentTime;\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.offsetPath = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * ported from https://animista.net/play/entrances/scale-in\n   */\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var offsetPathLine = new _g.Line({\n    style: {\n      x1: 100,\n      y1: 100,\n      x2: 300,\n      y2: 100\n    }\n  });\n  var offsetPathPolyline = new _g.Polyline({\n    style: {\n      stroke: 'black',\n      points: [[50, 50], [100, 50], [100, 100], [150, 100], [150, 150], [200, 150], [200, 200], [250, 200], [250, 250], [300, 250], [300, 300], [350, 300], [350, 350], [400, 350], [400, 400], [450, 400]]\n    }\n  });\n  var offsetPathPath = new _g.Path({\n    style: {\n      path: 'M 100,300' + 'l 50,-25' + 'a25,25 -30 0,1 50,-25' + 'l 50,-25' + 'a25,50 -30 0,1 50,-25' + 'l 50,-25' + 'a25,75 -30 0,1 50,-25' + 'l 50,-25' + 'a25,100 -30 0,1 50,-25' + 'l 50,-25' + 'l 0, 200,' + 'z'\n    }\n  });\n  var circle1 = new _g.Circle({\n    style: {\n      x: 200,\n      y: 200,\n      r: 60,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      offsetPath: offsetPathLine\n    }\n  });\n  var circle2 = new _g.Circle({\n    style: {\n      x: 200,\n      y: 200,\n      r: 10,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      offsetPath: offsetPathPolyline\n    }\n  });\n  var circle3 = new _g.Circle({\n    style: {\n      x: 200,\n      y: 300,\n      r: 60,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4,\n      offsetPath: offsetPathPath\n    }\n  });\n  canvas.appendChild(offsetPathPolyline);\n  canvas.appendChild(circle1);\n  canvas.appendChild(circle2);\n  canvas.appendChild(circle3);\n  circle1.animate([{\n    offsetDistance: 0\n  }, {\n    offsetDistance: 1\n  }], {\n    duration: 2500,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  var animation = circle2.animate([{\n    offsetDistance: 0\n  }, {\n    offsetDistance: 1\n  }], {\n    duration: 3500,\n    easing: 'linear',\n    iterations: Infinity,\n    direction: 'alternate'\n  });\n  circle3.animate([{\n    offsetDistance: 0\n  }, {\n    offsetDistance: 1\n  }], {\n    duration: 4500,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    iterations: Infinity,\n    direction: 'alternate'\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas',\n    currentTime: 0\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.add(rendererConfig, 'currentTime', 0, 3500).onChange(function (currentTime) {\n    animation.currentTime = currentTime;\n  });\n  rendererFolder.open();\n});"},{"relativePath":"animation/demo/current-time.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/animation/demo/current-time.js","order":-1,"filename":"current-time.js","source":"import { Circle, Canvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Renderer as SVGRenderer } from '@antv/g-svg';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst canvasRenderer = new CanvasRenderer();\nconst webglRenderer = new WebGLRenderer();\nconst svgRenderer = new SVGRenderer();\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer: canvasRenderer,\n});\n\nconst circle = new Circle({\n  style: {\n    x: 200,\n    y: 200,\n    r: 60,\n    fill: '#1890FF',\n    stroke: '#F04864',\n    lineWidth: 4,\n  },\n});\n\ncanvas.appendChild(circle);\n\nconst animation = circle.animate(\n  [{ transform: 'translateX(0)' }, { transform: 'translateX(200px)' }],\n  {\n    duration: 2500,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    iterations: Infinity,\n    direction: 'alternate',\n  },\n);\n\n// stats\nconst stats = new Stats();\nstats.showPanel(0);\nconst $stats = stats.dom;\n$stats.style.position = 'absolute';\n$stats.style.left = '0px';\n$stats.style.top = '0px';\nconst $wrapper = document.getElementById('container');\n$wrapper.appendChild($stats);\ncanvas.on('afterrender', () => {\n  if (stats) {\n    stats.update();\n  }\n});\n\n// GUI\nconst gui = new lil.GUI({ autoPlace: false });\n$wrapper.appendChild(gui.domElement);\nconst rendererFolder = gui.addFolder('renderer');\nconst rendererConfig = {\n  renderer: 'canvas',\n  currentTime: 0,\n};\nrendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange((renderer) => {\n  canvas.setRenderer(\n    renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer,\n  );\n});\nrendererFolder.add(rendererConfig, 'currentTime', 0, 2500).onChange((currentTime) => {\n  animation.currentTime = currentTime;\n});\nrendererFolder.open();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-canvas\", \"@antv/g-webgl\", \"@antv/g-svg\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-canvas\"), require(\"@antv/g-webgl\"), require(\"@antv/g-svg\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gCanvas, global.gWebgl, global.gSvg, global.lilGui, global.stats);\n    global.currentTime = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gCanvas, _gWebgl, _gSvg, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var canvasRenderer = new _gCanvas.Renderer();\n  var webglRenderer = new _gWebgl.Renderer();\n  var svgRenderer = new _gSvg.Renderer(); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: canvasRenderer\n  });\n  var circle = new _g.Circle({\n    style: {\n      x: 200,\n      y: 200,\n      r: 60,\n      fill: '#1890FF',\n      stroke: '#F04864',\n      lineWidth: 4\n    }\n  });\n  canvas.appendChild(circle);\n  var animation = circle.animate([{\n    transform: 'translateX(0)'\n  }, {\n    transform: 'translateX(200px)'\n  }], {\n    duration: 2500,\n    easing: 'cubic-bezier(0.250, 0.460, 0.450, 0.940)',\n    iterations: Infinity,\n    direction: 'alternate'\n  }); // stats\n\n  var stats = new _stats.default();\n  stats.showPanel(0);\n  var $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  var $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.on('afterrender', function () {\n    if (stats) {\n      stats.update();\n    }\n  }); // GUI\n\n  var gui = new lil.GUI({\n    autoPlace: false\n  });\n  $wrapper.appendChild(gui.domElement);\n  var rendererFolder = gui.addFolder('renderer');\n  var rendererConfig = {\n    renderer: 'canvas',\n    currentTime: 0\n  };\n  rendererFolder.add(rendererConfig, 'renderer', ['canvas', 'webgl', 'svg']).onChange(function (renderer) {\n    canvas.setRenderer(renderer === 'canvas' ? canvasRenderer : renderer === 'webgl' ? webglRenderer : svgRenderer);\n  });\n  rendererFolder.add(rendererConfig, 'currentTime', 0, 2500).onChange(function (currentTime) {\n    animation.currentTime = currentTime;\n  });\n  rendererFolder.open();\n});"},{"relativePath":"3d/demo/force-3d.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/3d/demo/force-3d.js","order":5,"filename":"force-3d.js","title":{"zh":"3D 力导布局","en":"Force 3D"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*3XFxQKWOeKoAAAAAAAAAAAAAARQnAQ","source":"import { Canvas, CanvasEvent, Line } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport {\n  MeshPhongMaterial,\n  SphereGeometry,\n  DirectionalLight,\n  Mesh,\n  FogType,\n  Plugin as Plugin3D,\n} from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\nimport { forceLink, forceSimulation, forceManyBody, forceCenter } from 'd3-force-3d';\n\n// https://bl.ocks.org/vasturiano/f59675656258d3f490e9faa40828c0e7\nconst dataset = {\n  nodes: [\n    {\n      id: 'Myriel',\n      group: 1,\n    },\n    {\n      id: 'Napoleon',\n      group: 1,\n    },\n    {\n      id: 'Mlle.Baptistine',\n      group: 1,\n    },\n    {\n      id: 'Mme.Magloire',\n      group: 1,\n    },\n    {\n      id: 'CountessdeLo',\n      group: 1,\n    },\n    {\n      id: 'Geborand',\n      group: 1,\n    },\n    {\n      id: 'Champtercier',\n      group: 1,\n    },\n    {\n      id: 'Cravatte',\n      group: 1,\n    },\n    {\n      id: 'Count',\n      group: 1,\n    },\n    {\n      id: 'OldMan',\n      group: 1,\n    },\n    {\n      id: 'Labarre',\n      group: 2,\n    },\n    {\n      id: 'Valjean',\n      group: 2,\n    },\n    {\n      id: 'Marguerite',\n      group: 3,\n    },\n    {\n      id: 'Mme.deR',\n      group: 2,\n    },\n    {\n      id: 'Isabeau',\n      group: 2,\n    },\n    {\n      id: 'Gervais',\n      group: 2,\n    },\n    {\n      id: 'Tholomyes',\n      group: 3,\n    },\n    {\n      id: 'Listolier',\n      group: 3,\n    },\n    {\n      id: 'Fameuil',\n      group: 3,\n    },\n    {\n      id: 'Blacheville',\n      group: 3,\n    },\n    {\n      id: 'Favourite',\n      group: 3,\n    },\n    {\n      id: 'Dahlia',\n      group: 3,\n    },\n    {\n      id: 'Zephine',\n      group: 3,\n    },\n    {\n      id: 'Fantine',\n      group: 3,\n    },\n    {\n      id: 'Mme.Thenardier',\n      group: 4,\n    },\n    {\n      id: 'Thenardier',\n      group: 4,\n    },\n    {\n      id: 'Cosette',\n      group: 5,\n    },\n    {\n      id: 'Javert',\n      group: 4,\n    },\n    {\n      id: 'Fauchelevent',\n      group: 0,\n    },\n    {\n      id: 'Bamatabois',\n      group: 2,\n    },\n    {\n      id: 'Perpetue',\n      group: 3,\n    },\n    {\n      id: 'Simplice',\n      group: 2,\n    },\n    {\n      id: 'Scaufflaire',\n      group: 2,\n    },\n    {\n      id: 'Woman1',\n      group: 2,\n    },\n    {\n      id: 'Judge',\n      group: 2,\n    },\n    {\n      id: 'Champmathieu',\n      group: 2,\n    },\n    {\n      id: 'Brevet',\n      group: 2,\n    },\n    {\n      id: 'Chenildieu',\n      group: 2,\n    },\n    {\n      id: 'Cochepaille',\n      group: 2,\n    },\n    {\n      id: 'Pontmercy',\n      group: 4,\n    },\n    {\n      id: 'Boulatruelle',\n      group: 6,\n    },\n    {\n      id: 'Eponine',\n      group: 4,\n    },\n    {\n      id: 'Anzelma',\n      group: 4,\n    },\n    {\n      id: 'Woman2',\n      group: 5,\n    },\n    {\n      id: 'MotherInnocent',\n      group: 0,\n    },\n    {\n      id: 'Gribier',\n      group: 0,\n    },\n    {\n      id: 'Jondrette',\n      group: 7,\n    },\n    {\n      id: 'Mme.Burgon',\n      group: 7,\n    },\n    {\n      id: 'Gavroche',\n      group: 8,\n    },\n    {\n      id: 'Gillenormand',\n      group: 5,\n    },\n    {\n      id: 'Magnon',\n      group: 5,\n    },\n    {\n      id: 'Mlle.Gillenormand',\n      group: 5,\n    },\n    {\n      id: 'Mme.Pontmercy',\n      group: 5,\n    },\n    {\n      id: 'Mlle.Vaubois',\n      group: 5,\n    },\n    {\n      id: 'Lt.Gillenormand',\n      group: 5,\n    },\n    {\n      id: 'Marius',\n      group: 8,\n    },\n    {\n      id: 'BaronessT',\n      group: 5,\n    },\n    {\n      id: 'Mabeuf',\n      group: 8,\n    },\n    {\n      id: 'Enjolras',\n      group: 8,\n    },\n    {\n      id: 'Combeferre',\n      group: 8,\n    },\n    {\n      id: 'Prouvaire',\n      group: 8,\n    },\n    {\n      id: 'Feuilly',\n      group: 8,\n    },\n    {\n      id: 'Courfeyrac',\n      group: 8,\n    },\n    {\n      id: 'Bahorel',\n      group: 8,\n    },\n    {\n      id: 'Bossuet',\n      group: 8,\n    },\n    {\n      id: 'Joly',\n      group: 8,\n    },\n    {\n      id: 'Grantaire',\n      group: 8,\n    },\n    {\n      id: 'MotherPlutarch',\n      group: 9,\n    },\n    {\n      id: 'Gueulemer',\n      group: 4,\n    },\n    {\n      id: 'Babet',\n      group: 4,\n    },\n    {\n      id: 'Claquesous',\n      group: 4,\n    },\n    {\n      id: 'Montparnasse',\n      group: 4,\n    },\n    {\n      id: 'Toussaint',\n      group: 5,\n    },\n    {\n      id: 'Child1',\n      group: 10,\n    },\n    {\n      id: 'Child2',\n      group: 10,\n    },\n    {\n      id: 'Brujon',\n      group: 4,\n    },\n    {\n      id: 'Mme.Hucheloup',\n      group: 8,\n    },\n  ],\n  links: [\n    {\n      source: 'Napoleon',\n      target: 'Myriel',\n      value: 1,\n    },\n    {\n      source: 'Mlle.Baptistine',\n      target: 'Myriel',\n      value: 8,\n    },\n    {\n      source: 'Mme.Magloire',\n      target: 'Myriel',\n      value: 10,\n    },\n    {\n      source: 'Mme.Magloire',\n      target: 'Mlle.Baptistine',\n      value: 6,\n    },\n    {\n      source: 'CountessdeLo',\n      target: 'Myriel',\n      value: 1,\n    },\n    {\n      source: 'Geborand',\n      target: 'Myriel',\n      value: 1,\n    },\n    {\n      source: 'Champtercier',\n      target: 'Myriel',\n      value: 1,\n    },\n    {\n      source: 'Cravatte',\n      target: 'Myriel',\n      value: 1,\n    },\n    {\n      source: 'Count',\n      target: 'Myriel',\n      value: 2,\n    },\n    {\n      source: 'OldMan',\n      target: 'Myriel',\n      value: 1,\n    },\n    {\n      source: 'Valjean',\n      target: 'Labarre',\n      value: 1,\n    },\n    {\n      source: 'Valjean',\n      target: 'Mme.Magloire',\n      value: 3,\n    },\n    {\n      source: 'Valjean',\n      target: 'Mlle.Baptistine',\n      value: 3,\n    },\n    {\n      source: 'Valjean',\n      target: 'Myriel',\n      value: 5,\n    },\n    {\n      source: 'Marguerite',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Mme.deR',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Isabeau',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Gervais',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Listolier',\n      target: 'Tholomyes',\n      value: 4,\n    },\n    {\n      source: 'Fameuil',\n      target: 'Tholomyes',\n      value: 4,\n    },\n    {\n      source: 'Fameuil',\n      target: 'Listolier',\n      value: 4,\n    },\n    {\n      source: 'Blacheville',\n      target: 'Tholomyes',\n      value: 4,\n    },\n    {\n      source: 'Blacheville',\n      target: 'Listolier',\n      value: 4,\n    },\n    {\n      source: 'Blacheville',\n      target: 'Fameuil',\n      value: 4,\n    },\n    {\n      source: 'Favourite',\n      target: 'Tholomyes',\n      value: 3,\n    },\n    {\n      source: 'Favourite',\n      target: 'Listolier',\n      value: 3,\n    },\n    {\n      source: 'Favourite',\n      target: 'Fameuil',\n      value: 3,\n    },\n    {\n      source: 'Favourite',\n      target: 'Blacheville',\n      value: 4,\n    },\n    {\n      source: 'Dahlia',\n      target: 'Tholomyes',\n      value: 3,\n    },\n    {\n      source: 'Dahlia',\n      target: 'Listolier',\n      value: 3,\n    },\n    {\n      source: 'Dahlia',\n      target: 'Fameuil',\n      value: 3,\n    },\n    {\n      source: 'Dahlia',\n      target: 'Blacheville',\n      value: 3,\n    },\n    {\n      source: 'Dahlia',\n      target: 'Favourite',\n      value: 5,\n    },\n    {\n      source: 'Zephine',\n      target: 'Tholomyes',\n      value: 3,\n    },\n    {\n      source: 'Zephine',\n      target: 'Listolier',\n      value: 3,\n    },\n    {\n      source: 'Zephine',\n      target: 'Fameuil',\n      value: 3,\n    },\n    {\n      source: 'Zephine',\n      target: 'Blacheville',\n      value: 3,\n    },\n    {\n      source: 'Zephine',\n      target: 'Favourite',\n      value: 4,\n    },\n    {\n      source: 'Zephine',\n      target: 'Dahlia',\n      value: 4,\n    },\n    {\n      source: 'Fantine',\n      target: 'Tholomyes',\n      value: 3,\n    },\n    {\n      source: 'Fantine',\n      target: 'Listolier',\n      value: 3,\n    },\n    {\n      source: 'Fantine',\n      target: 'Fameuil',\n      value: 3,\n    },\n    {\n      source: 'Fantine',\n      target: 'Blacheville',\n      value: 3,\n    },\n    {\n      source: 'Fantine',\n      target: 'Favourite',\n      value: 4,\n    },\n    {\n      source: 'Fantine',\n      target: 'Dahlia',\n      value: 4,\n    },\n    {\n      source: 'Fantine',\n      target: 'Zephine',\n      value: 4,\n    },\n    {\n      source: 'Fantine',\n      target: 'Marguerite',\n      value: 2,\n    },\n    {\n      source: 'Fantine',\n      target: 'Valjean',\n      value: 9,\n    },\n    {\n      source: 'Mme.Thenardier',\n      target: 'Fantine',\n      value: 2,\n    },\n    {\n      source: 'Mme.Thenardier',\n      target: 'Valjean',\n      value: 7,\n    },\n    {\n      source: 'Thenardier',\n      target: 'Mme.Thenardier',\n      value: 13,\n    },\n    {\n      source: 'Thenardier',\n      target: 'Fantine',\n      value: 1,\n    },\n    {\n      source: 'Thenardier',\n      target: 'Valjean',\n      value: 12,\n    },\n    {\n      source: 'Cosette',\n      target: 'Mme.Thenardier',\n      value: 4,\n    },\n    {\n      source: 'Cosette',\n      target: 'Valjean',\n      value: 31,\n    },\n    {\n      source: 'Cosette',\n      target: 'Tholomyes',\n      value: 1,\n    },\n    {\n      source: 'Cosette',\n      target: 'Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Javert',\n      target: 'Valjean',\n      value: 17,\n    },\n    {\n      source: 'Javert',\n      target: 'Fantine',\n      value: 5,\n    },\n    {\n      source: 'Javert',\n      target: 'Thenardier',\n      value: 5,\n    },\n    {\n      source: 'Javert',\n      target: 'Mme.Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Javert',\n      target: 'Cosette',\n      value: 1,\n    },\n    {\n      source: 'Fauchelevent',\n      target: 'Valjean',\n      value: 8,\n    },\n    {\n      source: 'Fauchelevent',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'Bamatabois',\n      target: 'Fantine',\n      value: 1,\n    },\n    {\n      source: 'Bamatabois',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'Bamatabois',\n      target: 'Valjean',\n      value: 2,\n    },\n    {\n      source: 'Perpetue',\n      target: 'Fantine',\n      value: 1,\n    },\n    {\n      source: 'Simplice',\n      target: 'Perpetue',\n      value: 2,\n    },\n    {\n      source: 'Simplice',\n      target: 'Valjean',\n      value: 3,\n    },\n    {\n      source: 'Simplice',\n      target: 'Fantine',\n      value: 2,\n    },\n    {\n      source: 'Simplice',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'Scaufflaire',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Woman1',\n      target: 'Valjean',\n      value: 2,\n    },\n    {\n      source: 'Woman1',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'Judge',\n      target: 'Valjean',\n      value: 3,\n    },\n    {\n      source: 'Judge',\n      target: 'Bamatabois',\n      value: 2,\n    },\n    {\n      source: 'Champmathieu',\n      target: 'Valjean',\n      value: 3,\n    },\n    {\n      source: 'Champmathieu',\n      target: 'Judge',\n      value: 3,\n    },\n    {\n      source: 'Champmathieu',\n      target: 'Bamatabois',\n      value: 2,\n    },\n    {\n      source: 'Brevet',\n      target: 'Judge',\n      value: 2,\n    },\n    {\n      source: 'Brevet',\n      target: 'Champmathieu',\n      value: 2,\n    },\n    {\n      source: 'Brevet',\n      target: 'Valjean',\n      value: 2,\n    },\n    {\n      source: 'Brevet',\n      target: 'Bamatabois',\n      value: 1,\n    },\n    {\n      source: 'Chenildieu',\n      target: 'Judge',\n      value: 2,\n    },\n    {\n      source: 'Chenildieu',\n      target: 'Champmathieu',\n      value: 2,\n    },\n    {\n      source: 'Chenildieu',\n      target: 'Brevet',\n      value: 2,\n    },\n    {\n      source: 'Chenildieu',\n      target: 'Valjean',\n      value: 2,\n    },\n    {\n      source: 'Chenildieu',\n      target: 'Bamatabois',\n      value: 1,\n    },\n    {\n      source: 'Cochepaille',\n      target: 'Judge',\n      value: 2,\n    },\n    {\n      source: 'Cochepaille',\n      target: 'Champmathieu',\n      value: 2,\n    },\n    {\n      source: 'Cochepaille',\n      target: 'Brevet',\n      value: 2,\n    },\n    {\n      source: 'Cochepaille',\n      target: 'Chenildieu',\n      value: 2,\n    },\n    {\n      source: 'Cochepaille',\n      target: 'Valjean',\n      value: 2,\n    },\n    {\n      source: 'Cochepaille',\n      target: 'Bamatabois',\n      value: 1,\n    },\n    {\n      source: 'Pontmercy',\n      target: 'Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Boulatruelle',\n      target: 'Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Eponine',\n      target: 'Mme.Thenardier',\n      value: 2,\n    },\n    {\n      source: 'Eponine',\n      target: 'Thenardier',\n      value: 3,\n    },\n    {\n      source: 'Anzelma',\n      target: 'Eponine',\n      value: 2,\n    },\n    {\n      source: 'Anzelma',\n      target: 'Thenardier',\n      value: 2,\n    },\n    {\n      source: 'Anzelma',\n      target: 'Mme.Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Woman2',\n      target: 'Valjean',\n      value: 3,\n    },\n    {\n      source: 'Woman2',\n      target: 'Cosette',\n      value: 1,\n    },\n    {\n      source: 'Woman2',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'MotherInnocent',\n      target: 'Fauchelevent',\n      value: 3,\n    },\n    {\n      source: 'MotherInnocent',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Gribier',\n      target: 'Fauchelevent',\n      value: 2,\n    },\n    {\n      source: 'Mme.Burgon',\n      target: 'Jondrette',\n      value: 1,\n    },\n    {\n      source: 'Gavroche',\n      target: 'Mme.Burgon',\n      value: 2,\n    },\n    {\n      source: 'Gavroche',\n      target: 'Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Gavroche',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'Gavroche',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Gillenormand',\n      target: 'Cosette',\n      value: 3,\n    },\n    {\n      source: 'Gillenormand',\n      target: 'Valjean',\n      value: 2,\n    },\n    {\n      source: 'Magnon',\n      target: 'Gillenormand',\n      value: 1,\n    },\n    {\n      source: 'Magnon',\n      target: 'Mme.Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Mlle.Gillenormand',\n      target: 'Gillenormand',\n      value: 9,\n    },\n    {\n      source: 'Mlle.Gillenormand',\n      target: 'Cosette',\n      value: 2,\n    },\n    {\n      source: 'Mlle.Gillenormand',\n      target: 'Valjean',\n      value: 2,\n    },\n    {\n      source: 'Mme.Pontmercy',\n      target: 'Mlle.Gillenormand',\n      value: 1,\n    },\n    {\n      source: 'Mme.Pontmercy',\n      target: 'Pontmercy',\n      value: 1,\n    },\n    {\n      source: 'Mlle.Vaubois',\n      target: 'Mlle.Gillenormand',\n      value: 1,\n    },\n    {\n      source: 'Lt.Gillenormand',\n      target: 'Mlle.Gillenormand',\n      value: 2,\n    },\n    {\n      source: 'Lt.Gillenormand',\n      target: 'Gillenormand',\n      value: 1,\n    },\n    {\n      source: 'Lt.Gillenormand',\n      target: 'Cosette',\n      value: 1,\n    },\n    {\n      source: 'Marius',\n      target: 'Mlle.Gillenormand',\n      value: 6,\n    },\n    {\n      source: 'Marius',\n      target: 'Gillenormand',\n      value: 12,\n    },\n    {\n      source: 'Marius',\n      target: 'Pontmercy',\n      value: 1,\n    },\n    {\n      source: 'Marius',\n      target: 'Lt.Gillenormand',\n      value: 1,\n    },\n    {\n      source: 'Marius',\n      target: 'Cosette',\n      value: 21,\n    },\n    {\n      source: 'Marius',\n      target: 'Valjean',\n      value: 19,\n    },\n    {\n      source: 'Marius',\n      target: 'Tholomyes',\n      value: 1,\n    },\n    {\n      source: 'Marius',\n      target: 'Thenardier',\n      value: 2,\n    },\n    {\n      source: 'Marius',\n      target: 'Eponine',\n      value: 5,\n    },\n    {\n      source: 'Marius',\n      target: 'Gavroche',\n      value: 4,\n    },\n    {\n      source: 'BaronessT',\n      target: 'Gillenormand',\n      value: 1,\n    },\n    {\n      source: 'BaronessT',\n      target: 'Marius',\n      value: 1,\n    },\n    {\n      source: 'Mabeuf',\n      target: 'Marius',\n      value: 1,\n    },\n    {\n      source: 'Mabeuf',\n      target: 'Eponine',\n      value: 1,\n    },\n    {\n      source: 'Mabeuf',\n      target: 'Gavroche',\n      value: 1,\n    },\n    {\n      source: 'Enjolras',\n      target: 'Marius',\n      value: 7,\n    },\n    {\n      source: 'Enjolras',\n      target: 'Gavroche',\n      value: 7,\n    },\n    {\n      source: 'Enjolras',\n      target: 'Javert',\n      value: 6,\n    },\n    {\n      source: 'Enjolras',\n      target: 'Mabeuf',\n      value: 1,\n    },\n    {\n      source: 'Enjolras',\n      target: 'Valjean',\n      value: 4,\n    },\n    {\n      source: 'Combeferre',\n      target: 'Enjolras',\n      value: 15,\n    },\n    {\n      source: 'Combeferre',\n      target: 'Marius',\n      value: 5,\n    },\n    {\n      source: 'Combeferre',\n      target: 'Gavroche',\n      value: 6,\n    },\n    {\n      source: 'Combeferre',\n      target: 'Mabeuf',\n      value: 2,\n    },\n    {\n      source: 'Prouvaire',\n      target: 'Gavroche',\n      value: 1,\n    },\n    {\n      source: 'Prouvaire',\n      target: 'Enjolras',\n      value: 4,\n    },\n    {\n      source: 'Prouvaire',\n      target: 'Combeferre',\n      value: 2,\n    },\n    {\n      source: 'Feuilly',\n      target: 'Gavroche',\n      value: 2,\n    },\n    {\n      source: 'Feuilly',\n      target: 'Enjolras',\n      value: 6,\n    },\n    {\n      source: 'Feuilly',\n      target: 'Prouvaire',\n      value: 2,\n    },\n    {\n      source: 'Feuilly',\n      target: 'Combeferre',\n      value: 5,\n    },\n    {\n      source: 'Feuilly',\n      target: 'Mabeuf',\n      value: 1,\n    },\n    {\n      source: 'Feuilly',\n      target: 'Marius',\n      value: 1,\n    },\n    {\n      source: 'Courfeyrac',\n      target: 'Marius',\n      value: 9,\n    },\n    {\n      source: 'Courfeyrac',\n      target: 'Enjolras',\n      value: 17,\n    },\n    {\n      source: 'Courfeyrac',\n      target: 'Combeferre',\n      value: 13,\n    },\n    {\n      source: 'Courfeyrac',\n      target: 'Gavroche',\n      value: 7,\n    },\n    {\n      source: 'Courfeyrac',\n      target: 'Mabeuf',\n      value: 2,\n    },\n    {\n      source: 'Courfeyrac',\n      target: 'Eponine',\n      value: 1,\n    },\n    {\n      source: 'Courfeyrac',\n      target: 'Feuilly',\n      value: 6,\n    },\n    {\n      source: 'Courfeyrac',\n      target: 'Prouvaire',\n      value: 3,\n    },\n    {\n      source: 'Bahorel',\n      target: 'Combeferre',\n      value: 5,\n    },\n    {\n      source: 'Bahorel',\n      target: 'Gavroche',\n      value: 5,\n    },\n    {\n      source: 'Bahorel',\n      target: 'Courfeyrac',\n      value: 6,\n    },\n    {\n      source: 'Bahorel',\n      target: 'Mabeuf',\n      value: 2,\n    },\n    {\n      source: 'Bahorel',\n      target: 'Enjolras',\n      value: 4,\n    },\n    {\n      source: 'Bahorel',\n      target: 'Feuilly',\n      value: 3,\n    },\n    {\n      source: 'Bahorel',\n      target: 'Prouvaire',\n      value: 2,\n    },\n    {\n      source: 'Bahorel',\n      target: 'Marius',\n      value: 1,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Marius',\n      value: 5,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Courfeyrac',\n      value: 12,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Gavroche',\n      value: 5,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Bahorel',\n      value: 4,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Enjolras',\n      value: 10,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Feuilly',\n      value: 6,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Prouvaire',\n      value: 2,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Combeferre',\n      value: 9,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Mabeuf',\n      value: 1,\n    },\n    {\n      source: 'Bossuet',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Joly',\n      target: 'Bahorel',\n      value: 5,\n    },\n    {\n      source: 'Joly',\n      target: 'Bossuet',\n      value: 7,\n    },\n    {\n      source: 'Joly',\n      target: 'Gavroche',\n      value: 3,\n    },\n    {\n      source: 'Joly',\n      target: 'Courfeyrac',\n      value: 5,\n    },\n    {\n      source: 'Joly',\n      target: 'Enjolras',\n      value: 5,\n    },\n    {\n      source: 'Joly',\n      target: 'Feuilly',\n      value: 5,\n    },\n    {\n      source: 'Joly',\n      target: 'Prouvaire',\n      value: 2,\n    },\n    {\n      source: 'Joly',\n      target: 'Combeferre',\n      value: 5,\n    },\n    {\n      source: 'Joly',\n      target: 'Mabeuf',\n      value: 1,\n    },\n    {\n      source: 'Joly',\n      target: 'Marius',\n      value: 2,\n    },\n    {\n      source: 'Grantaire',\n      target: 'Bossuet',\n      value: 3,\n    },\n    {\n      source: 'Grantaire',\n      target: 'Enjolras',\n      value: 3,\n    },\n    {\n      source: 'Grantaire',\n      target: 'Combeferre',\n      value: 1,\n    },\n    {\n      source: 'Grantaire',\n      target: 'Courfeyrac',\n      value: 2,\n    },\n    {\n      source: 'Grantaire',\n      target: 'Joly',\n      value: 2,\n    },\n    {\n      source: 'Grantaire',\n      target: 'Gavroche',\n      value: 1,\n    },\n    {\n      source: 'Grantaire',\n      target: 'Bahorel',\n      value: 1,\n    },\n    {\n      source: 'Grantaire',\n      target: 'Feuilly',\n      value: 1,\n    },\n    {\n      source: 'Grantaire',\n      target: 'Prouvaire',\n      value: 1,\n    },\n    {\n      source: 'MotherPlutarch',\n      target: 'Mabeuf',\n      value: 3,\n    },\n    {\n      source: 'Gueulemer',\n      target: 'Thenardier',\n      value: 5,\n    },\n    {\n      source: 'Gueulemer',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Gueulemer',\n      target: 'Mme.Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Gueulemer',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'Gueulemer',\n      target: 'Gavroche',\n      value: 1,\n    },\n    {\n      source: 'Gueulemer',\n      target: 'Eponine',\n      value: 1,\n    },\n    {\n      source: 'Babet',\n      target: 'Thenardier',\n      value: 6,\n    },\n    {\n      source: 'Babet',\n      target: 'Gueulemer',\n      value: 6,\n    },\n    {\n      source: 'Babet',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Babet',\n      target: 'Mme.Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Babet',\n      target: 'Javert',\n      value: 2,\n    },\n    {\n      source: 'Babet',\n      target: 'Gavroche',\n      value: 1,\n    },\n    {\n      source: 'Babet',\n      target: 'Eponine',\n      value: 1,\n    },\n    {\n      source: 'Claquesous',\n      target: 'Thenardier',\n      value: 4,\n    },\n    {\n      source: 'Claquesous',\n      target: 'Babet',\n      value: 4,\n    },\n    {\n      source: 'Claquesous',\n      target: 'Gueulemer',\n      value: 4,\n    },\n    {\n      source: 'Claquesous',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Claquesous',\n      target: 'Mme.Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Claquesous',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'Claquesous',\n      target: 'Eponine',\n      value: 1,\n    },\n    {\n      source: 'Claquesous',\n      target: 'Enjolras',\n      value: 1,\n    },\n    {\n      source: 'Montparnasse',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'Montparnasse',\n      target: 'Babet',\n      value: 2,\n    },\n    {\n      source: 'Montparnasse',\n      target: 'Gueulemer',\n      value: 2,\n    },\n    {\n      source: 'Montparnasse',\n      target: 'Claquesous',\n      value: 2,\n    },\n    {\n      source: 'Montparnasse',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Montparnasse',\n      target: 'Gavroche',\n      value: 1,\n    },\n    {\n      source: 'Montparnasse',\n      target: 'Eponine',\n      value: 1,\n    },\n    {\n      source: 'Montparnasse',\n      target: 'Thenardier',\n      value: 1,\n    },\n    {\n      source: 'Toussaint',\n      target: 'Cosette',\n      value: 2,\n    },\n    {\n      source: 'Toussaint',\n      target: 'Javert',\n      value: 1,\n    },\n    {\n      source: 'Toussaint',\n      target: 'Valjean',\n      value: 1,\n    },\n    {\n      source: 'Child1',\n      target: 'Gavroche',\n      value: 2,\n    },\n    {\n      source: 'Child2',\n      target: 'Gavroche',\n      value: 2,\n    },\n    {\n      source: 'Child2',\n      target: 'Child1',\n      value: 3,\n    },\n    {\n      source: 'Brujon',\n      target: 'Babet',\n      value: 3,\n    },\n    {\n      source: 'Brujon',\n      target: 'Gueulemer',\n      value: 3,\n    },\n    {\n      source: 'Brujon',\n      target: 'Thenardier',\n      value: 3,\n    },\n    {\n      source: 'Brujon',\n      target: 'Gavroche',\n      value: 1,\n    },\n    {\n      source: 'Brujon',\n      target: 'Eponine',\n      value: 1,\n    },\n    {\n      source: 'Brujon',\n      target: 'Claquesous',\n      value: 1,\n    },\n    {\n      source: 'Brujon',\n      target: 'Montparnasse',\n      value: 1,\n    },\n    {\n      source: 'Mme.Hucheloup',\n      target: 'Bossuet',\n      value: 1,\n    },\n    {\n      source: 'Mme.Hucheloup',\n      target: 'Joly',\n      value: 1,\n    },\n    {\n      source: 'Mme.Hucheloup',\n      target: 'Grantaire',\n      value: 1,\n    },\n    {\n      source: 'Mme.Hucheloup',\n      target: 'Bahorel',\n      value: 1,\n    },\n    {\n      source: 'Mme.Hucheloup',\n      target: 'Courfeyrac',\n      value: 1,\n    },\n    {\n      source: 'Mme.Hucheloup',\n      target: 'Gavroche',\n      value: 1,\n    },\n    {\n      source: 'Mme.Hucheloup',\n      target: 'Enjolras',\n      value: 1,\n    },\n  ],\n};\n\n// start 3d force simulation\nconst simulation = forceSimulation(dataset.nodes, 3)\n  .force(\n    'link',\n    forceLink().id(function (d) {\n      return d.id;\n    }),\n  )\n  .force('charge', forceManyBody())\n  .force('center', forceCenter(0, 0));\nsimulation.nodes(dataset.nodes);\nsimulation.force('link').links(dataset.links);\nsimulation.tick(1000);\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\nrenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n});\n\n(async () => {\n  // wait for canvas' initialization complete\n  await canvas.ready;\n  // use GPU device\n  const device = renderer.getDevice();\n\n  // create a sphere geometry\n  const sphereGeometry = new SphereGeometry(device, {\n    radius: 10,\n    latitudeBands: 32,\n    longitudeBands: 32,\n  });\n  // create a material with Phong lighting model\n  const material = new MeshPhongMaterial(device, {\n    shininess: 30,\n  });\n\n  // @see https://antv.vision/en/docs/specification/language/palette#%E5%88%86%E7%B1%BB%E8%89%B2%E6%9D%BF\n  const colorPalette = [\n    '#5B8FF9',\n    '#CDDDFD',\n    '#61DDAA',\n    '#CDF3E4',\n    '#65789B',\n    '#F6BD16',\n    '#7262fd',\n    '#78D3F8',\n    '#9661BC',\n    '#F6903D',\n    '#008685',\n    '#F08BB4',\n  ];\n  dataset.nodes.forEach((node) => {\n    const fill = colorPalette[node.group];\n    // create a mesh\n    const sphere = new Mesh({\n      style: {\n        fill,\n        opacity: 1,\n        geometry: sphereGeometry,\n        material,\n        cursor: 'pointer',\n      },\n    });\n    sphere.setPosition(node.x + 300, node.y + 250, node.z);\n    canvas.appendChild(sphere);\n\n    sphere.addEventListener('mouseenter', () => {\n      sphere.style.fill = 'red';\n    });\n    sphere.addEventListener('mouseleave', () => {\n      sphere.style.fill = fill;\n    });\n  });\n\n  dataset.links.forEach((edge) => {\n    const { source, target } = edge;\n    const line = new Line({\n      style: {\n        x1: source.x + 300,\n        y1: source.y + 250,\n        z1: source.z,\n        x2: target.x + 300,\n        y2: target.y + 250,\n        z2: target.z,\n        stroke: 'black',\n        lineWidth: 2,\n        opacity: 0.5,\n        isBillboard: true, // 始终面向屏幕\n      },\n    });\n    canvas.appendChild(line);\n  });\n\n  // add a directional light into scene\n  const light = new DirectionalLight({\n    style: {\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n\n  // adjust camera's position\n  const camera = canvas.getCamera();\n  camera.setPerspective(0.1, 1000, 45, 600 / 500);\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n  });\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n})();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"lil-gui\", \"stats.js\", \"d3-force-3d\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"lil-gui\"), require(\"stats.js\"), require(\"d3-force-3d\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.lilGui, global.stats, global.d3Force3d);\n    global.force3d = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, lil, _stats, _d3Force3d) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // https://bl.ocks.org/vasturiano/f59675656258d3f490e9faa40828c0e7\n  var dataset = {\n    nodes: [{\n      id: 'Myriel',\n      group: 1\n    }, {\n      id: 'Napoleon',\n      group: 1\n    }, {\n      id: 'Mlle.Baptistine',\n      group: 1\n    }, {\n      id: 'Mme.Magloire',\n      group: 1\n    }, {\n      id: 'CountessdeLo',\n      group: 1\n    }, {\n      id: 'Geborand',\n      group: 1\n    }, {\n      id: 'Champtercier',\n      group: 1\n    }, {\n      id: 'Cravatte',\n      group: 1\n    }, {\n      id: 'Count',\n      group: 1\n    }, {\n      id: 'OldMan',\n      group: 1\n    }, {\n      id: 'Labarre',\n      group: 2\n    }, {\n      id: 'Valjean',\n      group: 2\n    }, {\n      id: 'Marguerite',\n      group: 3\n    }, {\n      id: 'Mme.deR',\n      group: 2\n    }, {\n      id: 'Isabeau',\n      group: 2\n    }, {\n      id: 'Gervais',\n      group: 2\n    }, {\n      id: 'Tholomyes',\n      group: 3\n    }, {\n      id: 'Listolier',\n      group: 3\n    }, {\n      id: 'Fameuil',\n      group: 3\n    }, {\n      id: 'Blacheville',\n      group: 3\n    }, {\n      id: 'Favourite',\n      group: 3\n    }, {\n      id: 'Dahlia',\n      group: 3\n    }, {\n      id: 'Zephine',\n      group: 3\n    }, {\n      id: 'Fantine',\n      group: 3\n    }, {\n      id: 'Mme.Thenardier',\n      group: 4\n    }, {\n      id: 'Thenardier',\n      group: 4\n    }, {\n      id: 'Cosette',\n      group: 5\n    }, {\n      id: 'Javert',\n      group: 4\n    }, {\n      id: 'Fauchelevent',\n      group: 0\n    }, {\n      id: 'Bamatabois',\n      group: 2\n    }, {\n      id: 'Perpetue',\n      group: 3\n    }, {\n      id: 'Simplice',\n      group: 2\n    }, {\n      id: 'Scaufflaire',\n      group: 2\n    }, {\n      id: 'Woman1',\n      group: 2\n    }, {\n      id: 'Judge',\n      group: 2\n    }, {\n      id: 'Champmathieu',\n      group: 2\n    }, {\n      id: 'Brevet',\n      group: 2\n    }, {\n      id: 'Chenildieu',\n      group: 2\n    }, {\n      id: 'Cochepaille',\n      group: 2\n    }, {\n      id: 'Pontmercy',\n      group: 4\n    }, {\n      id: 'Boulatruelle',\n      group: 6\n    }, {\n      id: 'Eponine',\n      group: 4\n    }, {\n      id: 'Anzelma',\n      group: 4\n    }, {\n      id: 'Woman2',\n      group: 5\n    }, {\n      id: 'MotherInnocent',\n      group: 0\n    }, {\n      id: 'Gribier',\n      group: 0\n    }, {\n      id: 'Jondrette',\n      group: 7\n    }, {\n      id: 'Mme.Burgon',\n      group: 7\n    }, {\n      id: 'Gavroche',\n      group: 8\n    }, {\n      id: 'Gillenormand',\n      group: 5\n    }, {\n      id: 'Magnon',\n      group: 5\n    }, {\n      id: 'Mlle.Gillenormand',\n      group: 5\n    }, {\n      id: 'Mme.Pontmercy',\n      group: 5\n    }, {\n      id: 'Mlle.Vaubois',\n      group: 5\n    }, {\n      id: 'Lt.Gillenormand',\n      group: 5\n    }, {\n      id: 'Marius',\n      group: 8\n    }, {\n      id: 'BaronessT',\n      group: 5\n    }, {\n      id: 'Mabeuf',\n      group: 8\n    }, {\n      id: 'Enjolras',\n      group: 8\n    }, {\n      id: 'Combeferre',\n      group: 8\n    }, {\n      id: 'Prouvaire',\n      group: 8\n    }, {\n      id: 'Feuilly',\n      group: 8\n    }, {\n      id: 'Courfeyrac',\n      group: 8\n    }, {\n      id: 'Bahorel',\n      group: 8\n    }, {\n      id: 'Bossuet',\n      group: 8\n    }, {\n      id: 'Joly',\n      group: 8\n    }, {\n      id: 'Grantaire',\n      group: 8\n    }, {\n      id: 'MotherPlutarch',\n      group: 9\n    }, {\n      id: 'Gueulemer',\n      group: 4\n    }, {\n      id: 'Babet',\n      group: 4\n    }, {\n      id: 'Claquesous',\n      group: 4\n    }, {\n      id: 'Montparnasse',\n      group: 4\n    }, {\n      id: 'Toussaint',\n      group: 5\n    }, {\n      id: 'Child1',\n      group: 10\n    }, {\n      id: 'Child2',\n      group: 10\n    }, {\n      id: 'Brujon',\n      group: 4\n    }, {\n      id: 'Mme.Hucheloup',\n      group: 8\n    }],\n    links: [{\n      source: 'Napoleon',\n      target: 'Myriel',\n      value: 1\n    }, {\n      source: 'Mlle.Baptistine',\n      target: 'Myriel',\n      value: 8\n    }, {\n      source: 'Mme.Magloire',\n      target: 'Myriel',\n      value: 10\n    }, {\n      source: 'Mme.Magloire',\n      target: 'Mlle.Baptistine',\n      value: 6\n    }, {\n      source: 'CountessdeLo',\n      target: 'Myriel',\n      value: 1\n    }, {\n      source: 'Geborand',\n      target: 'Myriel',\n      value: 1\n    }, {\n      source: 'Champtercier',\n      target: 'Myriel',\n      value: 1\n    }, {\n      source: 'Cravatte',\n      target: 'Myriel',\n      value: 1\n    }, {\n      source: 'Count',\n      target: 'Myriel',\n      value: 2\n    }, {\n      source: 'OldMan',\n      target: 'Myriel',\n      value: 1\n    }, {\n      source: 'Valjean',\n      target: 'Labarre',\n      value: 1\n    }, {\n      source: 'Valjean',\n      target: 'Mme.Magloire',\n      value: 3\n    }, {\n      source: 'Valjean',\n      target: 'Mlle.Baptistine',\n      value: 3\n    }, {\n      source: 'Valjean',\n      target: 'Myriel',\n      value: 5\n    }, {\n      source: 'Marguerite',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Mme.deR',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Isabeau',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Gervais',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Listolier',\n      target: 'Tholomyes',\n      value: 4\n    }, {\n      source: 'Fameuil',\n      target: 'Tholomyes',\n      value: 4\n    }, {\n      source: 'Fameuil',\n      target: 'Listolier',\n      value: 4\n    }, {\n      source: 'Blacheville',\n      target: 'Tholomyes',\n      value: 4\n    }, {\n      source: 'Blacheville',\n      target: 'Listolier',\n      value: 4\n    }, {\n      source: 'Blacheville',\n      target: 'Fameuil',\n      value: 4\n    }, {\n      source: 'Favourite',\n      target: 'Tholomyes',\n      value: 3\n    }, {\n      source: 'Favourite',\n      target: 'Listolier',\n      value: 3\n    }, {\n      source: 'Favourite',\n      target: 'Fameuil',\n      value: 3\n    }, {\n      source: 'Favourite',\n      target: 'Blacheville',\n      value: 4\n    }, {\n      source: 'Dahlia',\n      target: 'Tholomyes',\n      value: 3\n    }, {\n      source: 'Dahlia',\n      target: 'Listolier',\n      value: 3\n    }, {\n      source: 'Dahlia',\n      target: 'Fameuil',\n      value: 3\n    }, {\n      source: 'Dahlia',\n      target: 'Blacheville',\n      value: 3\n    }, {\n      source: 'Dahlia',\n      target: 'Favourite',\n      value: 5\n    }, {\n      source: 'Zephine',\n      target: 'Tholomyes',\n      value: 3\n    }, {\n      source: 'Zephine',\n      target: 'Listolier',\n      value: 3\n    }, {\n      source: 'Zephine',\n      target: 'Fameuil',\n      value: 3\n    }, {\n      source: 'Zephine',\n      target: 'Blacheville',\n      value: 3\n    }, {\n      source: 'Zephine',\n      target: 'Favourite',\n      value: 4\n    }, {\n      source: 'Zephine',\n      target: 'Dahlia',\n      value: 4\n    }, {\n      source: 'Fantine',\n      target: 'Tholomyes',\n      value: 3\n    }, {\n      source: 'Fantine',\n      target: 'Listolier',\n      value: 3\n    }, {\n      source: 'Fantine',\n      target: 'Fameuil',\n      value: 3\n    }, {\n      source: 'Fantine',\n      target: 'Blacheville',\n      value: 3\n    }, {\n      source: 'Fantine',\n      target: 'Favourite',\n      value: 4\n    }, {\n      source: 'Fantine',\n      target: 'Dahlia',\n      value: 4\n    }, {\n      source: 'Fantine',\n      target: 'Zephine',\n      value: 4\n    }, {\n      source: 'Fantine',\n      target: 'Marguerite',\n      value: 2\n    }, {\n      source: 'Fantine',\n      target: 'Valjean',\n      value: 9\n    }, {\n      source: 'Mme.Thenardier',\n      target: 'Fantine',\n      value: 2\n    }, {\n      source: 'Mme.Thenardier',\n      target: 'Valjean',\n      value: 7\n    }, {\n      source: 'Thenardier',\n      target: 'Mme.Thenardier',\n      value: 13\n    }, {\n      source: 'Thenardier',\n      target: 'Fantine',\n      value: 1\n    }, {\n      source: 'Thenardier',\n      target: 'Valjean',\n      value: 12\n    }, {\n      source: 'Cosette',\n      target: 'Mme.Thenardier',\n      value: 4\n    }, {\n      source: 'Cosette',\n      target: 'Valjean',\n      value: 31\n    }, {\n      source: 'Cosette',\n      target: 'Tholomyes',\n      value: 1\n    }, {\n      source: 'Cosette',\n      target: 'Thenardier',\n      value: 1\n    }, {\n      source: 'Javert',\n      target: 'Valjean',\n      value: 17\n    }, {\n      source: 'Javert',\n      target: 'Fantine',\n      value: 5\n    }, {\n      source: 'Javert',\n      target: 'Thenardier',\n      value: 5\n    }, {\n      source: 'Javert',\n      target: 'Mme.Thenardier',\n      value: 1\n    }, {\n      source: 'Javert',\n      target: 'Cosette',\n      value: 1\n    }, {\n      source: 'Fauchelevent',\n      target: 'Valjean',\n      value: 8\n    }, {\n      source: 'Fauchelevent',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'Bamatabois',\n      target: 'Fantine',\n      value: 1\n    }, {\n      source: 'Bamatabois',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'Bamatabois',\n      target: 'Valjean',\n      value: 2\n    }, {\n      source: 'Perpetue',\n      target: 'Fantine',\n      value: 1\n    }, {\n      source: 'Simplice',\n      target: 'Perpetue',\n      value: 2\n    }, {\n      source: 'Simplice',\n      target: 'Valjean',\n      value: 3\n    }, {\n      source: 'Simplice',\n      target: 'Fantine',\n      value: 2\n    }, {\n      source: 'Simplice',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'Scaufflaire',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Woman1',\n      target: 'Valjean',\n      value: 2\n    }, {\n      source: 'Woman1',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'Judge',\n      target: 'Valjean',\n      value: 3\n    }, {\n      source: 'Judge',\n      target: 'Bamatabois',\n      value: 2\n    }, {\n      source: 'Champmathieu',\n      target: 'Valjean',\n      value: 3\n    }, {\n      source: 'Champmathieu',\n      target: 'Judge',\n      value: 3\n    }, {\n      source: 'Champmathieu',\n      target: 'Bamatabois',\n      value: 2\n    }, {\n      source: 'Brevet',\n      target: 'Judge',\n      value: 2\n    }, {\n      source: 'Brevet',\n      target: 'Champmathieu',\n      value: 2\n    }, {\n      source: 'Brevet',\n      target: 'Valjean',\n      value: 2\n    }, {\n      source: 'Brevet',\n      target: 'Bamatabois',\n      value: 1\n    }, {\n      source: 'Chenildieu',\n      target: 'Judge',\n      value: 2\n    }, {\n      source: 'Chenildieu',\n      target: 'Champmathieu',\n      value: 2\n    }, {\n      source: 'Chenildieu',\n      target: 'Brevet',\n      value: 2\n    }, {\n      source: 'Chenildieu',\n      target: 'Valjean',\n      value: 2\n    }, {\n      source: 'Chenildieu',\n      target: 'Bamatabois',\n      value: 1\n    }, {\n      source: 'Cochepaille',\n      target: 'Judge',\n      value: 2\n    }, {\n      source: 'Cochepaille',\n      target: 'Champmathieu',\n      value: 2\n    }, {\n      source: 'Cochepaille',\n      target: 'Brevet',\n      value: 2\n    }, {\n      source: 'Cochepaille',\n      target: 'Chenildieu',\n      value: 2\n    }, {\n      source: 'Cochepaille',\n      target: 'Valjean',\n      value: 2\n    }, {\n      source: 'Cochepaille',\n      target: 'Bamatabois',\n      value: 1\n    }, {\n      source: 'Pontmercy',\n      target: 'Thenardier',\n      value: 1\n    }, {\n      source: 'Boulatruelle',\n      target: 'Thenardier',\n      value: 1\n    }, {\n      source: 'Eponine',\n      target: 'Mme.Thenardier',\n      value: 2\n    }, {\n      source: 'Eponine',\n      target: 'Thenardier',\n      value: 3\n    }, {\n      source: 'Anzelma',\n      target: 'Eponine',\n      value: 2\n    }, {\n      source: 'Anzelma',\n      target: 'Thenardier',\n      value: 2\n    }, {\n      source: 'Anzelma',\n      target: 'Mme.Thenardier',\n      value: 1\n    }, {\n      source: 'Woman2',\n      target: 'Valjean',\n      value: 3\n    }, {\n      source: 'Woman2',\n      target: 'Cosette',\n      value: 1\n    }, {\n      source: 'Woman2',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'MotherInnocent',\n      target: 'Fauchelevent',\n      value: 3\n    }, {\n      source: 'MotherInnocent',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Gribier',\n      target: 'Fauchelevent',\n      value: 2\n    }, {\n      source: 'Mme.Burgon',\n      target: 'Jondrette',\n      value: 1\n    }, {\n      source: 'Gavroche',\n      target: 'Mme.Burgon',\n      value: 2\n    }, {\n      source: 'Gavroche',\n      target: 'Thenardier',\n      value: 1\n    }, {\n      source: 'Gavroche',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'Gavroche',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Gillenormand',\n      target: 'Cosette',\n      value: 3\n    }, {\n      source: 'Gillenormand',\n      target: 'Valjean',\n      value: 2\n    }, {\n      source: 'Magnon',\n      target: 'Gillenormand',\n      value: 1\n    }, {\n      source: 'Magnon',\n      target: 'Mme.Thenardier',\n      value: 1\n    }, {\n      source: 'Mlle.Gillenormand',\n      target: 'Gillenormand',\n      value: 9\n    }, {\n      source: 'Mlle.Gillenormand',\n      target: 'Cosette',\n      value: 2\n    }, {\n      source: 'Mlle.Gillenormand',\n      target: 'Valjean',\n      value: 2\n    }, {\n      source: 'Mme.Pontmercy',\n      target: 'Mlle.Gillenormand',\n      value: 1\n    }, {\n      source: 'Mme.Pontmercy',\n      target: 'Pontmercy',\n      value: 1\n    }, {\n      source: 'Mlle.Vaubois',\n      target: 'Mlle.Gillenormand',\n      value: 1\n    }, {\n      source: 'Lt.Gillenormand',\n      target: 'Mlle.Gillenormand',\n      value: 2\n    }, {\n      source: 'Lt.Gillenormand',\n      target: 'Gillenormand',\n      value: 1\n    }, {\n      source: 'Lt.Gillenormand',\n      target: 'Cosette',\n      value: 1\n    }, {\n      source: 'Marius',\n      target: 'Mlle.Gillenormand',\n      value: 6\n    }, {\n      source: 'Marius',\n      target: 'Gillenormand',\n      value: 12\n    }, {\n      source: 'Marius',\n      target: 'Pontmercy',\n      value: 1\n    }, {\n      source: 'Marius',\n      target: 'Lt.Gillenormand',\n      value: 1\n    }, {\n      source: 'Marius',\n      target: 'Cosette',\n      value: 21\n    }, {\n      source: 'Marius',\n      target: 'Valjean',\n      value: 19\n    }, {\n      source: 'Marius',\n      target: 'Tholomyes',\n      value: 1\n    }, {\n      source: 'Marius',\n      target: 'Thenardier',\n      value: 2\n    }, {\n      source: 'Marius',\n      target: 'Eponine',\n      value: 5\n    }, {\n      source: 'Marius',\n      target: 'Gavroche',\n      value: 4\n    }, {\n      source: 'BaronessT',\n      target: 'Gillenormand',\n      value: 1\n    }, {\n      source: 'BaronessT',\n      target: 'Marius',\n      value: 1\n    }, {\n      source: 'Mabeuf',\n      target: 'Marius',\n      value: 1\n    }, {\n      source: 'Mabeuf',\n      target: 'Eponine',\n      value: 1\n    }, {\n      source: 'Mabeuf',\n      target: 'Gavroche',\n      value: 1\n    }, {\n      source: 'Enjolras',\n      target: 'Marius',\n      value: 7\n    }, {\n      source: 'Enjolras',\n      target: 'Gavroche',\n      value: 7\n    }, {\n      source: 'Enjolras',\n      target: 'Javert',\n      value: 6\n    }, {\n      source: 'Enjolras',\n      target: 'Mabeuf',\n      value: 1\n    }, {\n      source: 'Enjolras',\n      target: 'Valjean',\n      value: 4\n    }, {\n      source: 'Combeferre',\n      target: 'Enjolras',\n      value: 15\n    }, {\n      source: 'Combeferre',\n      target: 'Marius',\n      value: 5\n    }, {\n      source: 'Combeferre',\n      target: 'Gavroche',\n      value: 6\n    }, {\n      source: 'Combeferre',\n      target: 'Mabeuf',\n      value: 2\n    }, {\n      source: 'Prouvaire',\n      target: 'Gavroche',\n      value: 1\n    }, {\n      source: 'Prouvaire',\n      target: 'Enjolras',\n      value: 4\n    }, {\n      source: 'Prouvaire',\n      target: 'Combeferre',\n      value: 2\n    }, {\n      source: 'Feuilly',\n      target: 'Gavroche',\n      value: 2\n    }, {\n      source: 'Feuilly',\n      target: 'Enjolras',\n      value: 6\n    }, {\n      source: 'Feuilly',\n      target: 'Prouvaire',\n      value: 2\n    }, {\n      source: 'Feuilly',\n      target: 'Combeferre',\n      value: 5\n    }, {\n      source: 'Feuilly',\n      target: 'Mabeuf',\n      value: 1\n    }, {\n      source: 'Feuilly',\n      target: 'Marius',\n      value: 1\n    }, {\n      source: 'Courfeyrac',\n      target: 'Marius',\n      value: 9\n    }, {\n      source: 'Courfeyrac',\n      target: 'Enjolras',\n      value: 17\n    }, {\n      source: 'Courfeyrac',\n      target: 'Combeferre',\n      value: 13\n    }, {\n      source: 'Courfeyrac',\n      target: 'Gavroche',\n      value: 7\n    }, {\n      source: 'Courfeyrac',\n      target: 'Mabeuf',\n      value: 2\n    }, {\n      source: 'Courfeyrac',\n      target: 'Eponine',\n      value: 1\n    }, {\n      source: 'Courfeyrac',\n      target: 'Feuilly',\n      value: 6\n    }, {\n      source: 'Courfeyrac',\n      target: 'Prouvaire',\n      value: 3\n    }, {\n      source: 'Bahorel',\n      target: 'Combeferre',\n      value: 5\n    }, {\n      source: 'Bahorel',\n      target: 'Gavroche',\n      value: 5\n    }, {\n      source: 'Bahorel',\n      target: 'Courfeyrac',\n      value: 6\n    }, {\n      source: 'Bahorel',\n      target: 'Mabeuf',\n      value: 2\n    }, {\n      source: 'Bahorel',\n      target: 'Enjolras',\n      value: 4\n    }, {\n      source: 'Bahorel',\n      target: 'Feuilly',\n      value: 3\n    }, {\n      source: 'Bahorel',\n      target: 'Prouvaire',\n      value: 2\n    }, {\n      source: 'Bahorel',\n      target: 'Marius',\n      value: 1\n    }, {\n      source: 'Bossuet',\n      target: 'Marius',\n      value: 5\n    }, {\n      source: 'Bossuet',\n      target: 'Courfeyrac',\n      value: 12\n    }, {\n      source: 'Bossuet',\n      target: 'Gavroche',\n      value: 5\n    }, {\n      source: 'Bossuet',\n      target: 'Bahorel',\n      value: 4\n    }, {\n      source: 'Bossuet',\n      target: 'Enjolras',\n      value: 10\n    }, {\n      source: 'Bossuet',\n      target: 'Feuilly',\n      value: 6\n    }, {\n      source: 'Bossuet',\n      target: 'Prouvaire',\n      value: 2\n    }, {\n      source: 'Bossuet',\n      target: 'Combeferre',\n      value: 9\n    }, {\n      source: 'Bossuet',\n      target: 'Mabeuf',\n      value: 1\n    }, {\n      source: 'Bossuet',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Joly',\n      target: 'Bahorel',\n      value: 5\n    }, {\n      source: 'Joly',\n      target: 'Bossuet',\n      value: 7\n    }, {\n      source: 'Joly',\n      target: 'Gavroche',\n      value: 3\n    }, {\n      source: 'Joly',\n      target: 'Courfeyrac',\n      value: 5\n    }, {\n      source: 'Joly',\n      target: 'Enjolras',\n      value: 5\n    }, {\n      source: 'Joly',\n      target: 'Feuilly',\n      value: 5\n    }, {\n      source: 'Joly',\n      target: 'Prouvaire',\n      value: 2\n    }, {\n      source: 'Joly',\n      target: 'Combeferre',\n      value: 5\n    }, {\n      source: 'Joly',\n      target: 'Mabeuf',\n      value: 1\n    }, {\n      source: 'Joly',\n      target: 'Marius',\n      value: 2\n    }, {\n      source: 'Grantaire',\n      target: 'Bossuet',\n      value: 3\n    }, {\n      source: 'Grantaire',\n      target: 'Enjolras',\n      value: 3\n    }, {\n      source: 'Grantaire',\n      target: 'Combeferre',\n      value: 1\n    }, {\n      source: 'Grantaire',\n      target: 'Courfeyrac',\n      value: 2\n    }, {\n      source: 'Grantaire',\n      target: 'Joly',\n      value: 2\n    }, {\n      source: 'Grantaire',\n      target: 'Gavroche',\n      value: 1\n    }, {\n      source: 'Grantaire',\n      target: 'Bahorel',\n      value: 1\n    }, {\n      source: 'Grantaire',\n      target: 'Feuilly',\n      value: 1\n    }, {\n      source: 'Grantaire',\n      target: 'Prouvaire',\n      value: 1\n    }, {\n      source: 'MotherPlutarch',\n      target: 'Mabeuf',\n      value: 3\n    }, {\n      source: 'Gueulemer',\n      target: 'Thenardier',\n      value: 5\n    }, {\n      source: 'Gueulemer',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Gueulemer',\n      target: 'Mme.Thenardier',\n      value: 1\n    }, {\n      source: 'Gueulemer',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'Gueulemer',\n      target: 'Gavroche',\n      value: 1\n    }, {\n      source: 'Gueulemer',\n      target: 'Eponine',\n      value: 1\n    }, {\n      source: 'Babet',\n      target: 'Thenardier',\n      value: 6\n    }, {\n      source: 'Babet',\n      target: 'Gueulemer',\n      value: 6\n    }, {\n      source: 'Babet',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Babet',\n      target: 'Mme.Thenardier',\n      value: 1\n    }, {\n      source: 'Babet',\n      target: 'Javert',\n      value: 2\n    }, {\n      source: 'Babet',\n      target: 'Gavroche',\n      value: 1\n    }, {\n      source: 'Babet',\n      target: 'Eponine',\n      value: 1\n    }, {\n      source: 'Claquesous',\n      target: 'Thenardier',\n      value: 4\n    }, {\n      source: 'Claquesous',\n      target: 'Babet',\n      value: 4\n    }, {\n      source: 'Claquesous',\n      target: 'Gueulemer',\n      value: 4\n    }, {\n      source: 'Claquesous',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Claquesous',\n      target: 'Mme.Thenardier',\n      value: 1\n    }, {\n      source: 'Claquesous',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'Claquesous',\n      target: 'Eponine',\n      value: 1\n    }, {\n      source: 'Claquesous',\n      target: 'Enjolras',\n      value: 1\n    }, {\n      source: 'Montparnasse',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'Montparnasse',\n      target: 'Babet',\n      value: 2\n    }, {\n      source: 'Montparnasse',\n      target: 'Gueulemer',\n      value: 2\n    }, {\n      source: 'Montparnasse',\n      target: 'Claquesous',\n      value: 2\n    }, {\n      source: 'Montparnasse',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Montparnasse',\n      target: 'Gavroche',\n      value: 1\n    }, {\n      source: 'Montparnasse',\n      target: 'Eponine',\n      value: 1\n    }, {\n      source: 'Montparnasse',\n      target: 'Thenardier',\n      value: 1\n    }, {\n      source: 'Toussaint',\n      target: 'Cosette',\n      value: 2\n    }, {\n      source: 'Toussaint',\n      target: 'Javert',\n      value: 1\n    }, {\n      source: 'Toussaint',\n      target: 'Valjean',\n      value: 1\n    }, {\n      source: 'Child1',\n      target: 'Gavroche',\n      value: 2\n    }, {\n      source: 'Child2',\n      target: 'Gavroche',\n      value: 2\n    }, {\n      source: 'Child2',\n      target: 'Child1',\n      value: 3\n    }, {\n      source: 'Brujon',\n      target: 'Babet',\n      value: 3\n    }, {\n      source: 'Brujon',\n      target: 'Gueulemer',\n      value: 3\n    }, {\n      source: 'Brujon',\n      target: 'Thenardier',\n      value: 3\n    }, {\n      source: 'Brujon',\n      target: 'Gavroche',\n      value: 1\n    }, {\n      source: 'Brujon',\n      target: 'Eponine',\n      value: 1\n    }, {\n      source: 'Brujon',\n      target: 'Claquesous',\n      value: 1\n    }, {\n      source: 'Brujon',\n      target: 'Montparnasse',\n      value: 1\n    }, {\n      source: 'Mme.Hucheloup',\n      target: 'Bossuet',\n      value: 1\n    }, {\n      source: 'Mme.Hucheloup',\n      target: 'Joly',\n      value: 1\n    }, {\n      source: 'Mme.Hucheloup',\n      target: 'Grantaire',\n      value: 1\n    }, {\n      source: 'Mme.Hucheloup',\n      target: 'Bahorel',\n      value: 1\n    }, {\n      source: 'Mme.Hucheloup',\n      target: 'Courfeyrac',\n      value: 1\n    }, {\n      source: 'Mme.Hucheloup',\n      target: 'Gavroche',\n      value: 1\n    }, {\n      source: 'Mme.Hucheloup',\n      target: 'Enjolras',\n      value: 1\n    }]\n  }; // start 3d force simulation\n\n  var simulation = (0, _d3Force3d.forceSimulation)(dataset.nodes, 3).force('link', (0, _d3Force3d.forceLink)().id(function (d) {\n    return d.id;\n  })).force('charge', (0, _d3Force3d.forceManyBody)()).force('center', (0, _d3Force3d.forceCenter)(0, 0));\n  simulation.nodes(dataset.nodes);\n  simulation.force('link').links(dataset.links);\n  simulation.tick(1000); // create a renderer\n\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin());\n  renderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer\n  });\n\n  (async function () {\n    // wait for canvas' initialization complete\n    await canvas.ready; // use GPU device\n\n    var device = renderer.getDevice(); // create a sphere geometry\n\n    var sphereGeometry = new _gPlugin3d.SphereGeometry(device, {\n      radius: 10,\n      latitudeBands: 32,\n      longitudeBands: 32\n    }); // create a material with Phong lighting model\n\n    var material = new _gPlugin3d.MeshPhongMaterial(device, {\n      shininess: 30\n    }); // @see https://antv.vision/en/docs/specification/language/palette#%E5%88%86%E7%B1%BB%E8%89%B2%E6%9D%BF\n\n    var colorPalette = ['#5B8FF9', '#CDDDFD', '#61DDAA', '#CDF3E4', '#65789B', '#F6BD16', '#7262fd', '#78D3F8', '#9661BC', '#F6903D', '#008685', '#F08BB4'];\n    dataset.nodes.forEach(function (node) {\n      var fill = colorPalette[node.group]; // create a mesh\n\n      var sphere = new _gPlugin3d.Mesh({\n        style: {\n          fill: fill,\n          opacity: 1,\n          geometry: sphereGeometry,\n          material: material,\n          cursor: 'pointer'\n        }\n      });\n      sphere.setPosition(node.x + 300, node.y + 250, node.z);\n      canvas.appendChild(sphere);\n      sphere.addEventListener('mouseenter', function () {\n        sphere.style.fill = 'red';\n      });\n      sphere.addEventListener('mouseleave', function () {\n        sphere.style.fill = fill;\n      });\n    });\n    dataset.links.forEach(function (edge) {\n      var source = edge.source,\n          target = edge.target;\n      var line = new _g.Line({\n        style: {\n          x1: source.x + 300,\n          y1: source.y + 250,\n          z1: source.z,\n          x2: target.x + 300,\n          y2: target.y + 250,\n          z2: target.z,\n          stroke: 'black',\n          lineWidth: 2,\n          opacity: 0.5,\n          isBillboard: true // 始终面向屏幕\n\n        }\n      });\n      canvas.appendChild(line);\n    }); // add a directional light into scene\n\n    var light = new _gPlugin3d.DirectionalLight({\n      style: {\n        fill: 'white',\n        direction: [-1, 0, 1]\n      }\n    });\n    canvas.appendChild(light); // adjust camera's position\n\n    var camera = canvas.getCamera();\n    camera.setPerspective(0.1, 1000, 45, 600 / 500); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      }\n    }); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n  })();\n});"},{"relativePath":"3d/demo/music-viz.tsx","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/3d/demo/music-viz.tsx","order":6,"filename":"music-viz.tsx","title":{"zh":"音乐可视化","en":"Music Visualization"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*nKFQQZdL3-IAAAAAAAAAAAAAARQnAQ","source":"import React, { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport Stats from 'stats.js';\nimport SimplexNoise from 'simplex-noise';\nimport { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport {\n  Mesh,\n  SphereGeometry,\n  PlaneGeometry,\n  MeshBasicMaterial,\n  Fog,\n  FogType,\n  Plugin as Plugin3D,\n  CullMode,\n  ProceduralGeometryAttributeLocation,\n  VertexAttributeLocation,\n} from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\n\n/**\n * ported from https://medium.com/@mag_ops/music-visualiser-with-three-js-web-audio-api-b30175e7b5ba\n * Web Audio API @see https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext\n */\n\nconst App = function MusicViz() {\n  const containerRef = useRef(null);\n  const audioRef = useRef(null);\n  let analyser;\n  let dataArray;\n  const noise = new SimplexNoise();\n\n  useEffect(() => {\n    // create a webgl renderer\n    const renderer = new WebGLRenderer();\n    renderer.registerPlugin(new Plugin3D());\n    renderer.registerPlugin(new PluginControl());\n\n    // create a canvas\n    const canvas = new Canvas({\n      container: containerRef.current,\n      width: 600,\n      height: 500,\n      renderer,\n      background: '#120f6c',\n    });\n\n    const camera = canvas.getCamera();\n    camera.setPosition(300, 100, 500);\n    camera.setPerspective(0.1, 1000, 75, 600 / 500);\n\n    canvas.appendChild(\n      new Fog({\n        style: {\n          fill: 'purple',\n          type: FogType.EXP2,\n          density: 0.0015,\n          start: 0,\n          end: 0,\n        },\n      }),\n    );\n\n    (async () => {\n      await canvas.ready;\n\n      const device = renderer.getDevice();\n\n      const sphereGeometry = new SphereGeometry(device, {\n        radius: 100,\n        latitudeBands: 32,\n        longitudeBands: 32,\n      });\n      const groundGeometry = new PlaneGeometry(device, {\n        width: 800,\n        depth: 800,\n        widthSegments: 20,\n        depthSegments: 20,\n      });\n      const skyGeometry = new PlaneGeometry(device, {\n        width: 800,\n        depth: 800,\n        widthSegments: 20,\n        depthSegments: 20,\n      });\n      const planeMaterial = new MeshBasicMaterial(device, {\n        wireframe: true,\n        wireframeColor: 'purple',\n        cullMode: CullMode.None,\n      });\n      const basicMaterial = new MeshBasicMaterial(device, {\n        wireframe: true,\n        wireframeColor: '#ff00ee',\n      });\n\n      const sphere = new Mesh({\n        style: {\n          x: 300,\n          y: 200,\n          fill: '#120f6c',\n          opacity: 1,\n          geometry: sphereGeometry,\n          material: basicMaterial,\n        },\n      });\n      canvas.appendChild(sphere);\n\n      const ground = new Mesh({\n        style: {\n          x: 300,\n          y: 250,\n          fill: '#120f6c',\n          opacity: 1,\n          geometry: groundGeometry,\n          material: planeMaterial,\n        },\n      });\n      canvas.appendChild(ground);\n\n      const sky = new Mesh({\n        style: {\n          x: 300,\n          y: 0,\n          fill: 'white',\n          opacity: 1,\n          geometry: skyGeometry,\n          material: planeMaterial,\n        },\n      });\n      canvas.appendChild(sky);\n\n      canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n        if (stats) {\n          stats.update();\n        }\n\n        canvas.document.documentElement.setOrigin(300, 250, 0);\n        canvas.document.documentElement.rotate(0, 0.2, 0);\n\n        if (analyser && dataArray) {\n          analyser.getByteFrequencyData(dataArray);\n\n          const lowerHalfArray = dataArray.slice(0, dataArray.length / 2 - 1);\n          const upperHalfArray = dataArray.slice(dataArray.length / 2 - 1, dataArray.length - 1);\n\n          const overallAvg = avg(dataArray);\n          const lowerMax = max(lowerHalfArray);\n          const lowerAvg = avg(lowerHalfArray);\n          const upperMax = max(upperHalfArray);\n          const upperAvg = avg(upperHalfArray);\n\n          const lowerMaxFr = lowerMax / lowerHalfArray.length;\n          const lowerAvgFr = lowerAvg / lowerHalfArray.length;\n          const upperMaxFr = upperMax / upperHalfArray.length;\n          const upperAvgFr = upperAvg / upperHalfArray.length;\n\n          makeRoughGround(groundGeometry, modulate(lowerMaxFr, 0, 1, 0.5, 4));\n          makeRoughGround(skyGeometry, modulate(upperAvgFr, 0, 1, 0.5, 4));\n          makeRoughBall(\n            sphereGeometry,\n            modulate(Math.pow(lowerMaxFr, 0.8), 0, 1, 0, 8),\n            modulate(upperAvgFr, 0, 1, 0, 4),\n          );\n        }\n      });\n\n      const makeRoughGround = (geometry, distortionFr) => {\n        const bufferIndex = ProceduralGeometryAttributeLocation.POSITION;\n        const positions = geometry.vertices[bufferIndex];\n\n        for (let i = 0; i < positions.length; i += 3) {\n          const x = positions[i];\n          const y = positions[i + 1];\n          const z = positions[i + 2];\n\n          const amp = 2;\n          const time = window.performance.now();\n          const distance = noise.noise2D(x + time * 0.003, z + time * 0.001) * distortionFr * amp;\n          positions[i + 1] = distance;\n        }\n\n        geometry.updateVertexBuffer(\n          bufferIndex,\n          VertexAttributeLocation.MAX,\n          0,\n          new Uint8Array(positions.buffer),\n        );\n      };\n\n      const makeRoughBall = (geometry, bassFr, treFr) => {\n        const bufferIndex = ProceduralGeometryAttributeLocation.POSITION;\n        const positions = geometry.vertices[bufferIndex];\n\n        for (let i = 0; i < positions.length; i += 3) {\n          const x = positions[i];\n          const y = positions[i + 1];\n          const z = positions[i + 2];\n\n          const amp = 7;\n          const time = window.performance.now();\n          const radius = 100;\n          const vec3 = [x, y, z];\n\n          normalize(vec3, vec3);\n          const rf = 0.0001;\n          const distance =\n            radius +\n            bassFr +\n            noise.noise3D(\n              vec3[0] + time * rf * 7,\n              vec3[1] + time * rf * 8,\n              vec3[2] + time * rf * 9,\n            ) *\n              amp *\n              treFr;\n\n          positions[i] = vec3[0] * distance;\n          positions[i + 1] = vec3[1] * distance;\n          positions[i + 2] = vec3[2] * distance;\n        }\n\n        geometry.updateVertexBuffer(\n          bufferIndex,\n          VertexAttributeLocation.MAX,\n          0,\n          new Uint8Array(positions.buffer),\n        );\n      };\n\n      const stats = new Stats();\n      stats.showPanel(0);\n      const $stats = stats.dom;\n      $stats.style.position = 'absolute';\n      $stats.style.left = '0px';\n      $stats.style.top = '0px';\n      const $wrapper = containerRef.current;\n      $wrapper.appendChild($stats);\n    })();\n  }, []);\n\n  const handleFileChanged = (e) => {\n    const files = e.target.files;\n    const audio = audioRef.current;\n    audio.src = URL.createObjectURL(files[0]);\n    audio.load();\n    audio.play();\n\n    const context = new AudioContext();\n    const src = context.createMediaElementSource(audio);\n    analyser = context.createAnalyser();\n    src.connect(analyser);\n    analyser.connect(context.destination);\n    analyser.fftSize = 512;\n    const bufferLength = analyser.frequencyBinCount;\n    dataArray = new Uint8Array(bufferLength);\n  };\n\n  return (\n    <>\n      <label htmlFor=\"file\">\n        <input type=\"file\" id=\"file\" accept=\"audio/*\" onChange={handleFileChanged} />\n      </label>\n      <audio id=\"audio\" controls ref={audioRef}></audio>\n\n      <div\n        id=\"container1\"\n        ref={containerRef}\n        style={{\n          width: '100%',\n          height: '100%',\n        }}\n      />\n    </>\n  );\n};\n\n//some helper functions here\nfunction fractionate(val, minVal, maxVal) {\n  return (val - minVal) / (maxVal - minVal);\n}\n\nfunction modulate(val, minVal, maxVal, outMin, outMax) {\n  const fr = fractionate(val, minVal, maxVal);\n  const delta = outMax - outMin;\n  return outMin + fr * delta;\n}\n\nfunction avg(arr) {\n  const total = arr.reduce(function (sum, b) {\n    return sum + b;\n  });\n  return total / arr.length;\n}\n\nfunction max(arr) {\n  return arr.reduce(function (a, b) {\n    return Math.max(a, b);\n  });\n}\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n\nReactDOM.render(<App />, document.getElementById('container'));\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"stats.js\", \"simplex-noise\", \"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"stats.js\"), require(\"simplex-noise\"), require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.stats, global.simplexNoise, global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl);\n    global.musicViz = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _stats, _simplexNoise, _g, _gWebgl, _gPlugin3d, _gPluginControl) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _stats = _interopRequireDefault(_stats);\n  _simplexNoise = _interopRequireDefault(_simplexNoise);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  /**\n   * ported from https://medium.com/@mag_ops/music-visualiser-with-three-js-web-audio-api-b30175e7b5ba\n   * Web Audio API @see https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext\n   */\n  var App = function MusicViz() {\n    var containerRef = (0, _react.useRef)(null);\n    var audioRef = (0, _react.useRef)(null);\n    var analyser;\n    var dataArray;\n    var noise = new _simplexNoise.default();\n    (0, _react.useEffect)(function () {\n      // create a webgl renderer\n      var renderer = new _gWebgl.Renderer();\n      renderer.registerPlugin(new _gPlugin3d.Plugin());\n      renderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n      var canvas = new _g.Canvas({\n        container: containerRef.current,\n        width: 600,\n        height: 500,\n        renderer: renderer,\n        background: '#120f6c'\n      });\n      var camera = canvas.getCamera();\n      camera.setPosition(300, 100, 500);\n      camera.setPerspective(0.1, 1000, 75, 600 / 500);\n      canvas.appendChild(new _gPlugin3d.Fog({\n        style: {\n          fill: 'purple',\n          type: _gPlugin3d.FogType.EXP2,\n          density: 0.0015,\n          start: 0,\n          end: 0\n        }\n      }));\n\n      (async function () {\n        await canvas.ready;\n        var device = renderer.getDevice();\n        var sphereGeometry = new _gPlugin3d.SphereGeometry(device, {\n          radius: 100,\n          latitudeBands: 32,\n          longitudeBands: 32\n        });\n        var groundGeometry = new _gPlugin3d.PlaneGeometry(device, {\n          width: 800,\n          depth: 800,\n          widthSegments: 20,\n          depthSegments: 20\n        });\n        var skyGeometry = new _gPlugin3d.PlaneGeometry(device, {\n          width: 800,\n          depth: 800,\n          widthSegments: 20,\n          depthSegments: 20\n        });\n        var planeMaterial = new _gPlugin3d.MeshBasicMaterial(device, {\n          wireframe: true,\n          wireframeColor: 'purple',\n          cullMode: _gPlugin3d.CullMode.None\n        });\n        var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device, {\n          wireframe: true,\n          wireframeColor: '#ff00ee'\n        });\n        var sphere = new _gPlugin3d.Mesh({\n          style: {\n            x: 300,\n            y: 200,\n            fill: '#120f6c',\n            opacity: 1,\n            geometry: sphereGeometry,\n            material: basicMaterial\n          }\n        });\n        canvas.appendChild(sphere);\n        var ground = new _gPlugin3d.Mesh({\n          style: {\n            x: 300,\n            y: 250,\n            fill: '#120f6c',\n            opacity: 1,\n            geometry: groundGeometry,\n            material: planeMaterial\n          }\n        });\n        canvas.appendChild(ground);\n        var sky = new _gPlugin3d.Mesh({\n          style: {\n            x: 300,\n            y: 0,\n            fill: 'white',\n            opacity: 1,\n            geometry: skyGeometry,\n            material: planeMaterial\n          }\n        });\n        canvas.appendChild(sky);\n        canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n          if (stats) {\n            stats.update();\n          }\n\n          canvas.document.documentElement.setOrigin(300, 250, 0);\n          canvas.document.documentElement.rotate(0, 0.2, 0);\n\n          if (analyser && dataArray) {\n            analyser.getByteFrequencyData(dataArray);\n            var lowerHalfArray = dataArray.slice(0, dataArray.length / 2 - 1);\n            var upperHalfArray = dataArray.slice(dataArray.length / 2 - 1, dataArray.length - 1);\n            var overallAvg = avg(dataArray);\n            var lowerMax = max(lowerHalfArray);\n            var lowerAvg = avg(lowerHalfArray);\n            var upperMax = max(upperHalfArray);\n            var upperAvg = avg(upperHalfArray);\n            var lowerMaxFr = lowerMax / lowerHalfArray.length;\n            var lowerAvgFr = lowerAvg / lowerHalfArray.length;\n            var upperMaxFr = upperMax / upperHalfArray.length;\n            var upperAvgFr = upperAvg / upperHalfArray.length;\n            makeRoughGround(groundGeometry, modulate(lowerMaxFr, 0, 1, 0.5, 4));\n            makeRoughGround(skyGeometry, modulate(upperAvgFr, 0, 1, 0.5, 4));\n            makeRoughBall(sphereGeometry, modulate(Math.pow(lowerMaxFr, 0.8), 0, 1, 0, 8), modulate(upperAvgFr, 0, 1, 0, 4));\n          }\n        });\n\n        var makeRoughGround = function makeRoughGround(geometry, distortionFr) {\n          var bufferIndex = _gPlugin3d.ProceduralGeometryAttributeLocation.POSITION;\n          var positions = geometry.vertices[bufferIndex];\n\n          for (var i = 0; i < positions.length; i += 3) {\n            var x = positions[i];\n            var y = positions[i + 1];\n            var z = positions[i + 2];\n            var amp = 2;\n            var time = window.performance.now();\n            var distance = noise.noise2D(x + time * 0.003, z + time * 0.001) * distortionFr * amp;\n            positions[i + 1] = distance;\n          }\n\n          geometry.updateVertexBuffer(bufferIndex, _gPlugin3d.VertexAttributeLocation.MAX, 0, new Uint8Array(positions.buffer));\n        };\n\n        var makeRoughBall = function makeRoughBall(geometry, bassFr, treFr) {\n          var bufferIndex = _gPlugin3d.ProceduralGeometryAttributeLocation.POSITION;\n          var positions = geometry.vertices[bufferIndex];\n\n          for (var i = 0; i < positions.length; i += 3) {\n            var x = positions[i];\n            var y = positions[i + 1];\n            var z = positions[i + 2];\n            var amp = 7;\n            var time = window.performance.now();\n            var radius = 100;\n            var vec3 = [x, y, z];\n            normalize(vec3, vec3);\n            var rf = 0.0001;\n            var distance = radius + bassFr + noise.noise3D(vec3[0] + time * rf * 7, vec3[1] + time * rf * 8, vec3[2] + time * rf * 9) * amp * treFr;\n            positions[i] = vec3[0] * distance;\n            positions[i + 1] = vec3[1] * distance;\n            positions[i + 2] = vec3[2] * distance;\n          }\n\n          geometry.updateVertexBuffer(bufferIndex, _gPlugin3d.VertexAttributeLocation.MAX, 0, new Uint8Array(positions.buffer));\n        };\n\n        var stats = new _stats.default();\n        stats.showPanel(0);\n        var $stats = stats.dom;\n        $stats.style.position = 'absolute';\n        $stats.style.left = '0px';\n        $stats.style.top = '0px';\n        var $wrapper = containerRef.current;\n        $wrapper.appendChild($stats);\n      })();\n    }, []);\n\n    var handleFileChanged = function handleFileChanged(e) {\n      var files = e.target.files;\n      var audio = audioRef.current;\n      audio.src = URL.createObjectURL(files[0]);\n      audio.load();\n      audio.play();\n      var context = new AudioContext();\n      var src = context.createMediaElementSource(audio);\n      analyser = context.createAnalyser();\n      src.connect(analyser);\n      analyser.connect(context.destination);\n      analyser.fftSize = 512;\n      var bufferLength = analyser.frequencyBinCount;\n      dataArray = new Uint8Array(bufferLength);\n    };\n\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"label\", {\n      htmlFor: \"file\"\n    }, /*#__PURE__*/_react.default.createElement(\"input\", {\n      type: \"file\",\n      id: \"file\",\n      accept: \"audio/*\",\n      onChange: handleFileChanged\n    })), /*#__PURE__*/_react.default.createElement(\"audio\", {\n      id: \"audio\",\n      controls: true,\n      ref: audioRef\n    }), /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: \"container1\",\n      ref: containerRef,\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }));\n  }; //some helper functions here\n\n\n  function fractionate(val, minVal, maxVal) {\n    return (val - minVal) / (maxVal - minVal);\n  }\n\n  function modulate(val, minVal, maxVal, outMin, outMax) {\n    var fr = fractionate(val, minVal, maxVal);\n    var delta = outMax - outMin;\n    return outMin + fr * delta;\n  }\n\n  function avg(arr) {\n    var total = arr.reduce(function (sum, b) {\n      return sum + b;\n    });\n    return total / arr.length;\n  }\n\n  function max(arr) {\n    return arr.reduce(function (a, b) {\n      return Math.max(a, b);\n    });\n  }\n\n  function normalize(out, a) {\n    var x = a[0];\n    var y = a[1];\n    var z = a[2];\n    var len = x * x + y * y + z * z;\n\n    if (len > 0) {\n      len = 1 / Math.sqrt(len);\n    }\n\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n    return out;\n  }\n\n  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, null), document.getElementById('container'));\n});"},{"relativePath":"3d/demo/plane.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/3d/demo/plane.js","order":1,"filename":"plane.js","title":{"zh":"平面","en":"Plane"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport { MeshBasicMaterial, PlaneGeometry, Mesh, Plugin as Plugin3D } from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\nrenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n});\n\n(async () => {\n  // wait for canvas' initialization complete\n  await canvas.ready;\n\n  // use GPU device\n  const device = renderer.getDevice();\n\n  const planeGeometry = new PlaneGeometry(device, {\n    width: 200,\n    depth: 200,\n    widthSegments: 1,\n    depthSegments: 1,\n  });\n  const basicMaterial = new MeshBasicMaterial(device, {\n    wireframe: true,\n  });\n\n  const plane = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: planeGeometry,\n      material: basicMaterial,\n    },\n  });\n\n  plane.setPosition(300, 250, 0);\n  canvas.appendChild(plane);\n\n  const plane2 = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      width: 400,\n      depth: 400,\n      geometry: planeGeometry,\n      material: basicMaterial,\n    },\n  });\n  plane2.setPosition(300, 450, 0);\n  canvas.appendChild(plane2);\n\n  canvas.getCamera().setPosition(300, 0, 500);\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n    // plane.rotate(0, 1, 0);\n  });\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n\n  const planeFolder = gui.addFolder('plane');\n  const planeConfig = {\n    opacity: 1,\n    fill: '#1890FF',\n  };\n  planeFolder.add(planeConfig, 'opacity', 0, 1, 0.1).onChange((opacity) => {\n    plane.style.opacity = opacity;\n  });\n  planeFolder.addColor(planeConfig, 'fill').onChange((color) => {\n    plane.style.fill = color;\n  });\n  planeFolder.open();\n\n  const geometryFolder = gui.addFolder('geometry');\n  const geometryConfig = {\n    width: 200,\n    depth: 200,\n    widthSegments: 5,\n    depthSegments: 5,\n  };\n  geometryFolder.add(geometryConfig, 'width', 50, 300).onChange((width) => {\n    planeGeometry.width = width;\n  });\n  geometryFolder.add(geometryConfig, 'depth', 50, 300).onChange((depth) => {\n    planeGeometry.depth = depth;\n  });\n  geometryFolder.add(geometryConfig, 'widthSegments', 1, 10, 1).onChange((widthSegments) => {\n    planeGeometry.widthSegments = widthSegments;\n  });\n  geometryFolder.add(geometryConfig, 'depthSegments', 1, 10, 1).onChange((depthSegments) => {\n    planeGeometry.depthSegments = depthSegments;\n  });\n  geometryFolder.open();\n})();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.lilGui, global.stats);\n    global.plane = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin());\n  renderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer\n  });\n\n  (async function () {\n    // wait for canvas' initialization complete\n    await canvas.ready; // use GPU device\n\n    var device = renderer.getDevice();\n    var planeGeometry = new _gPlugin3d.PlaneGeometry(device, {\n      width: 200,\n      depth: 200,\n      widthSegments: 1,\n      depthSegments: 1\n    });\n    var basicMaterial = new _gPlugin3d.MeshBasicMaterial(device, {\n      wireframe: true\n    });\n    var plane = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: planeGeometry,\n        material: basicMaterial\n      }\n    });\n    plane.setPosition(300, 250, 0);\n    canvas.appendChild(plane);\n    var plane2 = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        width: 400,\n        depth: 400,\n        geometry: planeGeometry,\n        material: basicMaterial\n      }\n    });\n    plane2.setPosition(300, 450, 0);\n    canvas.appendChild(plane2);\n    canvas.getCamera().setPosition(300, 0, 500); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      } // plane.rotate(0, 1, 0);\n\n    }); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n    var planeFolder = gui.addFolder('plane');\n    var planeConfig = {\n      opacity: 1,\n      fill: '#1890FF'\n    };\n    planeFolder.add(planeConfig, 'opacity', 0, 1, 0.1).onChange(function (opacity) {\n      plane.style.opacity = opacity;\n    });\n    planeFolder.addColor(planeConfig, 'fill').onChange(function (color) {\n      plane.style.fill = color;\n    });\n    planeFolder.open();\n    var geometryFolder = gui.addFolder('geometry');\n    var geometryConfig = {\n      width: 200,\n      depth: 200,\n      widthSegments: 5,\n      depthSegments: 5\n    };\n    geometryFolder.add(geometryConfig, 'width', 50, 300).onChange(function (width) {\n      planeGeometry.width = width;\n    });\n    geometryFolder.add(geometryConfig, 'depth', 50, 300).onChange(function (depth) {\n      planeGeometry.depth = depth;\n    });\n    geometryFolder.add(geometryConfig, 'widthSegments', 1, 10, 1).onChange(function (widthSegments) {\n      planeGeometry.widthSegments = widthSegments;\n    });\n    geometryFolder.add(geometryConfig, 'depthSegments', 1, 10, 1).onChange(function (depthSegments) {\n      planeGeometry.depthSegments = depthSegments;\n    });\n    geometryFolder.open();\n  })();\n});"},{"relativePath":"3d/demo/point.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/3d/demo/point.js","order":0,"filename":"point.js","title":{"zh":"点","en":"Point"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport {\n  PointMaterial,\n  BufferGeometry,\n  Mesh,\n  VertexBufferFrequency,\n  Format,\n  VertexAttributeBufferIndex,\n  VertexAttributeLocation,\n  Plugin as Plugin3D,\n  PrimitiveTopology,\n} from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport Stats from 'stats.js';\nimport * as lil from 'lil-gui';\n\n/**\n * ported from @see https://threejs.org/examples/#webgl_points_sprites\n */\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\nrenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n  background: 'black',\n});\n\n(async () => {\n  // wait for canvas' initialization complete\n  await canvas.ready;\n\n  // use GPU device\n  const device = renderer.getDevice();\n\n  // create buffer geometry\n  const bufferGeometry = new BufferGeometry(device);\n  bufferGeometry.setVertexBuffer({\n    bufferIndex: VertexAttributeBufferIndex.MAX,\n    byteStride: 4 * 3,\n    frequency: VertexBufferFrequency.PerVertex,\n    attributes: [\n      {\n        format: Format.F32_RGB,\n        bufferByteOffset: 4 * 0,\n        location: VertexAttributeLocation.MAX,\n      },\n    ],\n    // use 6 vertices\n    data: Float32Array.from([\n      -100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, -100.0, 100.0, -100.0, -100.0, 100.0,\n    ]),\n  });\n  // draw 4 vertices\n  bufferGeometry.vertexCount = 4;\n  // use GL_POINT instead of GL_TRIANGLES\n  bufferGeometry.drawMode = PrimitiveTopology.Points;\n\n  // load texture with URL\n  const map = renderer.loadTexture('https://threejs.org/examples/textures/sprites/snowflake1.png');\n  const pointMaterial = new PointMaterial(device, {\n    size: 100,\n    map,\n    depthTest: false,\n  });\n\n  const mesh = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: bufferGeometry,\n      material: pointMaterial,\n    },\n  });\n  mesh.setPosition(300, 250, 0);\n  canvas.appendChild(mesh);\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n  });\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n\n  const pointFolder = gui.addFolder('point');\n  const pointConfig = {\n    size: 100,\n    vertexNum: 4,\n  };\n  pointFolder.add(pointConfig, 'size', 1, 100, 1).onChange((size) => {\n    pointMaterial.size = size;\n  });\n  pointFolder.add(pointConfig, 'vertexNum', 0, 4, 1).onChange((vertexNum) => {\n    bufferGeometry.vertexCount = vertexNum;\n  });\n  pointFolder.open();\n})();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"stats.js\", \"lil-gui\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"stats.js\"), require(\"lil-gui\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.stats, global.lilGui);\n    global.point = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, _stats, lil) {\n  \"use strict\";\n\n  _stats = _interopRequireDefault(_stats);\n  lil = _interopRequireWildcard(lil);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  /**\n   * ported from @see https://threejs.org/examples/#webgl_points_sprites\n   */\n  // create a renderer\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin());\n  renderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer,\n    background: 'black'\n  });\n\n  (async function () {\n    // wait for canvas' initialization complete\n    await canvas.ready; // use GPU device\n\n    var device = renderer.getDevice(); // create buffer geometry\n\n    var bufferGeometry = new _gPlugin3d.BufferGeometry(device);\n    bufferGeometry.setVertexBuffer({\n      bufferIndex: _gPlugin3d.VertexAttributeBufferIndex.MAX,\n      byteStride: 4 * 3,\n      frequency: _gPlugin3d.VertexBufferFrequency.PerVertex,\n      attributes: [{\n        format: _gPlugin3d.Format.F32_RGB,\n        bufferByteOffset: 4 * 0,\n        location: _gPlugin3d.VertexAttributeLocation.MAX\n      }],\n      // use 6 vertices\n      data: Float32Array.from([-100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, -100.0, 100.0, -100.0, -100.0, 100.0])\n    }); // draw 4 vertices\n\n    bufferGeometry.vertexCount = 4; // use GL_POINT instead of GL_TRIANGLES\n\n    bufferGeometry.drawMode = _gPlugin3d.PrimitiveTopology.Points; // load texture with URL\n\n    var map = renderer.loadTexture('https://threejs.org/examples/textures/sprites/snowflake1.png');\n    var pointMaterial = new _gPlugin3d.PointMaterial(device, {\n      size: 100,\n      map: map,\n      depthTest: false\n    });\n    var mesh = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: bufferGeometry,\n        material: pointMaterial\n      }\n    });\n    mesh.setPosition(300, 250, 0);\n    canvas.appendChild(mesh); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      }\n    }); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n    var pointFolder = gui.addFolder('point');\n    var pointConfig = {\n      size: 100,\n      vertexNum: 4\n    };\n    pointFolder.add(pointConfig, 'size', 1, 100, 1).onChange(function (size) {\n      pointMaterial.size = size;\n    });\n    pointFolder.add(pointConfig, 'vertexNum', 0, 4, 1).onChange(function (vertexNum) {\n      bufferGeometry.vertexCount = vertexNum;\n    });\n    pointFolder.open();\n  })();\n});"},{"relativePath":"3d/demo/torus.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/3d/demo/torus.js","order":4,"filename":"torus.js","title":{"zh":"圆环","en":"Torus"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport {\n  MeshPhongMaterial,\n  TorusGeometry,\n  DirectionalLight,\n  Mesh,\n  FogType,\n  Plugin as Plugin3D,\n} from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\nrenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n});\n\n(async () => {\n  // wait for canvas' initialization complete\n  await canvas.ready;\n  // use GPU device\n  const device = renderer.getDevice();\n\n  const torusGeometry = new TorusGeometry(device, {\n    tubeRadius: 30,\n    ringRadius: 200,\n  });\n  const basicMaterial = new MeshPhongMaterial(device);\n\n  const torus = new Mesh({\n    style: {\n      x: 300,\n      y: 250,\n      fill: 'white',\n      opacity: 1,\n      geometry: torusGeometry,\n      material: basicMaterial,\n    },\n  });\n\n  canvas.appendChild(torus);\n\n  // add a directional light into scene\n  const light = new DirectionalLight({\n    style: {\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n\n  const camera = canvas.getCamera();\n  camera.setPosition(300, 0, 500);\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n    torus.rotate(0, 0.2, 0);\n  });\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n\n  const torusFolder = gui.addFolder('torus');\n  const torusConfig = {\n    opacity: 1,\n    fill: '#1890FF',\n  };\n  torusFolder.add(torusConfig, 'opacity', 0, 1, 0.1).onChange((opacity) => {\n    torus.style.opacity = opacity;\n  });\n  torusFolder.addColor(torusConfig, 'fill').onChange((color) => {\n    torus.style.fill = color;\n  });\n  torusFolder.open();\n\n  const geometryFolder = gui.addFolder('geometry');\n  const geometryConfig = {\n    tubeRadius: 30,\n    ringRadius: 200,\n    segments: 30,\n    sides: 20,\n  };\n  geometryFolder.add(geometryConfig, 'tubeRadius', 10, 300).onChange((tubeRadius) => {\n    torusGeometry.tubeRadius = tubeRadius;\n  });\n  geometryFolder.add(geometryConfig, 'ringRadius', 10, 300).onChange((ringRadius) => {\n    torusGeometry.ringRadius = ringRadius;\n  });\n  geometryFolder.add(geometryConfig, 'segments', 2, 30, 1).onChange((segments) => {\n    torusGeometry.segments = segments;\n  });\n  geometryFolder.add(geometryConfig, 'sides', 2, 30, 1).onChange((sides) => {\n    torusGeometry.sides = sides;\n  });\n  geometryFolder.open();\n\n  const materialFolder = gui.addFolder('material');\n  const materialConfig = {\n    wireframe: false,\n    map: 'none',\n    fogType: FogType.NONE,\n    fogColor: '#000000',\n    fogDensity: 0.5,\n    fogStart: 1,\n    fogEnd: 1000,\n  };\n  materialFolder.add(materialConfig, 'wireframe').onChange((enable) => {\n    torus.style.material.wireframe = !!enable;\n  });\n  materialFolder\n    .add(materialConfig, 'map', [\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*npAsSLPX4A4AAAAAAAAAAAAAARQnAQ',\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n      'none',\n    ])\n    .onChange((mapURL) => {\n      if (mapURL === 'none') {\n        torus.style.material.map = null;\n      } else {\n        const map = renderer.loadTexture(mapURL);\n        torus.style.material.map = map;\n      }\n    });\n  const fogTypes = [FogType.NONE, FogType.EXP, FogType.EXP2, FogType.LINEAR];\n  materialFolder.add(materialConfig, 'fogType', fogTypes).onChange((fogType) => {\n    // FogType.NONE\n    torus.style.material.fogType = fogType;\n  });\n  materialFolder.addColor(materialConfig, 'fogColor').onChange((fogColor) => {\n    torus.style.material.fogColor = fogColor;\n  });\n  materialFolder.add(materialConfig, 'fogDensity', 0, 10).onChange((fogDensity) => {\n    torus.style.material.fogDensity = fogDensity;\n  });\n  materialFolder.add(materialConfig, 'fogStart', 0, 1000).onChange((fogStart) => {\n    torus.style.material.fogStart = fogStart;\n  });\n  materialFolder.add(materialConfig, 'fogEnd', 0, 1000).onChange((fogEnd) => {\n    torus.style.material.fogEnd = fogEnd;\n  });\n  materialFolder.open();\n})();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.lilGui, global.stats);\n    global.torus = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin());\n  renderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer\n  });\n\n  (async function () {\n    // wait for canvas' initialization complete\n    await canvas.ready; // use GPU device\n\n    var device = renderer.getDevice();\n    var torusGeometry = new _gPlugin3d.TorusGeometry(device, {\n      tubeRadius: 30,\n      ringRadius: 200\n    });\n    var basicMaterial = new _gPlugin3d.MeshPhongMaterial(device);\n    var torus = new _gPlugin3d.Mesh({\n      style: {\n        x: 300,\n        y: 250,\n        fill: 'white',\n        opacity: 1,\n        geometry: torusGeometry,\n        material: basicMaterial\n      }\n    });\n    canvas.appendChild(torus); // add a directional light into scene\n\n    var light = new _gPlugin3d.DirectionalLight({\n      style: {\n        fill: 'white',\n        direction: [-1, 0, 1]\n      }\n    });\n    canvas.appendChild(light);\n    var camera = canvas.getCamera();\n    camera.setPosition(300, 0, 500); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      }\n\n      torus.rotate(0, 0.2, 0);\n    }); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n    var torusFolder = gui.addFolder('torus');\n    var torusConfig = {\n      opacity: 1,\n      fill: '#1890FF'\n    };\n    torusFolder.add(torusConfig, 'opacity', 0, 1, 0.1).onChange(function (opacity) {\n      torus.style.opacity = opacity;\n    });\n    torusFolder.addColor(torusConfig, 'fill').onChange(function (color) {\n      torus.style.fill = color;\n    });\n    torusFolder.open();\n    var geometryFolder = gui.addFolder('geometry');\n    var geometryConfig = {\n      tubeRadius: 30,\n      ringRadius: 200,\n      segments: 30,\n      sides: 20\n    };\n    geometryFolder.add(geometryConfig, 'tubeRadius', 10, 300).onChange(function (tubeRadius) {\n      torusGeometry.tubeRadius = tubeRadius;\n    });\n    geometryFolder.add(geometryConfig, 'ringRadius', 10, 300).onChange(function (ringRadius) {\n      torusGeometry.ringRadius = ringRadius;\n    });\n    geometryFolder.add(geometryConfig, 'segments', 2, 30, 1).onChange(function (segments) {\n      torusGeometry.segments = segments;\n    });\n    geometryFolder.add(geometryConfig, 'sides', 2, 30, 1).onChange(function (sides) {\n      torusGeometry.sides = sides;\n    });\n    geometryFolder.open();\n    var materialFolder = gui.addFolder('material');\n    var materialConfig = {\n      wireframe: false,\n      map: 'none',\n      fogType: _gPlugin3d.FogType.NONE,\n      fogColor: '#000000',\n      fogDensity: 0.5,\n      fogStart: 1,\n      fogEnd: 1000\n    };\n    materialFolder.add(materialConfig, 'wireframe').onChange(function (enable) {\n      torus.style.material.wireframe = !!enable;\n    });\n    materialFolder.add(materialConfig, 'map', ['https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*npAsSLPX4A4AAAAAAAAAAAAAARQnAQ', 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ', 'none']).onChange(function (mapURL) {\n      if (mapURL === 'none') {\n        torus.style.material.map = null;\n      } else {\n        var map = renderer.loadTexture(mapURL);\n        torus.style.material.map = map;\n      }\n    });\n    var fogTypes = [_gPlugin3d.FogType.NONE, _gPlugin3d.FogType.EXP, _gPlugin3d.FogType.EXP2, _gPlugin3d.FogType.LINEAR];\n    materialFolder.add(materialConfig, 'fogType', fogTypes).onChange(function (fogType) {\n      // FogType.NONE\n      torus.style.material.fogType = fogType;\n    });\n    materialFolder.addColor(materialConfig, 'fogColor').onChange(function (fogColor) {\n      torus.style.material.fogColor = fogColor;\n    });\n    materialFolder.add(materialConfig, 'fogDensity', 0, 10).onChange(function (fogDensity) {\n      torus.style.material.fogDensity = fogDensity;\n    });\n    materialFolder.add(materialConfig, 'fogStart', 0, 1000).onChange(function (fogStart) {\n      torus.style.material.fogStart = fogStart;\n    });\n    materialFolder.add(materialConfig, 'fogEnd', 0, 1000).onChange(function (fogEnd) {\n      torus.style.material.fogEnd = fogEnd;\n    });\n    materialFolder.open();\n  })();\n});"},{"relativePath":"3d/demo/shader-material.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/3d/demo/shader-material.js","order":8,"filename":"shader-material.js","title":{"zh":"自定义 Material","en":"Use ShaderMaterial"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport {\n  ShaderMaterial,\n  BufferGeometry,\n  Mesh,\n  VertexBufferFrequency,\n  Format,\n  VertexAttributeLocation,\n  Plugin as Plugin3D,\n} from '@antv/g-plugin-3d';\nimport Stats from 'stats.js';\nimport * as lil from 'lil-gui';\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\n\n// create a canvas\nconst CANVAS_WIDTH = 600;\nconst CANVAS_HEIGHT = 500;\nconst canvas = new Canvas({\n  container: 'container',\n  width: CANVAS_WIDTH,\n  height: CANVAS_HEIGHT,\n  renderer,\n});\n\n(async () => {\n  // wait for canvas' initialization complete\n  await canvas.ready;\n\n  // use GPU device\n  const device = renderer.getDevice();\n\n  // create buffer geometry\n  const bufferGeometry = new BufferGeometry(device);\n  bufferGeometry.setVertexBuffer({\n    bufferIndex: 1,\n    byteStride: 4 * 3,\n    frequency: VertexBufferFrequency.PerVertex,\n    attributes: [\n      {\n        format: Format.F32_RGB,\n        bufferByteOffset: 4 * 0,\n        location: VertexAttributeLocation.MAX,\n      },\n    ],\n    // use 6 vertices\n    data: Float32Array.from([\n      -CANVAS_WIDTH / 2,\n      CANVAS_HEIGHT / 2,\n      100.0,\n      CANVAS_WIDTH / 2,\n      CANVAS_HEIGHT / 2,\n      100.0,\n      CANVAS_WIDTH / 2,\n      -CANVAS_HEIGHT / 2,\n      100.0,\n      CANVAS_WIDTH / 2,\n      -CANVAS_HEIGHT / 2,\n      100.0,\n      -CANVAS_WIDTH / 2,\n      -CANVAS_HEIGHT / 2,\n      100.0,\n      -CANVAS_WIDTH / 2,\n      CANVAS_HEIGHT / 2,\n      100.0,\n    ]),\n  });\n  // draw 6 vertices\n  bufferGeometry.vertexCount = 6;\n\n  const shaderMaterial = new ShaderMaterial(device, {\n    vertexShader: `\n    layout(std140) uniform ub_SceneParams {\n      mat4 u_ProjectionMatrix;\n      mat4 u_ViewMatrix;\n      vec3 u_CameraPosition;\n      float u_DevicePixelRatio;\n      vec2 u_Viewport;\n      float u_IsOrtho;\n    };\n    layout(std140) uniform ub_MaterialParams {\n      float u_Level;\n    };\n\n    layout(location = ${VertexAttributeLocation.MODEL_MATRIX0}) in vec4 a_ModelMatrix0;\n    layout(location = ${VertexAttributeLocation.MODEL_MATRIX1}) in vec4 a_ModelMatrix1;\n    layout(location = ${VertexAttributeLocation.MODEL_MATRIX2}) in vec4 a_ModelMatrix2;\n    layout(location = ${VertexAttributeLocation.MODEL_MATRIX3}) in vec4 a_ModelMatrix3;\n    layout(location = ${VertexAttributeLocation.MAX}) in vec3 a_Position;\n\n    void main() {\n      mat4 u_ModelMatrix = mat4(a_ModelMatrix0, a_ModelMatrix1, a_ModelMatrix2, a_ModelMatrix3);\n      gl_Position = u_ProjectionMatrix * u_ViewMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\n    }\n    `,\n    fragmentShader: ` \n    layout(std140) uniform ub_SceneParams {\n      mat4 u_ProjectionMatrix;\n      mat4 u_ViewMatrix;\n      vec3 u_CameraPosition;\n      float u_DevicePixelRatio;\n      vec2 u_Viewport;\n      float u_IsOrtho;\n    };\n\n    layout(std140) uniform ub_MaterialParams {\n      float u_Level;\n    };\n\n    layout(location = 0) out vec4 gbuf_color;\n    layout(location = 1) out vec4 gbuf_picking;\n\n    float random (vec2 st) {\n      return fract(sin(\n        dot(st.xy,vec2(12.9898,78.233)))*\n        43758.5453123);\n    }\n\n    float noise (in vec2 st) {\n      vec2 i = floor(st);\n      vec2 f = fract(st);\n\n      // Four corners in 2D of a tile\n      float a = random(i);\n      float b = random(i + vec2(1.0, 0.0));\n      float c = random(i + vec2(0.0, 1.0));\n      float d = random(i + vec2(1.0, 1.0));\n\n      vec2 u = smoothstep(0.,1.,f);\n\n      // Mix 4 coorners percentages\n      return mix(a, b, u.x) +\n              (c - a)* u.y * (1.0 - u.x) +\n              (d - b) * u.x * u.y;\n    }\n\n    // gradient noise\n    // float noise( in vec2 st ) {\n    //   vec2 i = floor(st);\n    //   vec2 f = fract(st);\n      \n    //   vec2 u = smoothstep(0., 1., f);\n\n    //   return mix( mix( dot( random( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ), \n    //                   dot( random( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\n    //               mix( dot( random( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ), \n    //                   dot( random( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\n    // }\n\n    void main() {\n      vec2 st = gl_FragCoord.xy / u_Viewport;\n      vec2 pos = vec2(st * u_Level);\n      float n = noise(pos);\n      gbuf_color = vec4(vec3(n), 1.0);\n      gbuf_picking = vec4(0.0);\n    }\n    `,\n  });\n  shaderMaterial.setUniforms({\n    u_Level: 5,\n  });\n  const mesh = new Mesh({\n    style: {\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: bufferGeometry,\n      material: shaderMaterial,\n    },\n  });\n  mesh.setPosition(300, 250, 0);\n  canvas.appendChild(mesh);\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n  });\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n\n  const noiseFolder = gui.addFolder('noise');\n  const noiseConfig = {\n    level: 5,\n  };\n  noiseFolder.add(noiseConfig, 'level', 1, 100, 1).onChange((level) => {\n    shaderMaterial.setUniforms({ u_Level: level });\n  });\n  noiseFolder.open();\n})();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"stats.js\", \"lil-gui\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"stats.js\"), require(\"lil-gui\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.stats, global.lilGui);\n    global.shaderMaterial = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _stats, lil) {\n  \"use strict\";\n\n  _stats = _interopRequireDefault(_stats);\n  lil = _interopRequireWildcard(lil);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  // create a renderer\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin()); // create a canvas\n\n  var CANVAS_WIDTH = 600;\n  var CANVAS_HEIGHT = 500;\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: CANVAS_WIDTH,\n    height: CANVAS_HEIGHT,\n    renderer: renderer\n  });\n\n  (async function () {\n    // wait for canvas' initialization complete\n    await canvas.ready; // use GPU device\n\n    var device = renderer.getDevice(); // create buffer geometry\n\n    var bufferGeometry = new _gPlugin3d.BufferGeometry(device);\n    bufferGeometry.setVertexBuffer({\n      bufferIndex: 1,\n      byteStride: 4 * 3,\n      frequency: _gPlugin3d.VertexBufferFrequency.PerVertex,\n      attributes: [{\n        format: _gPlugin3d.Format.F32_RGB,\n        bufferByteOffset: 4 * 0,\n        location: _gPlugin3d.VertexAttributeLocation.MAX\n      }],\n      // use 6 vertices\n      data: Float32Array.from([-CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2, 100.0, CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2, 100.0, CANVAS_WIDTH / 2, -CANVAS_HEIGHT / 2, 100.0, CANVAS_WIDTH / 2, -CANVAS_HEIGHT / 2, 100.0, -CANVAS_WIDTH / 2, -CANVAS_HEIGHT / 2, 100.0, -CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2, 100.0])\n    }); // draw 6 vertices\n\n    bufferGeometry.vertexCount = 6;\n    var shaderMaterial = new _gPlugin3d.ShaderMaterial(device, {\n      vertexShader: \"\\n    layout(std140) uniform ub_SceneParams {\\n      mat4 u_ProjectionMatrix;\\n      mat4 u_ViewMatrix;\\n      vec3 u_CameraPosition;\\n      float u_DevicePixelRatio;\\n      vec2 u_Viewport;\\n      float u_IsOrtho;\\n    };\\n    layout(std140) uniform ub_MaterialParams {\\n      float u_Level;\\n    };\\n\\n    layout(location = \".concat(_gPlugin3d.VertexAttributeLocation.MODEL_MATRIX0, \") in vec4 a_ModelMatrix0;\\n    layout(location = \").concat(_gPlugin3d.VertexAttributeLocation.MODEL_MATRIX1, \") in vec4 a_ModelMatrix1;\\n    layout(location = \").concat(_gPlugin3d.VertexAttributeLocation.MODEL_MATRIX2, \") in vec4 a_ModelMatrix2;\\n    layout(location = \").concat(_gPlugin3d.VertexAttributeLocation.MODEL_MATRIX3, \") in vec4 a_ModelMatrix3;\\n    layout(location = \").concat(_gPlugin3d.VertexAttributeLocation.MAX, \") in vec3 a_Position;\\n\\n    void main() {\\n      mat4 u_ModelMatrix = mat4(a_ModelMatrix0, a_ModelMatrix1, a_ModelMatrix2, a_ModelMatrix3);\\n      gl_Position = u_ProjectionMatrix * u_ViewMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\\n    }\\n    \"),\n      fragmentShader: \" \\n    layout(std140) uniform ub_SceneParams {\\n      mat4 u_ProjectionMatrix;\\n      mat4 u_ViewMatrix;\\n      vec3 u_CameraPosition;\\n      float u_DevicePixelRatio;\\n      vec2 u_Viewport;\\n      float u_IsOrtho;\\n    };\\n\\n    layout(std140) uniform ub_MaterialParams {\\n      float u_Level;\\n    };\\n\\n    layout(location = 0) out vec4 gbuf_color;\\n    layout(location = 1) out vec4 gbuf_picking;\\n\\n    float random (vec2 st) {\\n      return fract(sin(\\n        dot(st.xy,vec2(12.9898,78.233)))*\\n        43758.5453123);\\n    }\\n\\n    float noise (in vec2 st) {\\n      vec2 i = floor(st);\\n      vec2 f = fract(st);\\n\\n      // Four corners in 2D of a tile\\n      float a = random(i);\\n      float b = random(i + vec2(1.0, 0.0));\\n      float c = random(i + vec2(0.0, 1.0));\\n      float d = random(i + vec2(1.0, 1.0));\\n\\n      vec2 u = smoothstep(0.,1.,f);\\n\\n      // Mix 4 coorners percentages\\n      return mix(a, b, u.x) +\\n              (c - a)* u.y * (1.0 - u.x) +\\n              (d - b) * u.x * u.y;\\n    }\\n\\n    // gradient noise\\n    // float noise( in vec2 st ) {\\n    //   vec2 i = floor(st);\\n    //   vec2 f = fract(st);\\n      \\n    //   vec2 u = smoothstep(0., 1., f);\\n\\n    //   return mix( mix( dot( random( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ), \\n    //                   dot( random( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\\n    //               mix( dot( random( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ), \\n    //                   dot( random( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\\n    // }\\n\\n    void main() {\\n      vec2 st = gl_FragCoord.xy / u_Viewport;\\n      vec2 pos = vec2(st * u_Level);\\n      float n = noise(pos);\\n      gbuf_color = vec4(vec3(n), 1.0);\\n      gbuf_picking = vec4(0.0);\\n    }\\n    \"\n    });\n    shaderMaterial.setUniforms({\n      u_Level: 5\n    });\n    var mesh = new _gPlugin3d.Mesh({\n      style: {\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: bufferGeometry,\n        material: shaderMaterial\n      }\n    });\n    mesh.setPosition(300, 250, 0);\n    canvas.appendChild(mesh); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      }\n    }); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n    var noiseFolder = gui.addFolder('noise');\n    var noiseConfig = {\n      level: 5\n    };\n    noiseFolder.add(noiseConfig, 'level', 1, 100, 1).onChange(function (level) {\n      shaderMaterial.setUniforms({\n        u_Level: level\n      });\n    });\n    noiseFolder.open();\n  })();\n});"},{"relativePath":"3d/demo/sphere.js","absolutePath":"/Users/panyuqi/Documents/webgl/g/packages/site/examples/3d/demo/sphere.js","order":3,"filename":"sphere.js","title":{"zh":"球","en":"Sphere"},"source":"import { Canvas, CanvasEvent } from '@antv/g';\nimport { Renderer } from '@antv/g-webgl';\nimport {\n  MeshPhongMaterial,\n  SphereGeometry,\n  DirectionalLight,\n  Mesh,\n  Fog,\n  FogType,\n  Plugin as Plugin3D,\n} from '@antv/g-plugin-3d';\nimport { Plugin as PluginControl } from '@antv/g-plugin-control';\nimport * as lil from 'lil-gui';\nimport Stats from 'stats.js';\n\n// create a renderer\nconst renderer = new Renderer();\nrenderer.registerPlugin(new Plugin3D());\nrenderer.registerPlugin(new PluginControl());\n\n// create a canvas\nconst canvas = new Canvas({\n  container: 'container',\n  width: 600,\n  height: 500,\n  renderer,\n  background: 'black',\n});\n\n(async () => {\n  // wait for canvas' initialization complete\n  await canvas.ready;\n  // use GPU device\n  const device = renderer.getDevice();\n\n  const map = renderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*npAsSLPX4A4AAAAAAAAAAAAAARQnAQ',\n  );\n  const specularMap = renderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8wz0QaP_bjoAAAAAAAAAAAAAARQnAQ',\n  );\n  const bumpMap = renderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*kuUITY47ZhMAAAAAAAAAAAAAARQnAQ',\n  );\n  const cloudMap = renderer.loadTexture(\n    'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N2ooTq4cQroAAAAAAAAAAAAAARQnAQ',\n  );\n\n  // create a sphere geometry\n  const sphereGeometry = new SphereGeometry(device, {\n    radius: 200,\n    latitudeBands: 32,\n    longitudeBands: 32,\n  });\n  // create a material with Phong lighting model\n  const basicMaterial = new MeshPhongMaterial(device, {\n    map,\n    specular: 'white',\n    specularMap,\n    bumpMap,\n    bumpScale: 5,\n    shininess: 10,\n  });\n  const cloudMaterial = new MeshPhongMaterial(device, {\n    map: cloudMap,\n    doubleSide: true,\n    depthWrite: false,\n  });\n\n  // create a mesh\n  const sphere = new Mesh({\n    style: {\n      x: 300,\n      y: 250,\n      z: 0,\n      fill: '#1890FF',\n      opacity: 1,\n      geometry: sphereGeometry,\n      material: basicMaterial,\n    },\n  });\n  canvas.appendChild(sphere);\n\n  // const cloudMesh = new Mesh({\n  //   style: {\n  //     opacity: 0.2,\n  //     geometry: sphereGeometry,\n  //     material: cloudMaterial,\n  //   },\n  // });\n  // sphere.appendChild(cloudMesh);\n\n  // add a directional light into scene\n  const light = new DirectionalLight({\n    style: {\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n\n  // create fog, append to canvas later\n  const fog = new Fog();\n\n  // stats\n  const stats = new Stats();\n  stats.showPanel(0);\n  const $stats = stats.dom;\n  $stats.style.position = 'absolute';\n  $stats.style.left = '0px';\n  $stats.style.top = '0px';\n  const $wrapper = document.getElementById('container');\n  $wrapper.appendChild($stats);\n  canvas.addEventListener(CanvasEvent.AFTER_RENDER, () => {\n    if (stats) {\n      stats.update();\n    }\n    sphere.rotate(0, 0.2, 0);\n  });\n\n  // GUI\n  const gui = new lil.GUI({ autoPlace: false });\n  $wrapper.appendChild(gui.domElement);\n\n  const lightFolder = gui.addFolder('light');\n  const lightConfig = {\n    fill: '#FFF',\n    intensity: Math.PI,\n    directionX: -1,\n    directionY: 0,\n    directionZ: 1,\n  };\n  lightFolder.addColor(lightConfig, 'fill').onChange((fill) => {\n    light.style.fill = fill;\n  });\n  lightFolder.add(lightConfig, 'intensity', 0, 20).onChange((intensity) => {\n    light.style.intensity = intensity;\n  });\n  lightFolder.add(lightConfig, 'directionX', -1, 1).onChange((directionX) => {\n    const direction = light.style.direction;\n    light.style.direction = [directionX, direction[1], direction[2]];\n  });\n  lightFolder.add(lightConfig, 'directionY', -1, 1).onChange((directionY) => {\n    const direction = light.style.direction;\n    light.style.direction = [direction[0], directionY, direction[2]];\n  });\n  lightFolder.add(lightConfig, 'directionZ', -1, 1).onChange((directionZ) => {\n    const direction = light.style.direction;\n    light.style.direction = [direction[0], direction[1], directionZ];\n  });\n  lightFolder.open();\n\n  const fogFolder = gui.addFolder('fog');\n  const fogConfig = {\n    enable: false,\n    type: FogType.NONE,\n    fill: '#000',\n    start: 1,\n    end: 1000,\n    density: 0,\n  };\n  fogFolder.add(fogConfig, 'enable').onChange((enable) => {\n    if (enable) {\n      canvas.appendChild(fog);\n    } else {\n      canvas.removeChild(fog);\n    }\n  });\n  fogFolder\n    .add(fogConfig, 'type', [FogType.NONE, FogType.EXP, FogType.EXP2, FogType.LINEAR])\n    .onChange((type) => {\n      fog.style.type = type;\n    });\n  fogFolder.addColor(fogConfig, 'fill').onChange((fill) => {\n    fog.style.fill = fill;\n  });\n  fogFolder.add(fogConfig, 'start', 0, 1000).onChange((start) => {\n    fog.style.start = start;\n  });\n  fogFolder.add(fogConfig, 'end', 0, 1000).onChange((end) => {\n    fog.style.end = end;\n  });\n  fogFolder.add(fogConfig, 'density', 0, 5).onChange((density) => {\n    fog.style.density = density;\n  });\n  fogFolder.open();\n\n  const sphereFolder = gui.addFolder('sphere');\n  const sphereConfig = {\n    opacity: 1,\n    fill: '#1890FF',\n  };\n  sphereFolder.add(sphereConfig, 'opacity', 0, 1, 0.1).onChange((opacity) => {\n    sphere.style.opacity = opacity;\n  });\n  sphereFolder.addColor(sphereConfig, 'fill').onChange((color) => {\n    sphere.style.fill = color;\n  });\n  sphereFolder.open();\n\n  const geometryFolder = gui.addFolder('geometry');\n  const geometryConfig = {\n    radius: 200,\n    latitudeBands: 32,\n    longitudeBands: 32,\n  };\n  geometryFolder.add(geometryConfig, 'radius', 50, 300).onChange((radius) => {\n    sphereGeometry.radius = radius;\n  });\n  geometryFolder.add(geometryConfig, 'latitudeBands', 8, 64, 1).onChange((latitudeBands) => {\n    sphereGeometry.latitudeBands = latitudeBands;\n  });\n  geometryFolder.add(geometryConfig, 'longitudeBands', 8, 64, 1).onChange((longitudeBands) => {\n    sphereGeometry.longitudeBands = longitudeBands;\n  });\n  geometryFolder.open();\n\n  const materialFolder = gui.addFolder('material');\n  const materialConfig = {\n    map: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*npAsSLPX4A4AAAAAAAAAAAAAARQnAQ',\n    emissive: '#000000',\n    specular: '#FFFFFF',\n    specularMap:\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8wz0QaP_bjoAAAAAAAAAAAAAARQnAQ',\n    shininess: 10,\n    bumpMap:\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*kuUITY47ZhMAAAAAAAAAAAAAARQnAQ',\n    bumpScale: 5,\n    wireframe: false,\n  };\n  materialFolder\n    .add(materialConfig, 'map', [\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*npAsSLPX4A4AAAAAAAAAAAAAARQnAQ',\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ',\n      'none',\n    ])\n    .onChange((mapURL) => {\n      if (mapURL === 'none') {\n        sphere.style.material.map = null;\n      } else {\n        const map = renderer.loadTexture(mapURL);\n        sphere.style.material.map = map;\n      }\n    });\n  materialFolder.addColor(materialConfig, 'emissive').onChange((emissive) => {\n    sphere.style.material.emissive = emissive;\n  });\n  materialFolder.addColor(materialConfig, 'specular').onChange((specular) => {\n    sphere.style.material.specular = specular;\n  });\n  materialFolder\n    .add(materialConfig, 'specularMap', [\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8wz0QaP_bjoAAAAAAAAAAAAAARQnAQ',\n      'none',\n    ])\n    .onChange((specularMapURL) => {\n      if (specularMapURL === 'none') {\n        sphere.style.material.specularMap = null;\n      } else {\n        const specularMap = renderer.loadTexture(specularMapURL);\n        sphere.style.material.specularMap = specularMap;\n      }\n    });\n  materialFolder.add(materialConfig, 'shininess', 0, 100).onChange((shininess) => {\n    sphere.style.material.shininess = shininess;\n  });\n  materialFolder\n    .add(materialConfig, 'bumpMap', [\n      'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*kuUITY47ZhMAAAAAAAAAAAAAARQnAQ',\n      'none',\n    ])\n    .onChange((bumpMapURL) => {\n      if (bumpMapURL === 'none') {\n        sphere.style.material.bumpMap = null;\n      } else {\n        const bumpMap = renderer.loadTexture(bumpMapURL);\n        sphere.style.material.bumpMap = bumpMap;\n      }\n    });\n  materialFolder.add(materialConfig, 'bumpScale', 0, 10).onChange((bumpScale) => {\n    sphere.style.material.bumpScale = bumpScale;\n  });\n  materialFolder.add(materialConfig, 'wireframe').onChange((enable) => {\n    sphere.style.material.wireframe = !!enable;\n  });\n  materialFolder.open();\n})();\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/g\", \"@antv/g-webgl\", \"@antv/g-plugin-3d\", \"@antv/g-plugin-control\", \"lil-gui\", \"stats.js\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/g\"), require(\"@antv/g-webgl\"), require(\"@antv/g-plugin-3d\"), require(\"@antv/g-plugin-control\"), require(\"lil-gui\"), require(\"stats.js\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.g, global.gWebgl, global.gPlugin3d, global.gPluginControl, global.lilGui, global.stats);\n    global.sphere = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_g, _gWebgl, _gPlugin3d, _gPluginControl, lil, _stats) {\n  \"use strict\";\n\n  lil = _interopRequireWildcard(lil);\n  _stats = _interopRequireDefault(_stats);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  // create a renderer\n  var renderer = new _gWebgl.Renderer();\n  renderer.registerPlugin(new _gPlugin3d.Plugin());\n  renderer.registerPlugin(new _gPluginControl.Plugin()); // create a canvas\n\n  var canvas = new _g.Canvas({\n    container: 'container',\n    width: 600,\n    height: 500,\n    renderer: renderer,\n    background: 'black'\n  });\n\n  (async function () {\n    // wait for canvas' initialization complete\n    await canvas.ready; // use GPU device\n\n    var device = renderer.getDevice();\n    var map = renderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*npAsSLPX4A4AAAAAAAAAAAAAARQnAQ');\n    var specularMap = renderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8wz0QaP_bjoAAAAAAAAAAAAAARQnAQ');\n    var bumpMap = renderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*kuUITY47ZhMAAAAAAAAAAAAAARQnAQ');\n    var cloudMap = renderer.loadTexture('https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N2ooTq4cQroAAAAAAAAAAAAAARQnAQ'); // create a sphere geometry\n\n    var sphereGeometry = new _gPlugin3d.SphereGeometry(device, {\n      radius: 200,\n      latitudeBands: 32,\n      longitudeBands: 32\n    }); // create a material with Phong lighting model\n\n    var basicMaterial = new _gPlugin3d.MeshPhongMaterial(device, {\n      map: map,\n      specular: 'white',\n      specularMap: specularMap,\n      bumpMap: bumpMap,\n      bumpScale: 5,\n      shininess: 10\n    });\n    var cloudMaterial = new _gPlugin3d.MeshPhongMaterial(device, {\n      map: cloudMap,\n      doubleSide: true,\n      depthWrite: false\n    }); // create a mesh\n\n    var sphere = new _gPlugin3d.Mesh({\n      style: {\n        x: 300,\n        y: 250,\n        z: 0,\n        fill: '#1890FF',\n        opacity: 1,\n        geometry: sphereGeometry,\n        material: basicMaterial\n      }\n    });\n    canvas.appendChild(sphere); // const cloudMesh = new Mesh({\n    //   style: {\n    //     opacity: 0.2,\n    //     geometry: sphereGeometry,\n    //     material: cloudMaterial,\n    //   },\n    // });\n    // sphere.appendChild(cloudMesh);\n    // add a directional light into scene\n\n    var light = new _gPlugin3d.DirectionalLight({\n      style: {\n        fill: 'white',\n        direction: [-1, 0, 1]\n      }\n    });\n    canvas.appendChild(light); // create fog, append to canvas later\n\n    var fog = new _gPlugin3d.Fog(); // stats\n\n    var stats = new _stats.default();\n    stats.showPanel(0);\n    var $stats = stats.dom;\n    $stats.style.position = 'absolute';\n    $stats.style.left = '0px';\n    $stats.style.top = '0px';\n    var $wrapper = document.getElementById('container');\n    $wrapper.appendChild($stats);\n    canvas.addEventListener(_g.CanvasEvent.AFTER_RENDER, function () {\n      if (stats) {\n        stats.update();\n      }\n\n      sphere.rotate(0, 0.2, 0);\n    }); // GUI\n\n    var gui = new lil.GUI({\n      autoPlace: false\n    });\n    $wrapper.appendChild(gui.domElement);\n    var lightFolder = gui.addFolder('light');\n    var lightConfig = {\n      fill: '#FFF',\n      intensity: Math.PI,\n      directionX: -1,\n      directionY: 0,\n      directionZ: 1\n    };\n    lightFolder.addColor(lightConfig, 'fill').onChange(function (fill) {\n      light.style.fill = fill;\n    });\n    lightFolder.add(lightConfig, 'intensity', 0, 20).onChange(function (intensity) {\n      light.style.intensity = intensity;\n    });\n    lightFolder.add(lightConfig, 'directionX', -1, 1).onChange(function (directionX) {\n      var direction = light.style.direction;\n      light.style.direction = [directionX, direction[1], direction[2]];\n    });\n    lightFolder.add(lightConfig, 'directionY', -1, 1).onChange(function (directionY) {\n      var direction = light.style.direction;\n      light.style.direction = [direction[0], directionY, direction[2]];\n    });\n    lightFolder.add(lightConfig, 'directionZ', -1, 1).onChange(function (directionZ) {\n      var direction = light.style.direction;\n      light.style.direction = [direction[0], direction[1], directionZ];\n    });\n    lightFolder.open();\n    var fogFolder = gui.addFolder('fog');\n    var fogConfig = {\n      enable: false,\n      type: _gPlugin3d.FogType.NONE,\n      fill: '#000',\n      start: 1,\n      end: 1000,\n      density: 0\n    };\n    fogFolder.add(fogConfig, 'enable').onChange(function (enable) {\n      if (enable) {\n        canvas.appendChild(fog);\n      } else {\n        canvas.removeChild(fog);\n      }\n    });\n    fogFolder.add(fogConfig, 'type', [_gPlugin3d.FogType.NONE, _gPlugin3d.FogType.EXP, _gPlugin3d.FogType.EXP2, _gPlugin3d.FogType.LINEAR]).onChange(function (type) {\n      fog.style.type = type;\n    });\n    fogFolder.addColor(fogConfig, 'fill').onChange(function (fill) {\n      fog.style.fill = fill;\n    });\n    fogFolder.add(fogConfig, 'start', 0, 1000).onChange(function (start) {\n      fog.style.start = start;\n    });\n    fogFolder.add(fogConfig, 'end', 0, 1000).onChange(function (end) {\n      fog.style.end = end;\n    });\n    fogFolder.add(fogConfig, 'density', 0, 5).onChange(function (density) {\n      fog.style.density = density;\n    });\n    fogFolder.open();\n    var sphereFolder = gui.addFolder('sphere');\n    var sphereConfig = {\n      opacity: 1,\n      fill: '#1890FF'\n    };\n    sphereFolder.add(sphereConfig, 'opacity', 0, 1, 0.1).onChange(function (opacity) {\n      sphere.style.opacity = opacity;\n    });\n    sphereFolder.addColor(sphereConfig, 'fill').onChange(function (color) {\n      sphere.style.fill = color;\n    });\n    sphereFolder.open();\n    var geometryFolder = gui.addFolder('geometry');\n    var geometryConfig = {\n      radius: 200,\n      latitudeBands: 32,\n      longitudeBands: 32\n    };\n    geometryFolder.add(geometryConfig, 'radius', 50, 300).onChange(function (radius) {\n      sphereGeometry.radius = radius;\n    });\n    geometryFolder.add(geometryConfig, 'latitudeBands', 8, 64, 1).onChange(function (latitudeBands) {\n      sphereGeometry.latitudeBands = latitudeBands;\n    });\n    geometryFolder.add(geometryConfig, 'longitudeBands', 8, 64, 1).onChange(function (longitudeBands) {\n      sphereGeometry.longitudeBands = longitudeBands;\n    });\n    geometryFolder.open();\n    var materialFolder = gui.addFolder('material');\n    var materialConfig = {\n      map: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*npAsSLPX4A4AAAAAAAAAAAAAARQnAQ',\n      emissive: '#000000',\n      specular: '#FFFFFF',\n      specularMap: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8wz0QaP_bjoAAAAAAAAAAAAAARQnAQ',\n      shininess: 10,\n      bumpMap: 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*kuUITY47ZhMAAAAAAAAAAAAAARQnAQ',\n      bumpScale: 5,\n      wireframe: false\n    };\n    materialFolder.add(materialConfig, 'map', ['https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*npAsSLPX4A4AAAAAAAAAAAAAARQnAQ', 'https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*N4ZMS7gHsUIAAAAAAAAAAABkARQnAQ', 'none']).onChange(function (mapURL) {\n      if (mapURL === 'none') {\n        sphere.style.material.map = null;\n      } else {\n        var _map = renderer.loadTexture(mapURL);\n\n        sphere.style.material.map = _map;\n      }\n    });\n    materialFolder.addColor(materialConfig, 'emissive').onChange(function (emissive) {\n      sphere.style.material.emissive = emissive;\n    });\n    materialFolder.addColor(materialConfig, 'specular').onChange(function (specular) {\n      sphere.style.material.specular = specular;\n    });\n    materialFolder.add(materialConfig, 'specularMap', ['https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*8wz0QaP_bjoAAAAAAAAAAAAAARQnAQ', 'none']).onChange(function (specularMapURL) {\n      if (specularMapURL === 'none') {\n        sphere.style.material.specularMap = null;\n      } else {\n        var _specularMap = renderer.loadTexture(specularMapURL);\n\n        sphere.style.material.specularMap = _specularMap;\n      }\n    });\n    materialFolder.add(materialConfig, 'shininess', 0, 100).onChange(function (shininess) {\n      sphere.style.material.shininess = shininess;\n    });\n    materialFolder.add(materialConfig, 'bumpMap', ['https://gw.alipayobjects.com/mdn/rms_6ae20b/afts/img/A*kuUITY47ZhMAAAAAAAAAAAAAARQnAQ', 'none']).onChange(function (bumpMapURL) {\n      if (bumpMapURL === 'none') {\n        sphere.style.material.bumpMap = null;\n      } else {\n        var _bumpMap = renderer.loadTexture(bumpMapURL);\n\n        sphere.style.material.bumpMap = _bumpMap;\n      }\n    });\n    materialFolder.add(materialConfig, 'bumpScale', 0, 10).onChange(function (bumpScale) {\n      sphere.style.material.bumpScale = bumpScale;\n    });\n    materialFolder.add(materialConfig, 'wireframe').onChange(function (enable) {\n      sphere.style.material.wireframe = !!enable;\n    });\n    materialFolder.open();\n  })();\n});"}]}},"staticQueryHashes":["1976131296","3000541721","3000541721","738567659"]}